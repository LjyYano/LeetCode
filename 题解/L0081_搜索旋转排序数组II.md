---
title: æœç´¢æ—‹è½¬æ’åºæ•°ç»„ II
date: 2025-02-09
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[æœç´¢æ—‹è½¬æ’åºæ•°ç»„ II](https://leetcode.cn/problems/search-in-rotated-sorted-array-ii/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`æ•°ç»„` `äºŒåˆ†æŸ¥æ‰¾`  
**ğŸŸ¡ éš¾åº¦**ï¼š`ä¸­ç­‰`  

å·²çŸ¥å­˜åœ¨ä¸€ä¸ªæŒ‰éé™åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ nums ï¼Œæ•°ç»„ä¸­çš„å€¼ä¸å¿…äº’ä¸ç›¸åŒã€‚

åœ¨ä¼ é€’ç»™å‡½æ•°ä¹‹å‰ï¼Œnums åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ kï¼ˆ0 <= k < nums.lengthï¼‰ä¸Šè¿›è¡Œäº† æ—‹è½¬ ï¼Œä½¿æ•°ç»„å˜ä¸º [nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]]ï¼ˆä¸‹æ ‡ ä» 0 å¼€å§‹ è®¡æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œ [0,1,2,4,4,4,5,6,6,7] åœ¨ä¸‹æ ‡ 5 å¤„ç»æ—‹è½¬åå¯èƒ½å˜ä¸º [4,5,6,6,7,0,1,2,4,4] ã€‚

ç»™ä½  æ—‹è½¬å çš„æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° target ï¼Œè¯·ä½ ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ç»™å®šçš„ç›®æ ‡å€¼æ˜¯å¦å­˜åœ¨äºæ•°ç»„ä¸­ã€‚å¦‚æœ nums ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ target ï¼Œåˆ™è¿”å› true ï¼Œå¦åˆ™è¿”å› false ã€‚

ä½ å¿…é¡»å°½å¯èƒ½å‡å°‘æ•´ä¸ªæ“ä½œæ­¥éª¤ã€‚

ç¤ºä¾‹ 1ï¼š
```
è¾“å…¥ï¼šnums = [2,5,6,0,0,1,2], target = 0
è¾“å‡ºï¼štrue
```

ç¤ºä¾‹ 2ï¼š
```
è¾“å…¥ï¼šnums = [2,5,6,0,0,1,2], target = 3
è¾“å‡ºï¼šfalse
```

æç¤ºï¼š
- 1 <= nums.length <= 5000
- -10â´ <= nums[i] <= 10â´
- é¢˜ç›®æ•°æ®ä¿è¯ nums åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ä¸Šè¿›è¡Œäº†æ—‹è½¬
- -10â´ <= target <= 10â´

è¿›é˜¶ï¼š
- è¿™æ˜¯ æœç´¢æ—‹è½¬æ’åºæ•°ç»„ çš„å»¶ä¼¸é¢˜ç›®ï¼Œæœ¬é¢˜ä¸­çš„ nums å¯èƒ½åŒ…å«é‡å¤å…ƒç´ ã€‚
- è¿™ä¼šå½±å“åˆ°ç¨‹åºçš„æ—¶é—´å¤æ‚åº¦å—ï¼Ÿä¼šæœ‰æ€æ ·çš„å½±å“ï¼Œä¸ºä»€ä¹ˆï¼Ÿ

---

## è§£é¢˜æ€è·¯
### äºŒåˆ†æŸ¥æ‰¾

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
æœ¬é¢˜æ˜¯æœç´¢æ—‹è½¬æ’åºæ•°ç»„çš„å˜ç§ï¼Œä¸»è¦åŒºåˆ«åœ¨äºæ•°ç»„ä¸­å¯èƒ½åŒ…å«é‡å¤å…ƒç´ ã€‚æˆ‘ä»¬ä»ç„¶å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ€æƒ³ï¼Œä½†éœ€è¦å¤„ç†é‡å¤å…ƒç´ å¸¦æ¥çš„ç‰¹æ®Šæƒ…å†µã€‚

ä¸»è¦æ€è·¯å¦‚ä¸‹ï¼š
1. ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œå°†æ•°ç»„åˆ†æˆä¸¤éƒ¨åˆ†
2. åˆ¤æ–­å“ªéƒ¨åˆ†æ˜¯æœ‰åºçš„ï¼Œç„¶ååˆ¤æ–­ç›®æ ‡å€¼æ˜¯å¦åœ¨æœ‰åºéƒ¨åˆ†ä¸­
3. å¯¹äºé‡å¤å…ƒç´ çš„æƒ…å†µï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†ä»¥é¿å…æ— æ³•åˆ¤æ–­å“ªéƒ¨åˆ†æœ‰åº

#### ğŸ› ï¸ å®ç°æ­¥éª¤
1. åˆå§‹åŒ–ï¼š
   - è®¾ç½®å·¦å³æŒ‡é’ˆ left å’Œ right
   - è®¡ç®—ä¸­é—´ä½ç½® mid

2. å¤„ç†é‡å¤å…ƒç´ ï¼š
   - å¦‚æœ nums[left] == nums[mid]ï¼Œæ— æ³•åˆ¤æ–­å“ªéƒ¨åˆ†æœ‰åº
   - æ­¤æ—¶å°† left æŒ‡é’ˆå³ç§»ä¸€ä½ï¼Œè·³è¿‡é‡å¤å…ƒç´ 

3. åˆ¤æ–­æœ‰åºéƒ¨åˆ†ï¼š
   - å¦‚æœ nums[left] <= nums[mid]ï¼Œå·¦åŠéƒ¨åˆ†æœ‰åº
   - å¦åˆ™å³åŠéƒ¨åˆ†æœ‰åº

4. åœ¨æœ‰åºéƒ¨åˆ†ä¸­æŸ¥æ‰¾ï¼š
   - å¦‚æœç›®æ ‡å€¼åœ¨æœ‰åºéƒ¨åˆ†çš„èŒƒå›´å†…ï¼Œåœ¨æœ‰åºéƒ¨åˆ†ç»§ç»­æŸ¥æ‰¾
   - å¦åˆ™åœ¨å¦ä¸€éƒ¨åˆ†ç»§ç»­æŸ¥æ‰¾

#### ğŸ§© ç¤ºä¾‹åˆ†æ
ä»¥ç¤ºä¾‹ 1 ä¸ºä¾‹ï¼Œåˆ†ææŸ¥æ‰¾è¿‡ç¨‹ï¼š
```
è¾“å…¥ï¼šnums = [2,5,6,0,0,1,2], target = 0
```

æŸ¥æ‰¾è¿‡ç¨‹è¡¨æ ¼è¯´æ˜ï¼š

| æ­¥éª¤ | æ•°ç»„èŒƒå›´ | left | mid | right | nums[mid] | æœ‰åºéƒ¨åˆ† | target ä½ç½® | æ“ä½œ |
|-----|---------|------|-----|-------|-----------|---------|------------|------|
| 1 | [2,5,6,0,0,1,2] | 0 | 3 | 6 | 0 | å·¦åŠéƒ¨åˆ† | å³åŠéƒ¨åˆ† | right = mid - 1 |
| 2 | [2,5,6] | 0 | 1 | 2 | 5 | å·¦åŠéƒ¨åˆ† | å³åŠéƒ¨åˆ† | right = mid - 1 |
| 3 | [2] | 0 | 0 | 0 | 2 | æ•´ä¸ªéƒ¨åˆ† | ä¸åœ¨èŒƒå›´å†… | è¿”å› false |

ç‰¹æ®Šæƒ…å†µåˆ†æï¼š
```
è¾“å…¥ï¼šnums = [1,0,1,1,1], target = 0
```

| æ­¥éª¤ | æ•°ç»„èŒƒå›´ | left | mid | right | è¯´æ˜ |
|-----|---------|------|-----|-------|------|
| 1 | [1,0,1,1,1] | 0 | 2 | 4 | nums[left] == nums[mid]ï¼Œæ— æ³•åˆ¤æ–­å“ªéƒ¨åˆ†æœ‰åº |
| 2 | [0,1,1,1] | 1 | 2 | 4 | å·¦ç§»ä¸€ä½åç»§ç»­æŸ¥æ‰¾ |
| 3 | [0,1,1] | 1 | 1 | 2 | æ‰¾åˆ°ç›®æ ‡å€¼ 0 |

---

## ä»£ç å®ç°

å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š[L0081_SearchInRotatedSortedArrayII.java](../src/main/java/L0081_SearchInRotatedSortedArrayII.java)

```java
public boolean search(int[] nums, int target) {
    if (nums == null || nums.length == 0) {
        return false;
    }
    
    int left = 0;
    int right = nums.length - 1;
    
    while (left <= right) {
        int mid = left + (right - left) / 2;
        
        // æ‰¾åˆ°ç›®æ ‡å€¼
        if (nums[mid] == target) {
            return true;
        }
        
        // å¤„ç†é‡å¤å…ƒç´ çš„æƒ…å†µ
        if (nums[left] == nums[mid]) {
            left++;
            continue;
        }
        
        // åˆ¤æ–­å“ªéƒ¨åˆ†æ˜¯æœ‰åºçš„
        if (nums[left] <= nums[mid]) {
            // å·¦åŠéƒ¨åˆ†æœ‰åº
            if (target >= nums[left] && target < nums[mid]) {
                right = mid - 1;
            } else {
                left = mid + 1;
            }
        } else {
            // å³åŠéƒ¨åˆ†æœ‰åº
            if (target > nums[mid] && target <= nums[right]) {
                left = mid + 1;
            } else {
                right = mid - 1;
            }
        }
    }
    
    return false;
}
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(n)
  - åœ¨æœ€åæƒ…å†µä¸‹ï¼ˆæ•°ç»„ä¸­æœ‰å¤§é‡é‡å¤å…ƒç´ ï¼‰ï¼Œå¯èƒ½éœ€è¦éå†æ•´ä¸ªæ•°ç»„
  - ä¾‹å¦‚æ•°ç»„ [1,1,1,1,1,1,1]ï¼Œæ¯æ¬¡æ¯”è¾ƒéƒ½éœ€è¦å°† left æŒ‡é’ˆå³ç§»ä¸€ä½
  - è¿™ä¸æ²¡æœ‰é‡å¤å…ƒç´ çš„æƒ…å†µï¼ˆO(log n)ï¼‰ç›¸æ¯”ï¼Œæ—¶é—´å¤æ‚åº¦æœ‰æ˜¾è‘—å¢åŠ 

- **ç©ºé—´å¤æ‚åº¦**ï¼šO(1)
  - åªä½¿ç”¨äº†å¸¸æ•°é¢å¤–ç©ºé—´
  - ä¸éœ€è¦é¢å¤–çš„æ•°æ®ç»“æ„

---

## LeetCode é¢˜è§£

æœ¬é¢˜è§£æ˜¯ LeetCode ç³»åˆ—é¢˜è§£çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç³»åˆ—é¢˜è§£è‡´åŠ›äºå¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ç®—æ³•æ€ç»´ï¼Œå†…å®¹åŒ…å«è¯¦ç»†çš„è§£é¢˜æ€è·¯åˆ†æã€å›¾æ–‡å¹¶èŒ‚çš„ç¤ºä¾‹è®²è§£å’Œå®Œæ•´çš„ä»£ç å®ç°ã€‚

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode)ï¼šæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿ Star â­ï¸ å…³æ³¨ï¼Œä¸€èµ·æ¢è®¨ç®—æ³•ä¹‹ç¾ã€‚ 