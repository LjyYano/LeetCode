---
title: åè½¬é“¾è¡¨ II
date: 2025-02-09
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[åè½¬é“¾è¡¨ II](https://leetcode.cn/problems/reverse-linked-list-ii/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`é“¾è¡¨`  
**ğŸŸ¡ éš¾åº¦**ï¼š`ä¸­ç­‰`  

ç»™ä½ å•é“¾è¡¨çš„å¤´æŒ‡é’ˆ head å’Œä¸¤ä¸ªæ•´æ•° left å’Œ right ï¼Œå…¶ä¸­ left <= right ã€‚è¯·ä½ åè½¬ä»ä½ç½® left åˆ°ä½ç½® right çš„é“¾è¡¨èŠ‚ç‚¹ï¼Œè¿”å› åè½¬åçš„é“¾è¡¨ ã€‚

ç¤ºä¾‹ 1ï¼š
```
è¾“å…¥ï¼šhead = [1,2,3,4,5], left = 2, right = 4
è¾“å‡ºï¼š[1,4,3,2,5]
```

ç¤ºä¾‹ 2ï¼š
```
è¾“å…¥ï¼šhead = [5], left = 1, right = 1
è¾“å‡ºï¼š[5]
```

æç¤ºï¼š
- é“¾è¡¨ä¸­èŠ‚ç‚¹æ•°ç›®ä¸º n
- 1 <= n <= 500
- -500 <= Node.val <= 500
- 1 <= left <= right <= n

---

## è§£é¢˜æ€è·¯
### å¤´æ’æ³•

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
æœ¬é¢˜å¯ä»¥ä½¿ç”¨å¤´æ’æ³•æ¥è§£å†³ã€‚å¤´æ’æ³•çš„æ€æƒ³æ˜¯ï¼šå°†éœ€è¦åè½¬çš„åŒºé—´å†…çš„èŠ‚ç‚¹ï¼Œä¾æ¬¡æ’å…¥åˆ°åŒºé—´çš„æœ€å‰é¢ã€‚è¿™æ ·å°±å¯ä»¥å®ç°åŒºé—´å†…èŠ‚ç‚¹çš„åè½¬ã€‚

å…³é”®ç‚¹æ˜¯ï¼š
1. ä½¿ç”¨è™šæ‹Ÿå¤´èŠ‚ç‚¹å¤„ç† left = 1 çš„ç‰¹æ®Šæƒ…å†µ
2. æ‰¾åˆ°åè½¬åŒºé—´çš„å‰ä¸€ä¸ªèŠ‚ç‚¹
3. ä½¿ç”¨å¤´æ’æ³•åè½¬æŒ‡å®šåŒºé—´çš„èŠ‚ç‚¹

#### ğŸ› ï¸ å®ç°æ­¥éª¤
1. å¤„ç†è¾¹ç•Œæƒ…å†µï¼š
   - å¦‚æœé“¾è¡¨ä¸ºç©ºæˆ–åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç›´æ¥è¿”å›
   - å¦‚æœ left ç­‰äº rightï¼Œæ— éœ€åè½¬ï¼Œç›´æ¥è¿”å›

2. åˆ›å»ºè™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼š
   - åˆ›å»ºä¸€ä¸ªå€¼ä¸º 0 çš„è™šæ‹Ÿå¤´èŠ‚ç‚¹
   - å°†è™šæ‹Ÿå¤´èŠ‚ç‚¹çš„ next æŒ‡å‘åŸé“¾è¡¨å¤´èŠ‚ç‚¹

3. æ‰¾åˆ°åè½¬åŒºé—´çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼š
   - ä»è™šæ‹Ÿå¤´èŠ‚ç‚¹å¼€å§‹ï¼Œç§»åŠ¨ left-1 æ­¥

4. åè½¬æŒ‡å®šåŒºé—´ï¼š
   - ä½¿ç”¨å¤´æ’æ³•ï¼Œå°†åŒºé—´å†…çš„èŠ‚ç‚¹ä¾æ¬¡æ’å…¥åˆ°åŒºé—´å¤´éƒ¨
   - å¾ªç¯ right-left æ¬¡

#### ğŸ§© ç¤ºä¾‹åˆ†æ
ä»¥ç¤ºä¾‹ 1 ä¸ºä¾‹ï¼Œåˆ†ææ•´ä¸ªè¿‡ç¨‹ï¼š
```
è¾“å…¥ï¼šhead = [1,2,3,4,5], left = 2, right = 4
```

åè½¬è¿‡ç¨‹ï¼š

1. åˆå§‹çŠ¶æ€ï¼š
   ```
   dummy -> 1 -> 2 -> 3 -> 4 -> 5
            â†‘    â†‘
            pre  cur
   ```

2. ç¬¬ä¸€æ¬¡æ’å…¥ï¼ˆå°† 3 æ’å…¥åˆ° 2 çš„å‰é¢ï¼‰ï¼š
   ```
   dummy -> 1 -> 3 -> 2 -> 4 -> 5
            â†‘         â†‘
            pre      cur
   ```

3. ç¬¬äºŒæ¬¡æ’å…¥ï¼ˆå°† 4 æ’å…¥åˆ° 3 çš„å‰é¢ï¼‰ï¼š
   ```
   dummy -> 1 -> 4 -> 3 -> 2 -> 5
            â†‘              â†‘
            pre           cur
   ```

4. æœ€ç»ˆç»“æœï¼š
   ```
   dummy -> 1 -> 4 -> 3 -> 2 -> 5
   ```

è¯¦ç»†åˆ†ææ¯ä¸€æ­¥çš„æŒ‡é’ˆå˜åŒ–ï¼š
1. ä¿å­˜ cur.next èŠ‚ç‚¹åˆ° next
2. å°† cur.next æŒ‡å‘ next.next
3. å°† next.next æŒ‡å‘ pre.next
4. å°† pre.next æŒ‡å‘ next

---

## ä»£ç å®ç°

å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š[L0092_ReverseLinkedListII.java](../src/main/java/L0092_ReverseLinkedListII.java)

```java
public ListNode reverseBetween(ListNode head, int left, int right) {
    // å¦‚æœé“¾è¡¨ä¸ºç©ºæˆ–è€…åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæˆ–è€… left ç­‰äº rightï¼Œç›´æ¥è¿”å›
    if (head == null || head.next == null || left == right) {
        return head;
    }

    // åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼Œæ–¹ä¾¿å¤„ç† left = 1 çš„æƒ…å†µ
    ListNode dummy = new ListNode(0);
    dummy.next = head;
    ListNode pre = dummy;

    // æ‰¾åˆ°è¦åè½¬éƒ¨åˆ†çš„å‰ä¸€ä¸ªèŠ‚ç‚¹
    for (int i = 1; i < left; i++) {
        pre = pre.next;
    }

    // å¼€å§‹åè½¬
    ListNode cur = pre.next;
    ListNode next;
    for (int i = 0; i < right - left; i++) {
        next = cur.next;
        cur.next = next.next;
        next.next = pre.next;
        pre.next = next;
    }

    return dummy.next;
}
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(n)
  - éœ€è¦éå†é“¾è¡¨æ‰¾åˆ°åè½¬åŒºé—´çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæœ€åæƒ…å†µä¸‹éœ€è¦éå† n ä¸ªèŠ‚ç‚¹
  - åè½¬åŒºé—´å†…çš„èŠ‚ç‚¹éœ€è¦ right-left æ¬¡æ“ä½œ
  - æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)

- **ç©ºé—´å¤æ‚åº¦**ï¼šO(1)
  - åªä½¿ç”¨äº†å¸¸æ•°ä¸ªé¢å¤–å˜é‡
  - æ²¡æœ‰ä½¿ç”¨é€’å½’ï¼Œä¸éœ€è¦é¢å¤–çš„æ ˆç©ºé—´

---

## LeetCode é¢˜è§£

æœ¬é¢˜è§£æ˜¯ LeetCode ç³»åˆ—é¢˜è§£çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç³»åˆ—é¢˜è§£è‡´åŠ›äºå¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ç®—æ³•æ€ç»´ï¼Œå†…å®¹åŒ…å«è¯¦ç»†çš„è§£é¢˜æ€è·¯åˆ†æã€å›¾æ–‡å¹¶èŒ‚çš„ç¤ºä¾‹è®²è§£å’Œå®Œæ•´çš„ä»£ç å®ç°ã€‚

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode)ï¼šæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿ Star â­ï¸ å…³æ³¨ï¼Œä¸€èµ·æ¢è®¨ç®—æ³•ä¹‹ç¾ã€‚ 