---
title: 汇总区间
date: 2025-02-10
---

## 题目描述

**🔗 题目**：[汇总区间](https://leetcode.cn/problems/summary-ranges/)  
**🏷️ 标签**：`数组`  
**🟡 难度**：`简单`  

给定一个  无重复元素 的 有序 整数数组 nums 。
返回 恰好覆盖数组中所有数字 的 最小有序 区间范围列表 。也就是说，nums 的每个元素都恰好被某个区间范围所覆盖，并且不存在属于某个范围但不属于 nums 的数字 x 。

列表中的每个区间范围 [a,b] 应该按如下格式输出：
- "a->b" ，如果 a != b
- "a" ，如果 a == b

示例 1：
```
输入：nums = [0,1,2,4,5,7]
输出：["0->2","4->5","7"]
解释：区间范围是：
[0,2] --> "0->2"
[4,5] --> "4->5"
[7,7] --> "7"
```

示例 2：
```
输入：nums = [0,2,3,4,6,8,9]
输出：["0","2->4","6","8->9"]
解释：区间范围是：
[0,0] --> "0"
[2,4] --> "2->4"
[6,6] --> "6"
[8,9] --> "8->9"
```

提示：
- 0 <= nums.length <= 20
- -2³¹ <= nums[i] <= 2³¹ - 1
- nums 中的所有值都 互不相同
- nums 按升序排列

---

## 解题思路
### 一次遍历

#### 📝 核心思想
题目要求我们将连续的数字合并成区间。由于数组已经排序且无重复元素，我们可以通过一次遍历来找出所有的区间：
1. 记录区间的起始位置
2. 遍历数组，当发现不连续的地方时，就生成一个区间
3. 根据区间的起始和结束位置是否相同，生成相应格式的字符串

#### 🛠️ 实现步骤
1. 创建结果列表，用于存储区间字符串
2. 记录区间的起始位置 start
3. 遍历数组：
   - 当遇到不连续的数字或到达数组末尾时，生成区间字符串
   - 如果起始位置等于结束位置，生成单个数字的字符串
   - 否则生成 "起始位置->结束位置" 格式的字符串
4. 更新下一个区间的起始位置
5. 返回结果列表

#### 🧩 示例分析
以示例 1 `nums = [0,1,2,4,5,7]` 为例：

| 步骤 | 当前位置 | 起始位置 | 是否连续 | 生成区间 | 结果列表 |
|-----|---------|---------|---------|---------|---------|
| 初始 | 0 | 0 | - | - | [] |
| 1 | 1 | 0 | 是 | - | [] |
| 2 | 2 | 0 | 是 | - | [] |
| 3 | 4 | 0 | 否 | "0->2" | ["0->2"] |
| 4 | 5 | 4 | 是 | - | ["0->2"] |
| 5 | 7 | 4 | 否 | "4->5" | ["0->2", "4->5"] |
| 结束 | - | 7 | - | "7" | ["0->2", "4->5", "7"] |

图形化展示：
```
数组：[0, 1, 2, 4, 5, 7]

第一个区间：
0 → 1 → 2   4   5   7
[---连续---]

第二个区间：
0   1   2   4 → 5   7
        [---连续---]

第三个区间：
0   1   2   4   5   7
                [单]

最终区间：["0->2", "4->5", "7"]
```

以示例 2 `nums = [0,2,3,4,6,8,9]` 为例：

| 步骤 | 当前位置 | 起始位置 | 是否连续 | 生成区间 | 结果列表 |
|-----|---------|---------|---------|---------|---------|
| 初始 | 0 | 0 | - | - | [] |
| 1 | 2 | 0 | 否 | "0" | ["0"] |
| 2 | 3 | 2 | 是 | - | ["0"] |
| 3 | 4 | 2 | 是 | - | ["0"] |
| 4 | 6 | 2 | 否 | "2->4" | ["0", "2->4"] |
| 5 | 8 | 6 | 否 | "6" | ["0", "2->4", "6"] |
| 6 | 9 | 8 | 是 | - | ["0", "2->4", "6"] |
| 结束 | - | 8 | - | "8->9" | ["0", "2->4", "6", "8->9"] |

图形化展示：
```
数组：[0, 2, 3, 4, 6, 8, 9]

第一个区间：
0   2   3   4   6   8   9
[单]

第二个区间：
0   2 → 3 → 4   6   8   9
    [---连续---]

第三个区间：
0   2   3   4   6   8   9
                [单]

第四个区间：
0   2   3   4   6   8 → 9
                [--连续--]

最终区间：["0", "2->4", "6", "8->9"]
```

---

## 代码实现

完整的可运行代码：[L0228_SummaryRanges.java](../src/main/java/L0228_SummaryRanges.java)

```java
public List<String> summaryRanges(int[] nums) {
    List<String> result = new ArrayList<>();
    if (nums == null || nums.length == 0) {
        return result;
    }
    
    // 区间的起始位置
    int start = nums[0];
    
    // 遍历数组，寻找区间
    for (int i = 1; i <= nums.length; i++) {
        // 当到达数组末尾或者不连续时，生成区间字符串
        if (i == nums.length || nums[i] != nums[i - 1] + 1) {
            // 如果起始位置和结束位置相同，只输出一个数字
            if (start == nums[i - 1]) {
                result.add(String.valueOf(start));
            } else {
                // 否则输出区间
                result.add(start + "->" + nums[i - 1]);
            }
            
            // 如果还没到数组末尾，更新起始位置
            if (i < nums.length) {
                start = nums[i];
            }
        }
    }
    
    return result;
}
```

---

## 复杂度分析

- **时间复杂度**：O(n)
  - 只需要遍历一次数组
  - 每个元素最多被访问一次
  - n 是数组的长度

- **空间复杂度**：O(1)
  - 除了返回的结果列表外，只使用了常数额外空间
  - 不考虑返回结果占用的空间

---

## LeetCode 题解

本题解是 LeetCode 系列题解的一部分。该系列题解致力于帮助程序员更好地理解和掌握算法思维，内容包含详细的解题思路分析、图文并茂的示例讲解和完整的代码实现。

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode 最全题解](https://github.com/LjyYano/LeetCode)：持续更新中，欢迎 Star ⭐️ 关注，一起探讨算法之美。 