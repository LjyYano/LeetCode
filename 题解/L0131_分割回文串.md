---
title: åˆ†å‰²å›æ–‡ä¸²
date: 2024-02-09
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[åˆ†å‰²å›æ–‡ä¸²](https://leetcode.cn/problems/palindrome-partitioning/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`æ·±åº¦ä¼˜å…ˆæœç´¢` `åŠ¨æ€è§„åˆ’` `å›æº¯ç®—æ³•`  
**ğŸŸ¡ éš¾åº¦**ï¼š`ä¸­ç­‰`  

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s`ï¼Œè¯·ä½ å°† `s` åˆ†å‰²æˆä¸€äº›å­ä¸²ï¼Œä½¿æ¯ä¸ªå­ä¸²éƒ½æ˜¯ å›æ–‡ä¸² ã€‚è¿”å› `s` æ‰€æœ‰å¯èƒ½çš„åˆ†å‰²æ–¹æ¡ˆã€‚

å›æ–‡ä¸² æ˜¯æ­£ç€è¯»å’Œåç€è¯»éƒ½ä¸€æ ·çš„å­—ç¬¦ä¸²ã€‚

**ç¤ºä¾‹ 1ï¼š**
```
è¾“å…¥ï¼šs = "aab"
è¾“å‡ºï¼š[["a","a","b"],["aa","b"]]
```

**ç¤ºä¾‹ 2ï¼š**
```
è¾“å…¥ï¼šs = "a"
è¾“å‡ºï¼š[["a"]]
```

**æç¤ºï¼š**
- `1 <= s.length <= 16`
- `s` ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

---

## è§£é¢˜æ€è·¯

### å›æº¯ç®—æ³•

#### ğŸ“ æ ¸å¿ƒæ€æƒ³

è¿™é“é¢˜å¯ä»¥ä½¿ç”¨å›æº¯ç®—æ³•æ¥è§£å†³ã€‚æˆ‘ä»¬éœ€è¦è€ƒè™‘å­—ç¬¦ä¸²çš„æ¯ä¸ªä½ç½®ä½œä¸ºå¯èƒ½çš„åˆ†å‰²ç‚¹ï¼Œç„¶ååˆ¤æ–­åˆ†å‰²å‡ºçš„å­ä¸²æ˜¯å¦ä¸ºå›æ–‡ä¸²ã€‚å¦‚æœæ˜¯å›æ–‡ä¸²ï¼Œæˆ‘ä»¬å°±ç»§ç»­å¤„ç†å‰©ä½™çš„å­ä¸²ï¼›å¦‚æœä¸æ˜¯å›æ–‡ä¸²ï¼Œå°±å°è¯•ä¸‹ä¸€ä¸ªåˆ†å‰²ç‚¹ã€‚

å…·ä½“æ€è·¯å¦‚ä¸‹ï¼š
1. ä»å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®å¼€å§‹ï¼Œå°è¯•æ¯ä¸ªå¯èƒ½çš„åˆ†å‰²ç‚¹
2. å¯¹äºæ¯ä¸ªåˆ†å‰²ç‚¹ï¼Œåˆ¤æ–­å·¦è¾¹çš„å­ä¸²æ˜¯å¦ä¸ºå›æ–‡ä¸²
3. å¦‚æœæ˜¯å›æ–‡ä¸²ï¼Œå°†å…¶åŠ å…¥å½“å‰æ–¹æ¡ˆï¼Œå¹¶é€’å½’å¤„ç†å³è¾¹çš„å­ä¸²
4. å½“å¤„ç†åˆ°å­—ç¬¦ä¸²æœ«å°¾æ—¶ï¼Œå°†å½“å‰æ–¹æ¡ˆåŠ å…¥ç»“æœé›†
5. å›æº¯æ—¶ï¼Œéœ€è¦ç§»é™¤æœ€åæ·»åŠ çš„å­ä¸²ï¼Œå°è¯•å…¶ä»–åˆ†å‰²æ–¹æ¡ˆ

#### ğŸ› ï¸ å®ç°æ­¥éª¤

1. å®šä¹‰å›æº¯å‡½æ•°ï¼Œæ¥æ”¶ä»¥ä¸‹å‚æ•°ï¼š
   - åŸå§‹å­—ç¬¦ä¸² s
   - å½“å‰å¤„ç†çš„èµ·å§‹ä½ç½® start
   - å½“å‰çš„åˆ†å‰²æ–¹æ¡ˆ current
   - æœ€ç»ˆçš„ç»“æœé›† result

2. å›æº¯è¿‡ç¨‹ï¼š
   - å¦‚æœèµ·å§‹ä½ç½®å·²ç»åˆ°è¾¾å­—ç¬¦ä¸²æœ«å°¾ï¼Œè¯´æ˜æ‰¾åˆ°ä¸€ä¸ªæœ‰æ•ˆæ–¹æ¡ˆ
   - å¦åˆ™ï¼Œå°è¯•æ‰€æœ‰å¯èƒ½çš„åˆ†å‰²ç‚¹
   - åˆ¤æ–­åˆ†å‰²å‡ºçš„å­ä¸²æ˜¯å¦ä¸ºå›æ–‡ä¸²
   - å¦‚æœæ˜¯å›æ–‡ä¸²ï¼ŒåŠ å…¥å½“å‰æ–¹æ¡ˆå¹¶ç»§ç»­é€’å½’

3. åˆ¤æ–­å›æ–‡ä¸²ï¼š
   - ä½¿ç”¨åŒæŒ‡é’ˆæ³•
   - ä»ä¸¤ç«¯å‘ä¸­é—´ç§»åŠ¨ï¼Œæ¯”è¾ƒå­—ç¬¦æ˜¯å¦ç›¸åŒ

#### ğŸ§© ç¤ºä¾‹åˆ†æ

ä»¥è¾“å…¥ `s = "aab"` ä¸ºä¾‹ï¼Œåˆ†ææ•´ä¸ªå›æº¯è¿‡ç¨‹ï¼š

1. åˆå§‹çŠ¶æ€ï¼š
   ```
   s = "aab"
   current = []
   ```

2. ç¬¬ä¸€å±‚é€’å½’ï¼ˆstart = 0ï¼‰ï¼š
   ```
   å°è¯•åˆ†å‰²ç‚¹ i = 0ï¼š
   - "a" æ˜¯å›æ–‡ä¸²
   - current = ["a"]
   - ç»§ç»­å¤„ç† "ab"
   ```

3. ç¬¬äºŒå±‚é€’å½’ï¼ˆstart = 1ï¼‰ï¼š
   ```
   å°è¯•åˆ†å‰²ç‚¹ i = 1ï¼š
   - "a" æ˜¯å›æ–‡ä¸²
   - current = ["a", "a"]
   - ç»§ç»­å¤„ç† "b"
   ```

4. ç¬¬ä¸‰å±‚é€’å½’ï¼ˆstart = 2ï¼‰ï¼š
   ```
   å°è¯•åˆ†å‰²ç‚¹ i = 2ï¼š
   - "b" æ˜¯å›æ–‡ä¸²
   - current = ["a", "a", "b"]
   - æ‰¾åˆ°ä¸€ä¸ªè§£ï¼š["a", "a", "b"]
   ```

5. å›æº¯åˆ°ç¬¬ä¸€å±‚ï¼š
   ```
   å°è¯•åˆ†å‰²ç‚¹ i = 1ï¼š
   - "aa" æ˜¯å›æ–‡ä¸²
   - current = ["aa"]
   - ç»§ç»­å¤„ç† "b"
   ```

6. ç¬¬äºŒå±‚é€’å½’ï¼š
   ```
   å°è¯•åˆ†å‰²ç‚¹ i = 2ï¼š
   - "b" æ˜¯å›æ–‡ä¸²
   - current = ["aa", "b"]
   - æ‰¾åˆ°å¦ä¸€ä¸ªè§£ï¼š["aa", "b"]
   ```

æœ€ç»ˆå¾—åˆ°ä¸¤ä¸ªè§£ï¼š
- `[["a", "a", "b"], ["aa", "b"]]`

---

## ä»£ç å®ç°

å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š[L0131_PalindromePartitioning.java](../src/main/java/L0131_PalindromePartitioning.java)

```java
public List<List<String>> partition(String s) {
    List<List<String>> result = new ArrayList<>();
    backtrack(s, 0, new ArrayList<>(), result);
    return result;
}

// å›æº¯æ–¹æ³•
private void backtrack(String s, int start, List<String> current, List<List<String>> result) {
    // å¦‚æœå·²ç»å¤„ç†åˆ°å­—ç¬¦ä¸²æœ«å°¾ï¼Œè¯´æ˜æ‰¾åˆ°äº†ä¸€ä¸ªæœ‰æ•ˆçš„åˆ†å‰²æ–¹æ¡ˆ
    if (start >= s.length()) {
        result.add(new ArrayList<>(current));
        return;
    }
    
    // å°è¯•æ‰€æœ‰å¯èƒ½çš„åˆ†å‰²ç‚¹
    for (int i = start; i < s.length(); i++) {
        // å¦‚æœä» start åˆ° i çš„å­ä¸²æ˜¯å›æ–‡ä¸²
        if (isPalindrome(s, start, i)) {
            // å°†è¿™ä¸ªå›æ–‡ä¸²åŠ å…¥å½“å‰æ–¹æ¡ˆ
            current.add(s.substring(start, i + 1));
            // é€’å½’å¤„ç†å‰©ä½™éƒ¨åˆ†
            backtrack(s, i + 1, current, result);
            // å›æº¯ï¼Œç§»é™¤æœ€åæ·»åŠ çš„å­ä¸²
            current.remove(current.size() - 1);
        }
    }
}

// åˆ¤æ–­å­ä¸²æ˜¯å¦ä¸ºå›æ–‡ä¸²
private boolean isPalindrome(String s, int start, int end) {
    while (start < end) {
        if (s.charAt(start) != s.charAt(end)) {
            return false;
        }
        start++;
        end--;
    }
    return true;
}
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(n Ã— 2â¿)
  - å¯¹äºé•¿åº¦ä¸º n çš„å­—ç¬¦ä¸²ï¼Œå¯èƒ½çš„åˆ†å‰²æ–¹æ¡ˆæ•°ä¸º 2â¿â»Â¹
  - æ¯ä¸ªåˆ†å‰²æ–¹æ¡ˆéƒ½éœ€è¦ O(n) çš„æ—¶é—´æ¥éªŒè¯æ˜¯å¦ä¸ºå›æ–‡ä¸²
  - å› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º O(n Ã— 2â¿)

- **ç©ºé—´å¤æ‚åº¦**ï¼šO(n)
  - é€’å½’è°ƒç”¨æ ˆçš„æ·±åº¦æœ€å¤§ä¸º n
  - å­˜å‚¨å½“å‰æ–¹æ¡ˆçš„ç©ºé—´ä¹Ÿæ˜¯ O(n)
  - ä¸è€ƒè™‘å­˜å‚¨æœ€ç»ˆç»“æœæ‰€éœ€çš„ç©ºé—´

## LeetCode é¢˜è§£

æœ¬é¢˜è§£æ˜¯ LeetCode ç³»åˆ—é¢˜è§£çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç³»åˆ—é¢˜è§£è‡´åŠ›äºå¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ç®—æ³•æ€ç»´ï¼Œå†…å®¹åŒ…å«è¯¦ç»†çš„è§£é¢˜æ€è·¯åˆ†æã€å›¾æ–‡å¹¶èŒ‚çš„ç¤ºä¾‹è®²è§£å’Œå®Œæ•´çš„ä»£ç å®ç°ã€‚

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode)ï¼šæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿ Star â­ï¸ å…³æ³¨ï¼Œä¸€èµ·æ¢è®¨ç®—æ³•ä¹‹ç¾ã€‚ 