---
title: å¯»æ‰¾æ’åˆ—
date: 2024-02-12
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[484. å¯»æ‰¾æ’åˆ—](https://leetcode.cn/problems/find-permutation/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`è´ªå¿ƒ` `æ ˆ` `å­—ç¬¦ä¸²`  
**ğŸŸ¡ éš¾åº¦**ï¼š`ä¸­ç­‰`  

ç°åœ¨ç»™å®šä¸€ä¸ªåªç”±å­—ç¬¦ `'D'` å’Œ `'I'` ç»„æˆçš„å­—ç¬¦ä¸² `s`ï¼Œå…¶ä¸­ï¼š
- `'D'` è¡¨ç¤ºé€’å‡
- `'I'` è¡¨ç¤ºé€’å¢

æ ¹æ®è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œä½ éœ€è¦è¾“å‡ºä¸€ä¸ªç”±æ•°å­— `1` åˆ° `n` ï¼ˆn = s.length + 1ï¼‰ç»„æˆçš„æ’åˆ—ï¼Œä½¿å¾—å¯¹äºå­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªä½ç½® `i`ï¼š
- å¦‚æœ `s[i] == 'D'`ï¼Œé‚£ä¹ˆæ’åˆ—ä¸­ `perm[i] > perm[i+1]`
- å¦‚æœ `s[i] == 'I'`ï¼Œé‚£ä¹ˆæ’åˆ—ä¸­ `perm[i] < perm[i+1]`

**ç¤ºä¾‹ 1ï¼š**
```
è¾“å…¥ï¼šs = "I"
è¾“å‡ºï¼š[1,2]
è§£é‡Šï¼š[1,2] å’Œ [2,1] éƒ½å¯ä»¥è¡¨ç¤º 'I'ï¼Œä½†æˆ‘ä»¬éœ€è¦æ‰¾å­—å…¸åºæœ€å°çš„ï¼Œå› æ­¤è¿”å› [1,2]ã€‚
```

**ç¤ºä¾‹ 2ï¼š**
```
è¾“å…¥ï¼šs = "DI"
è¾“å‡ºï¼š[2,1,3]
```

**ç¤ºä¾‹ 3ï¼š**
```
è¾“å…¥ï¼šs = "DDI"
è¾“å‡ºï¼š[3,2,1,4]
```

**æç¤ºï¼š**
- `1 <= s.length <= 10^5`
- `s[i]` æ˜¯ `'I'` æˆ– `'D'`

---

## è§£é¢˜æ€è·¯

### è´ªå¿ƒ+æ ˆæ³•

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
ä¸ºäº†å¾—åˆ°å­—å…¸åºæœ€å°çš„æ’åˆ—ï¼Œæˆ‘ä»¬åº”è¯¥ï¼š
- é‡åˆ° `'I'` æ—¶ï¼Œå°½å¯èƒ½ä½¿ç”¨å°çš„æ•°å­—
- é‡åˆ° `'D'` æ—¶ï¼Œéœ€è¦åè½¬ä¸€æ®µåºåˆ—

ä½¿ç”¨æ ˆæ¥å¤„ç†è¿ç»­çš„ `'D'`ï¼š
- é‡åˆ° `'D'` æ—¶ï¼Œå°†æ•°å­—å‹å…¥æ ˆ
- é‡åˆ° `'I'` æˆ–åˆ°è¾¾æœ«å°¾æ—¶ï¼Œå°†æ ˆä¸­çš„æ•°å­—å¼¹å‡ºåŠ å…¥ç»“æœ

#### ğŸ› ï¸ å®ç°æ­¥éª¤
1. åˆå§‹åŒ–ç»“æœæ•°ç»„å’Œæ ˆ
2. éå†å­—ç¬¦ä¸²ï¼ˆéœ€è¦éå† n ä¸ªæ•°å­—ï¼Œå³ s.length + 1ï¼‰
3. å°†å½“å‰æ•°å­—å‹å…¥æ ˆ
4. å¦‚æœå½“å‰æ˜¯ `'I'` æˆ–å·²åˆ°æœ«å°¾ï¼Œå¼¹å‡ºæ ˆä¸­æ‰€æœ‰æ•°å­—
5. è¿”å›ç»“æœæ•°ç»„

#### ğŸ§© ç¤ºä¾‹åˆ†æ
ä»¥ç¤ºä¾‹ 3 ä¸ºä¾‹ï¼š`s = "DDI"`

```
éœ€è¦ç”Ÿæˆ 4 ä¸ªæ•°å­—çš„æ’åˆ—

i=0, num=1, s[0]='D': æ ˆ=[1]
i=1, num=2, s[1]='D': æ ˆ=[1,2]
i=2, num=3, s[2]='I': æ ˆ=[1,2,3]
  é‡åˆ°'I'ï¼Œå¼¹å‡ºæ ˆï¼šresult=[3,2,1]
i=3, num=4, å·²åˆ°æœ«å°¾: æ ˆ=[4]
  åˆ°æœ«å°¾ï¼Œå¼¹å‡ºæ ˆï¼šresult=[3,2,1,4]

ç­”æ¡ˆï¼š[3,2,1,4]
```

### è´ªå¿ƒæ³•ï¼ˆä¸ç”¨æ ˆï¼‰

ç›´æ¥æ ¹æ®æ¨¡å¼æ„é€ ï¼š
- è¿ç»­çš„ `'D'` è¡¨ç¤ºä¸€æ®µé€’å‡åºåˆ—
- æ‰¾å‡ºæ¯æ®µé€’å‡åºåˆ—çš„é•¿åº¦ï¼Œä»åå¾€å‰å¡«å……æ•°å­—

---

## ä»£ç å®ç°

```java
import java.util.Stack;

public class L0484_FindPermutation {
    // æ–¹æ³•ä¸€ï¼šä½¿ç”¨æ ˆ
    public int[] findPermutation(String s) {
        int n = s.length() + 1;
        int[] result = new int[n];
        Stack<Integer> stack = new Stack<>();
        int idx = 0;
        
        for (int i = 0; i < n; i++) {
            stack.push(i + 1);
            
            // é‡åˆ°'I'æˆ–åˆ°è¾¾æœ«å°¾æ—¶ï¼Œå¼¹å‡ºæ ˆä¸­æ‰€æœ‰å…ƒç´ 
            if (i == n - 1 || s.charAt(i) == 'I') {
                while (!stack.isEmpty()) {
                    result[idx++] = stack.pop();
                }
            }
        }
        
        return result;
    }
    
    // æ–¹æ³•äºŒï¼šè´ªå¿ƒï¼ˆä¸ç”¨æ ˆï¼‰
    public int[] findPermutationGreedy(String s) {
        int n = s.length() + 1;
        int[] result = new int[n];
        
        // å…ˆå¡«å……é€’å¢åºåˆ—
        for (int i = 0; i < n; i++) {
            result[i] = i + 1;
        }
        
        // åè½¬æ‰€æœ‰'D'æ®µ
        int i = 0;
        while (i < s.length()) {
            if (s.charAt(i) == 'D') {
                int start = i;
                // æ‰¾åˆ°è¿ç»­'D'çš„ç»“æŸä½ç½®
                while (i < s.length() && s.charAt(i) == 'D') {
                    i++;
                }
                // åè½¬è¿™ä¸€æ®µ
                reverse(result, start, i);
            } else {
                i++;
            }
        }
        
        return result;
    }
    
    private void reverse(int[] arr, int start, int end) {
        while (start < end) {
            int temp = arr[start];
            arr[start] = arr[end];
            arr[end] = temp;
            start++;
            end--;
        }
    }
}
```

---

## å¤æ‚åº¦åˆ†æ

### ä½¿ç”¨æ ˆ
- **æ—¶é—´å¤æ‚åº¦**ï¼šO(n)ï¼Œæ¯ä¸ªæ•°å­—æœ€å¤šå…¥æ ˆå’Œå‡ºæ ˆå„ä¸€æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(n)ï¼Œæ ˆçš„ç©ºé—´ã€‚

### è´ªå¿ƒæ³•
- **æ—¶é—´å¤æ‚åº¦**ï¼šO(n)ï¼Œéœ€è¦éå†å­—ç¬¦ä¸²å’Œåè½¬éƒ¨åˆ†æ•°ç»„ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(1)ï¼Œé™¤äº†ç»“æœæ•°ç»„å¤–åªä½¿ç”¨å¸¸æ•°ç©ºé—´ã€‚

---

## ç›¸å…³é¢˜ç›®

- [ğŸ”— 31. ä¸‹ä¸€ä¸ªæ’åˆ—](https://leetcode.cn/problems/next-permutation/)
- [ğŸ”— 60. æ’åˆ—åºåˆ—](https://leetcode.cn/problems/permutation-sequence/)

---

## æ€»ç»“

è¿™é“é¢˜æ˜¯è´ªå¿ƒç®—æ³•çš„åº”ç”¨ã€‚è§£é¢˜çš„å…³é”®åœ¨äºï¼š
1. ç†è§£å­—å…¸åºæœ€å°çš„å«ä¹‰
2. è§‚å¯Ÿåˆ°è¿ç»­çš„ `'D'` éœ€è¦å½¢æˆé€’å‡åºåˆ—
3. ä½¿ç”¨æ ˆæˆ–åè½¬æ¥å¤„ç†é€’å‡æ®µ

é€šè¿‡è¿™é“é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å­¦ä¹ åˆ°ï¼š
1. æ ˆåœ¨å¤„ç†åºåˆ—åè½¬é—®é¢˜ä¸­çš„åº”ç”¨
2. è´ªå¿ƒç­–ç•¥çš„è®¾è®¡
3. å¦‚ä½•ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦

---

## LeetCode é¢˜è§£

æœ¬é¢˜è§£æ˜¯ LeetCode ç³»åˆ—é¢˜è§£çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç³»åˆ—é¢˜è§£è‡´åŠ›äºå¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ç®—æ³•æ€ç»´ï¼Œå†…å®¹åŒ…å«è¯¦ç»†çš„è§£é¢˜æ€è·¯åˆ†æã€å›¾æ–‡å¹¶èŒ‚çš„ç¤ºä¾‹è®²è§£å’Œå®Œæ•´çš„ä»£ç å®ç°ã€‚

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode)ï¼šæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿ Star â­ï¸ å…³æ³¨ï¼Œä¸€èµ·æ¢è®¨ç®—æ³•ä¹‹ç¾ã€‚ 