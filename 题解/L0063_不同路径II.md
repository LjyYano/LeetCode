---
title: ä¸åŒè·¯å¾„ II
date: 2025-02-09
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[ä¸åŒè·¯å¾„ II](https://leetcode.cn/problems/unique-paths-ii/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`æ•°ç»„` `åŠ¨æ€è§„åˆ’` `çŸ©é˜µ`  
**ğŸŸ¡ éš¾åº¦**ï¼š`ä¸­ç­‰`  

ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ª m x n ç½‘æ ¼çš„å·¦ä¸Šè§’ ï¼ˆèµ·å§‹ç‚¹åœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º "Start" ï¼‰ã€‚

æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ï¼ˆåœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º "Finish"ï¼‰ã€‚

ç°åœ¨è€ƒè™‘ç½‘æ ¼ä¸­æœ‰éšœç¢ç‰©ã€‚é‚£ä¹ˆä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’å°†ä¼šæœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ

ç½‘æ ¼ä¸­çš„éšœç¢ç‰©å’Œç©ºä½ç½®åˆ†åˆ«ç”¨ 1 å’Œ 0 æ¥è¡¨ç¤ºã€‚

![img](https://assets.leetcode.com/uploads/2020/11/04/robot1.jpg)

ç¤ºä¾‹ 1ï¼š
```
è¾“å…¥ï¼šobstacleGrid = [[0,0,0],[0,1,0],[0,0,0]]
è¾“å‡ºï¼š2
è§£é‡Šï¼š3x3 ç½‘æ ¼çš„æ­£ä¸­é—´æœ‰ä¸€ä¸ªéšœç¢ç‰©ã€‚
ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’ä¸€å…±æœ‰ 2 æ¡ä¸åŒçš„è·¯å¾„ï¼š
1. å‘å³ -> å‘å³ -> å‘ä¸‹ -> å‘ä¸‹
2. å‘ä¸‹ -> å‘ä¸‹ -> å‘å³ -> å‘å³
```

![img](https://assets.leetcode.com/uploads/2020/11/04/robot2.jpg)

ç¤ºä¾‹ 2ï¼š
```
è¾“å…¥ï¼šobstacleGrid = [[0,1],[0,0]]
è¾“å‡ºï¼š1
```

æç¤ºï¼š
- m == obstacleGrid.length
- n == obstacleGrid[i].length
- 1 <= m, n <= 100
- obstacleGrid[i][j] ä¸º 0 æˆ– 1

---

## è§£é¢˜æ€è·¯
### åŠ¨æ€è§„åˆ’

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
è¿™é“é¢˜æ˜¯"ä¸åŒè·¯å¾„"çš„è¿›é˜¶ç‰ˆæœ¬ï¼Œä¸»è¦åŒºåˆ«åœ¨äºç½‘æ ¼ä¸­æ·»åŠ äº†éšœç¢ç‰©ã€‚æˆ‘ä»¬ä»ç„¶å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ï¼Œä½†éœ€è¦ç‰¹åˆ«å¤„ç†éšœç¢ç‰©çš„æƒ…å†µã€‚å½“é‡åˆ°éšœç¢ç‰©æ—¶ï¼Œè¯¥ä½ç½®çš„è·¯å¾„æ•°ä¸º 0ï¼Œå› ä¸ºæ— æ³•é€šè¿‡éšœç¢ç‰©ã€‚

#### ğŸ› ï¸ å®ç°æ­¥éª¤
1. å¤„ç†ç‰¹æ®Šæƒ…å†µï¼š
   - å¦‚æœç½‘æ ¼ä¸ºç©ºï¼Œè¿”å› 0
   - å¦‚æœèµ·ç‚¹æˆ–ç»ˆç‚¹æœ‰éšœç¢ç‰©ï¼Œè¿”å› 0
2. åˆ›å»ºåŠ¨æ€è§„åˆ’æ•°ç»„ `dp[m][n]`ï¼Œä½¿ç”¨ long ç±»å‹é¿å…æº¢å‡º
3. åˆå§‹åŒ–ï¼š
   - è®¾ç½®èµ·ç‚¹ dp[0][0] = 1
   - åˆå§‹åŒ–ç¬¬ä¸€åˆ—ï¼šå¦‚æœé‡åˆ°éšœç¢ç‰©ï¼Œåç»­ä½ç½®éƒ½ä¸º 0
   - åˆå§‹åŒ–ç¬¬ä¸€è¡Œï¼šå¦‚æœé‡åˆ°éšœç¢ç‰©ï¼Œåç»­ä½ç½®éƒ½ä¸º 0
4. åŠ¨æ€è§„åˆ’è¿‡ç¨‹ï¼š
   - å¦‚æœå½“å‰ä½ç½®æ˜¯éšœç¢ç‰©ï¼Œdp[i][j] = 0
   - å¦åˆ™ï¼Œdp[i][j] = dp[i-1][j] + dp[i][j-1]
5. è¿”å› dp[m-1][n-1]

#### ğŸ§© ç¤ºä¾‹åˆ†æ
ä»¥ç¤ºä¾‹ 1 ä¸ºä¾‹ï¼Œåˆ†ææ±‚è§£è¿‡ç¨‹ï¼š

1. åˆå§‹çŠ¶æ€ï¼š
```
0  0  0
0  1  0
0  0  0

åˆå§‹åŒ– dp æ•°ç»„ï¼š
1  1  1
1  0  ?
1  ?  ?
```

2. è®¡ç®— dp[1][1]ï¼š
```
1  1  1
1  0  ?
1  ?  ?
```
ç”±äº (1,1) ä½ç½®æœ‰éšœç¢ç‰©ï¼Œdp[1][1] = 0

3. è®¡ç®— dp[1][2]ï¼š
```
1  1  1
1  0  1
1  ?  ?
```
dp[1][2] = dp[0][2] + dp[1][1] = 1 + 0 = 1

4. è®¡ç®— dp[2][1]ï¼š
```
1  1  1
1  0  1
1  1  ?
```
dp[2][1] = dp[1][1] + dp[2][0] = 0 + 1 = 1

5. è®¡ç®— dp[2][2]ï¼ˆæœ€ç»ˆç»“æœï¼‰ï¼š
```
1  1  1
1  0  1
1  1  2
```
dp[2][2] = dp[1][2] + dp[2][1] = 1 + 1 = 2

å› æ­¤ï¼Œä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’å…±æœ‰ 2 æ¡ä¸åŒçš„è·¯å¾„ã€‚

---

## ä»£ç å®ç°

å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š[L0063_UniquePathsII.java](../src/main/java/L0063_UniquePathsII.java)

```java
public int uniquePathsWithObstacles(int[][] obstacleGrid) {
    if (obstacleGrid == null || obstacleGrid.length == 0) {
        return 0;
    }

    int m = obstacleGrid.length;
    int n = obstacleGrid[0].length;

    // å¦‚æœèµ·ç‚¹æˆ–ç»ˆç‚¹æœ‰éšœç¢ç‰©ï¼Œç›´æ¥è¿”å› 0
    if (obstacleGrid[0][0] == 1 || obstacleGrid[m - 1][n - 1] == 1) {
        return 0;
    }

    // åˆ›å»ºåŠ¨æ€è§„åˆ’æ•°ç»„ï¼Œdp[i][j] è¡¨ç¤ºåˆ°è¾¾ä½ç½® (i,j) çš„ä¸åŒè·¯å¾„æ•°
    long[][] dp = new long[m][n];
    
    // åˆå§‹åŒ–èµ·ç‚¹
    dp[0][0] = 1;

    // åˆå§‹åŒ–ç¬¬ä¸€åˆ—
    for (int i = 1; i < m; i++) {
        dp[i][0] = obstacleGrid[i][0] == 1 ? 0 : dp[i - 1][0];
    }

    // åˆå§‹åŒ–ç¬¬ä¸€è¡Œ
    for (int j = 1; j < n; j++) {
        dp[0][j] = obstacleGrid[0][j] == 1 ? 0 : dp[0][j - 1];
    }

    // åŠ¨æ€è§„åˆ’è®¡ç®—æ¯ä¸ªä½ç½®çš„è·¯å¾„æ•°
    for (int i = 1; i < m; i++) {
        for (int j = 1; j < n; j++) {
            if (obstacleGrid[i][j] == 1) {
                dp[i][j] = 0;
            } else {
                dp[i][j] = dp[i - 1][j] + dp[i][j - 1];
            }
        }
    }

    return (int) dp[m - 1][n - 1];
}
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(m Ã— n)ã€‚éœ€è¦éå†æ•´ä¸ªç½‘æ ¼ä¸€æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(m Ã— n)ã€‚éœ€è¦ä¸€ä¸ª m Ã— n çš„äºŒç»´æ•°ç»„æ¥å­˜å‚¨ä¸­é—´ç»“æœã€‚

---

## LeetCode é¢˜è§£

æœ¬é¢˜è§£æ˜¯ LeetCode ç³»åˆ—é¢˜è§£çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç³»åˆ—é¢˜è§£è‡´åŠ›äºå¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ç®—æ³•æ€ç»´ï¼Œå†…å®¹åŒ…å«è¯¦ç»†çš„è§£é¢˜æ€è·¯åˆ†æã€å›¾æ–‡å¹¶èŒ‚çš„ç¤ºä¾‹è®²è§£å’Œå®Œæ•´çš„ä»£ç å®ç°ã€‚

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode)ï¼šæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿ Star â­ï¸ å…³æ³¨ï¼Œä¸€èµ·æ¢è®¨ç®—æ³•ä¹‹ç¾ã€‚ 