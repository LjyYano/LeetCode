---
title: ç”¨é˜Ÿåˆ—å®ç°æ ˆ
date: 2024-03-25
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[ç”¨é˜Ÿåˆ—å®ç°æ ˆ](https://leetcode.cn/problems/implement-stack-using-queues/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`æ ˆ` `é˜Ÿåˆ—` `è®¾è®¡`  
**ğŸŸ¢ éš¾åº¦**ï¼š`ç®€å•`  

è¯·ä½ ä»…ä½¿ç”¨ä¸¤ä¸ªé˜Ÿåˆ—å®ç°ä¸€ä¸ªåå…¥å…ˆå‡ºï¼ˆLIFOï¼‰çš„æ ˆï¼Œå¹¶æ”¯æŒæ™®é€šæ ˆçš„å…¨éƒ¨å››ç§æ“ä½œï¼ˆpushã€topã€pop å’Œ emptyï¼‰ã€‚

å®ç° MyStack ç±»ï¼š
- void push(int x) å°†å…ƒç´  x å‹å…¥æ ˆé¡¶ã€‚
- int pop() ç§»é™¤å¹¶è¿”å›æ ˆé¡¶å…ƒç´ ã€‚
- int top() è¿”å›æ ˆé¡¶å…ƒç´ ã€‚
- boolean empty() å¦‚æœæ ˆæ˜¯ç©ºçš„ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚

æ³¨æ„ï¼š
- ä½ åªèƒ½ä½¿ç”¨é˜Ÿåˆ—çš„åŸºæœ¬æ“ä½œ â€”â€” ä¹Ÿå°±æ˜¯ push to backã€peek/pop from frontã€size å’Œ is empty è¿™äº›æ“ä½œã€‚
- ä½ æ‰€ä½¿ç”¨çš„è¯­è¨€ä¹Ÿè®¸ä¸æ”¯æŒé˜Ÿåˆ—ã€‚ ä½ å¯ä»¥ä½¿ç”¨ list ï¼ˆåˆ—è¡¨ï¼‰æˆ–è€… dequeï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰æ¥æ¨¡æ‹Ÿä¸€ä¸ªé˜Ÿåˆ— , åªè¦æ˜¯æ ‡å‡†çš„é˜Ÿåˆ—æ“ä½œå³å¯ã€‚

**ç¤ºä¾‹ï¼š**
```
è¾“å…¥ï¼š
["MyStack", "push", "push", "top", "pop", "empty"]
[[], [1], [2], [], [], []]
è¾“å‡ºï¼š
[null, null, null, 2, 2, false]

è§£é‡Šï¼š
MyStack myStack = new MyStack();
myStack.push(1);
myStack.push(2);
myStack.top(); // è¿”å› 2
myStack.pop(); // è¿”å› 2
myStack.empty(); // è¿”å› False
```

**æç¤ºï¼š**
- 1 <= x <= 9
- æœ€å¤šè°ƒç”¨ 100 æ¬¡ pushã€popã€top å’Œ empty
- æ¯æ¬¡è°ƒç”¨ pop å’Œ top éƒ½ä¿è¯æ ˆä¸ä¸ºç©º

---

## è§£é¢˜æ€è·¯

### å•é˜Ÿåˆ—å®ç°

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
æ ˆæ˜¯åè¿›å…ˆå‡ºï¼ˆLIFOï¼‰çš„æ•°æ®ç»“æ„ï¼Œè€Œé˜Ÿåˆ—æ˜¯å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰çš„æ•°æ®ç»“æ„ã€‚è¦ç”¨é˜Ÿåˆ—å®ç°æ ˆçš„åŠŸèƒ½ï¼Œå…³é”®åœ¨äºå¦‚ä½•è°ƒæ•´å…ƒç´ çš„é¡ºåºï¼Œä½¿å¾—æœ€åè¿›å…¥çš„å…ƒç´ èƒ½å¤Ÿæœ€å…ˆè¢«å–å‡ºã€‚

æˆ‘ä»¬å¯ä»¥åœ¨æ¯æ¬¡å…¥æ ˆæ“ä½œæ—¶ï¼Œå°†æ–°å…ƒç´ åŠ å…¥é˜Ÿåˆ—åï¼Œå†å°†é˜Ÿåˆ—ä¸­åŸæœ‰çš„æ‰€æœ‰å…ƒç´ ä¾æ¬¡å‡ºé˜Ÿå¹¶é‡æ–°å…¥é˜Ÿï¼Œè¿™æ ·å°±èƒ½ä¿è¯æœ€æ–°åŠ å…¥çš„å…ƒç´ ä½äºé˜Ÿé¦–ï¼Œä»è€Œå®ç°æ ˆçš„åè¿›å…ˆå‡ºç‰¹æ€§ã€‚

#### ğŸ› ï¸ å®ç°æ­¥éª¤

1. push æ“ä½œï¼š
   - å°†æ–°å…ƒç´ åŠ å…¥é˜Ÿåˆ—
   - è·å–å½“å‰é˜Ÿåˆ—çš„å¤§å° size
   - å°†é˜Ÿåˆ—ä¸­å‰ size-1 ä¸ªå…ƒç´ ä¾æ¬¡å‡ºé˜Ÿå¹¶é‡æ–°å…¥é˜Ÿ
   
2. pop æ“ä½œï¼š
   - ç›´æ¥è¿”å›é˜Ÿé¦–å…ƒç´ å¹¶å°†å…¶ç§»é™¤
   
3. top æ“ä½œï¼š
   - ç›´æ¥è¿”å›é˜Ÿé¦–å…ƒç´ 
   
4. empty æ“ä½œï¼š
   - è¿”å›é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º

#### ğŸ§© ç¤ºä¾‹åˆ†æ

ä»¥ push(1)ã€push(2)ã€push(3) ä¸ºä¾‹ï¼Œæ¼”ç¤ºé˜Ÿåˆ—çš„å˜åŒ–è¿‡ç¨‹ï¼š

1. push(1)ï¼š
   ```
   é˜Ÿåˆ—ï¼š[1]
   ```

2. push(2)ï¼š
   ```
   åˆå§‹ï¼š[1]
   å…¥é˜Ÿ 2ï¼š[1,2]
   é‡æ’åºï¼š[2,1]
   ```

3. push(3)ï¼š
   ```
   åˆå§‹ï¼š[2,1]
   å…¥é˜Ÿ 3ï¼š[2,1,3]
   é‡æ’åºï¼š[3,2,1]
   ```

æ­¤æ—¶æ‰§è¡Œæ“ä½œï¼š
- top()ï¼šè¿”å› 3
- pop()ï¼šè¿”å› 3ï¼Œé˜Ÿåˆ—å˜ä¸º [2,1]
- empty()ï¼šè¿”å› false

---

## ä»£ç å®ç°

å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š[L0225_ImplementStackUsingQueues.java](../src/main/java/L0225_ImplementStackUsingQueues.java)

```java
public class L0225_ImplementStackUsingQueues {
    private Queue<Integer> queue;
    
    public L0225_ImplementStackUsingQueues() {
        queue = new LinkedList<>();
    }
    
    public void push(int x) {
        queue.offer(x);
        for (int i = 0; i < queue.size() - 1; i++) {
            queue.offer(queue.poll());
        }
    }
    
    public int pop() {
        return queue.poll();
    }
    
    public int top() {
        return queue.peek();
    }
    
    public boolean empty() {
        return queue.isEmpty();
    }
}
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š
  - pushï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯æ ˆä¸­å…ƒç´ çš„ä¸ªæ•°
  - popï¼šO(1)
  - topï¼šO(1)
  - emptyï¼šO(1)

- **ç©ºé—´å¤æ‚åº¦**ï¼šO(n)
  - éœ€è¦ä¸€ä¸ªé˜Ÿåˆ—å­˜å‚¨ n ä¸ªå…ƒç´ 

---

## ä¼˜åŒ–æ€è·¯

1. **åŒé˜Ÿåˆ—å®ç°**
   - å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªé˜Ÿåˆ—æ¥å®ç°æ ˆ
   - ä¸€ä¸ªé˜Ÿåˆ—ç”¨äºå­˜å‚¨å…ƒç´ ï¼Œå¦ä¸€ä¸ªé˜Ÿåˆ—ç”¨äºè¾…åŠ©æ“ä½œ
   - push æ“ä½œæ—¶ç›´æ¥å°†å…ƒç´ åŠ å…¥å­˜å‚¨é˜Ÿåˆ—
   - pop æ“ä½œæ—¶å°†å­˜å‚¨é˜Ÿåˆ—ä¸­é™¤äº†æœ€åä¸€ä¸ªå…ƒç´ å¤–çš„æ‰€æœ‰å…ƒç´ ç§»åˆ°è¾…åŠ©é˜Ÿåˆ—
   - è¿™ç§å®ç°æ–¹å¼çš„ push æ“ä½œæ˜¯ O(1)ï¼Œä½† pop æ“ä½œæ˜¯ O(n)

2. **ä½¿ç”¨ Deque**
   - Java çš„ Deque æ¥å£æä¾›äº†åŒç«¯é˜Ÿåˆ—çš„å®ç°
   - å¯ä»¥ç›´æ¥ä½¿ç”¨ Deque çš„åè¿›å…ˆå‡ºæ“ä½œæ¥å®ç°æ ˆ
   - ä½†è¿™è¿èƒŒäº†é¢˜ç›®åªä½¿ç”¨é˜Ÿåˆ—åŸºæœ¬æ“ä½œçš„è¦æ±‚

---

## ç›¸å…³é¢˜ç›®

- [232. ç”¨æ ˆå®ç°é˜Ÿåˆ—](https://leetcode.cn/problems/implement-queue-using-stacks/)
- [155. æœ€å°æ ˆ](https://leetcode.cn/problems/min-stack/)
- [å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—](https://leetcode.cn/problems/yong-liang-ge-zhan-shi-xian-dui-lie-lcof/) 