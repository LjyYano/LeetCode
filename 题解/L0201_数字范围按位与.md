---
title: 数字范围按位与
date: 2024-03-27
---

## 题目描述

**🔗 题目**：[数字范围按位与](https://leetcode.cn/problems/bitwise-and-of-numbers-range/)  
**🏷️ 标签**：`位运算`  
**🟡 难度**：`中等`  

给你两个整数 left 和 right ，表示区间 [left, right] ，返回此区间内所有数字 按位与 的结果（包含 left 、right 端点）。

**示例 1：**
```
输入：left = 5, right = 7
输出：4
```

**示例 2：**
```
输入：left = 0, right = 0
输出：0
```

**示例 3：**
```
输入：left = 1, right = 2147483647
输出：0
```

**提示：**
- 0 <= left <= right <= 2^31 - 1

---

## 解题思路

### 位移法

#### 📝 核心思想
关键观察：区间 [left, right] 的按位与结果等于 left 和 right 的公共前缀。这是因为在一个连续的数字区间内，除了最高的公共前缀位保持不变外，较低的位会在某个时刻从 0 变为 1，再从 1 变为 0，因此按位与的结果为 0。

#### 🛠️ 实现步骤
1. 不断右移 left 和 right，直到它们相等
2. 记录右移的次数
3. 将相等的值左移回原来的位置，即为结果

---

## 代码实现

完整的可运行代码：[L0201_BitwiseANDOfNumbersRange.java](../src/main/java/L0201_BitwiseANDOfNumbersRange.java)

```java
public int rangeBitwiseAnd(int left, int right) {
    int shift = 0;
    while (left < right) {
        left >>= 1;
        right >>= 1;
        shift++;
    }
    return left << shift;
}
```

---

## 复杂度分析

- **时间复杂度**：O(log n)，其中 n 是数字的位数
- **空间复杂度**：O(1)

---

## LeetCode 题解

本题解是 LeetCode 系列题解的一部分。该系列题解致力于帮助程序员更好地理解和掌握算法思维，内容包含详细的解题思路分析、图文并茂的示例讲解和完整的代码实现。

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode 最全题解](https://github.com/LjyYano/LeetCode)：持续更新中，欢迎 Star ⭐️ 关注，一起探讨算法之美。
