---
title: æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²
date: 2024-02-06
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode.cn/problems/longest-substring-without-repeating-characters/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`å“ˆå¸Œè¡¨` `å­—ç¬¦ä¸²` `æ»‘åŠ¨çª—å£`  
**ğŸŸ¡ éš¾åº¦**ï¼š`ä¸­ç­‰`  

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s`ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ **æœ€é•¿å­ä¸²** çš„é•¿åº¦ã€‚

**ç¤ºä¾‹ 1:**
```
è¾“å…¥: s = "abcabcbb"
è¾“å‡º: 3 
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "abc"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
```

**ç¤ºä¾‹ 2:**
```
è¾“å…¥: s = "bbbbb"
è¾“å‡º: 1
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "b"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚
```

**ç¤ºä¾‹ 3:**
```
è¾“å…¥: s = "pwwkew"
è¾“å‡º: 3
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "wke"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ"pwke" æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚
```

**æç¤ºï¼š**
- `0 <= s.length <= 5 * 104`
- `s` ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ã€ç¬¦å·å’Œç©ºæ ¼ç»„æˆ

---

## è§£é¢˜æ€è·¯

### æ»‘åŠ¨çª—å£ + å“ˆå¸Œè¡¨

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
ä½¿ç”¨æ»‘åŠ¨çª—å£æ¥ç»´æŠ¤å½“å‰æ— é‡å¤å­—ç¬¦çš„å­ä¸²ï¼ŒåŒæ—¶ä½¿ç”¨å“ˆå¸Œè¡¨è®°å½•æ¯ä¸ªå­—ç¬¦æœ€åå‡ºç°çš„ä½ç½®ï¼Œå®ç°å¿«é€Ÿåˆ¤æ–­å’Œæ›´æ–°çª—å£ã€‚

#### ğŸ› ï¸ å®ç°æ­¥éª¤
1. ä½¿ç”¨ HashMap å­˜å‚¨å­—ç¬¦åŠå…¶æœ€åå‡ºç°çš„ä½ç½®
2. ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆ start å’Œ end ç»´æŠ¤æ»‘åŠ¨çª—å£ï¼š
   - start è¡¨ç¤ºå½“å‰æ— é‡å¤å­ä¸²çš„èµ·å§‹ä½ç½®
   - end è¡¨ç¤ºå½“å‰éå†åˆ°çš„ä½ç½®
3. éå†å­—ç¬¦ä¸²ï¼Œå¯¹äºæ¯ä¸ªå­—ç¬¦ï¼š
   - å¦‚æœå­—ç¬¦å·²åœ¨çª—å£ä¸­å‡ºç°ï¼ˆå³å…¶ä¸Šæ¬¡å‡ºç°ä½ç½® >= startï¼‰ï¼Œæ›´æ–° start ä¸ºè¯¥å­—ç¬¦ä¸Šæ¬¡å‡ºç°ä½ç½®çš„ä¸‹ä¸€ä¸ªä½ç½®
   - æ›´æ–°å­—ç¬¦çš„æœ€æ–°ä½ç½®
   - æ›´æ–°æœ€é•¿å­ä¸²çš„é•¿åº¦

#### ğŸ§© ç¤ºä¾‹åˆ†æ
ä»¥ `s = "abcabcbb"` ä¸ºä¾‹ï¼š

| æ­¥éª¤ | çª—å£å†…å®¹ | å½“å‰å­—ç¬¦ | å“ˆå¸Œè¡¨ | æœ€é•¿é•¿åº¦ | è¯´æ˜ |
|------|----------|----------|---------|----------|------|
| åˆå§‹çŠ¶æ€ | [] | - | {} | 0 | åˆå§‹åŒ–ç©ºçª—å£ |
| Step 1 | [a] | a | {a:0} | 1 | åŠ å…¥å­—ç¬¦ 'a' |
| Step 2 | [ab] | b | {a:0, b:1} | 2 | åŠ å…¥å­—ç¬¦ 'b' |
| Step 3 | [abc] | c | {a:0, b:1, c:2} | 3 | åŠ å…¥å­—ç¬¦ 'c' |
| Step 4 | abc[a]bc | a | {a:3, b:1, c:2} | 3 | å‘ç°é‡å¤ 'a'ï¼Œçª—å£ç§»åŠ¨åˆ° b å¼€å§‹ |
| Step 5 | bc[ab]c | b | {a:3, b:4, c:2} | 3 | ç»§ç»­ç§»åŠ¨çª—å£ |
| Step 6 | c[abc] | c | {a:3, b:4, c:5} | 3 | ç»§ç»­ç§»åŠ¨çª—å£ |
| Step 7 | abc[b]b | b | {a:3, b:6, c:5} | 3 | å‘ç°é‡å¤ 'b'ï¼Œçª—å£ç§»åŠ¨ |
| Step 8 | abc[b] | b | {a:3, b:7, c:5} | 3 | å‘ç°é‡å¤ 'b'ï¼Œçª—å£ç§»åŠ¨ |

**è¯¦ç»†åˆ†æ**ï¼š
1. çª—å£æ‰©å±•é˜¶æ®µï¼š
   ```
   åŸå§‹ä¸²ï¼š  a  b  c  a  b  c  b  b
   Step 1ï¼š [a]
   Step 2ï¼š [a  b]
   Step 3ï¼š [a  b  c]
   ```

2. é‡åˆ°é‡å¤å­—ç¬¦ï¼Œçª—å£ç§»åŠ¨ï¼š
   ```
   åŸå§‹ä¸²ï¼š  a  b  c  a  b  c  b  b
   Step 4ï¼š  a [b  c  a]
   Step 5ï¼š     [b  c  a  b]
   Step 6ï¼š        [c  a  b  c]
   ```

3. æœ€åé˜¶æ®µï¼š
   ```
   åŸå§‹ä¸²ï¼š  a  b  c  a  b  c  b  b
   Step 7ï¼š           [a  b  c  b]
   Step 8ï¼š              [b  c  b]
   ```

**ç‰¹æ®Šæƒ…å†µç¤ºä¾‹**ï¼š
1. å…¨éƒ¨ç›¸åŒå­—ç¬¦ï¼š
   ```
   s = "bbbbb"
   ```
   | æ­¥éª¤ | çª—å£å†…å®¹ | å½“å‰å­—ç¬¦ | å“ˆå¸Œè¡¨ | æœ€é•¿é•¿åº¦ | è¯´æ˜ |
   |------|----------|----------|---------|----------|------|
   | Step 1 | [b] | b | {b:0} | 1 | åŠ å…¥ç¬¬ä¸€ä¸ª 'b' |
   | Step 2 | [b]b | b | {b:1} | 1 | å‘ç°é‡å¤ï¼Œçª—å£ç§»åŠ¨ |
   | Step 3 | b[b]b | b | {b:2} | 1 | ç»§ç»­ç§»åŠ¨ |
   | Step 4 | bb[b]b | b | {b:3} | 1 | ç»§ç»­ç§»åŠ¨ |
   | Step 5 | bbb[b] | b | {b:4} | 1 | ç»§ç»­ç§»åŠ¨ |

2. ä¸åŒå­—ç¬¦äº¤æ›¿ï¼š
   ```
   s = "pwwkew"
   ```
   | æ­¥éª¤ | çª—å£å†…å®¹ | å½“å‰å­—ç¬¦ | å“ˆå¸Œè¡¨ | æœ€é•¿é•¿åº¦ | è¯´æ˜ |
   |------|----------|----------|---------|----------|------|
   | Step 1 | [p] | p | {p:0} | 1 | åŠ å…¥ 'p' |
   | Step 2 | [pw] | w | {p:0, w:1} | 2 | åŠ å…¥ 'w' |
   | Step 3 | [pw]w | w | {p:0, w:2} | 2 | å‘ç°é‡å¤ 'w' |
   | Step 4 | w[wk] | k | {w:2, k:3} | 2 | çª—å£ç§»åŠ¨ |
   | Step 5 | w[wke] | e | {w:2, k:3, e:4} | 3 | æ‰©å±•çª—å£ |
   | Step 6 | w[wkew] | w | {w:5, k:3, e:4} | 3 | å‘ç°é‡å¤ 'w' |

---

## ä»£ç å®ç°

å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š[L0003_LongestSubstringWithoutRepeatingCharacters.java](../src/main/java/L0003_LongestSubstringWithoutRepeatingCharacters.java)

```java
public int lengthOfLongestSubstring(String s) {
    // ç‰¹æ®Šæƒ…å†µå¤„ç†
    if (s == null || s.length() == 0) {
        return 0;
    }
    
    // ä½¿ç”¨ HashMap å­˜å‚¨å­—ç¬¦åŠå…¶æœ€åå‡ºç°çš„ä½ç½®
    Map<Character, Integer> charMap = new HashMap<>();
    // æœ€é•¿å­ä¸²çš„é•¿åº¦
    int maxLength = 0;
    // å½“å‰æ— é‡å¤å­ä¸²çš„èµ·å§‹ä½ç½®
    int start = 0;
    
    // éå†å­—ç¬¦ä¸²
    for (int end = 0; end < s.length(); end++) {
        char currentChar = s.charAt(end);
        
        // å¦‚æœå½“å‰å­—ç¬¦å·²ç»åœ¨ map ä¸­ï¼Œå¹¶ä¸”å…¶ä½ç½®å¤§äºç­‰äº start
        // è¯´æ˜åœ¨å½“å‰çª—å£ä¸­å­˜åœ¨é‡å¤å­—ç¬¦ï¼Œéœ€è¦æ›´æ–°çª—å£çš„èµ·å§‹ä½ç½®
        if (charMap.containsKey(currentChar) && charMap.get(currentChar) >= start) {
            start = charMap.get(currentChar) + 1;
        }
        
        // æ›´æ–°å½“å‰å­—ç¬¦çš„ä½ç½®
        charMap.put(currentChar, end);
        // æ›´æ–°æœ€é•¿å­ä¸²çš„é•¿åº¦
        maxLength = Math.max(maxLength, end - start + 1);
    }
    
    return maxLength;
}
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š`O(n)`ï¼Œå…¶ä¸­ n æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚æˆ‘ä»¬åªéœ€è¦éå†ä¸€æ¬¡å­—ç¬¦ä¸²ï¼Œè€Œå“ˆå¸Œè¡¨çš„æŸ¥æ‰¾å’Œæ’å…¥æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼š`O(min(m,n))`ï¼Œå…¶ä¸­ m æ˜¯å­—ç¬¦é›†çš„å¤§å°ï¼Œn æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚æˆ‘ä»¬éœ€è¦ç”¨å“ˆå¸Œè¡¨å­˜å‚¨å­—ç¬¦çš„ä½ç½®ï¼Œè€Œå“ˆå¸Œè¡¨çš„å¤§å°å–å†³äºå­—ç¬¦é›†çš„å¤§å°å’Œå­—ç¬¦ä¸²çš„é•¿åº¦ä¸­çš„è¾ƒå°å€¼ã€‚

---

## LeetCode é¢˜è§£

[LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode) 