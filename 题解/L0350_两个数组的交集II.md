---
title: ä¸¤ä¸ªæ•°ç»„çš„äº¤é›† II
date: 2025-02-11
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[ä¸¤ä¸ªæ•°ç»„çš„äº¤é›† II](https://leetcode.cn/problems/intersection-of-two-arrays-ii/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`æ•°ç»„` `å“ˆå¸Œè¡¨` `åŒæŒ‡é’ˆ` `æ’åº`  
**ğŸŸ¢ éš¾åº¦**ï¼š`ç®€å•`  

ç»™ä½ ä¸¤ä¸ªæ•´æ•°æ•°ç»„ nums1 å’Œ nums2 ï¼Œè¯·ä½ ä»¥æ•°ç»„å½¢å¼è¿”å›ä¸¤æ•°ç»„çš„äº¤é›†ã€‚è¿”å›ç»“æœä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œåº”ä¸å…ƒç´ åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­éƒ½å‡ºç°çš„æ¬¡æ•°ä¸€è‡´ï¼ˆå¦‚æœå‡ºç°æ¬¡æ•°ä¸ä¸€è‡´ï¼Œåˆ™å–è¾ƒå°å€¼ï¼‰ã€‚

å¯ä»¥ä¸è€ƒè™‘è¾“å‡ºç»“æœçš„é¡ºåºã€‚

ç¤ºä¾‹ 1ï¼š
```
è¾“å…¥ï¼šnums1 = [1,2,2,1], nums2 = [2,2]
è¾“å‡ºï¼š[2,2]
```

ç¤ºä¾‹ 2ï¼š
```
è¾“å…¥ï¼šnums1 = [4,9,5], nums2 = [9,4,9,8,4]
è¾“å‡ºï¼š[4,9]
```

æç¤ºï¼š
* 1 <= nums1.length, nums2.length <= 1000
* 0 <= nums1[i], nums2[i] <= 1000

è¿›é˜¶ï¼š
* å¦‚æœç»™å®šçš„æ•°ç»„å·²ç»æ’å¥½åºå‘¢ï¼Ÿä½ å°†å¦‚ä½•ä¼˜åŒ–ä½ çš„ç®—æ³•ï¼Ÿ
* å¦‚æœ nums1 çš„å¤§å°æ¯” nums2 å°ï¼Œå“ªç§æ–¹æ³•æ›´ä¼˜ï¼Ÿ
* å¦‚æœ nums2 çš„å…ƒç´ å­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œå†…å­˜æ˜¯æœ‰é™çš„ï¼Œå¹¶ä¸”ä½ ä¸èƒ½ä¸€æ¬¡åŠ è½½æ‰€æœ‰çš„å…ƒç´ åˆ°å†…å­˜ä¸­ï¼Œä½ è¯¥æ€ä¹ˆåŠï¼Ÿ

---

## è§£é¢˜æ€è·¯
### å“ˆå¸Œè¡¨è®¡æ•°

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
1. ä½¿ç”¨ HashMap ç»Ÿè®¡ç¬¬ä¸€ä¸ªæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°
2. éå†ç¬¬äºŒä¸ªæ•°ç»„ï¼Œå¦‚æœå…ƒç´ åœ¨ HashMap ä¸­ä¸”æ¬¡æ•°å¤§äº 0ï¼Œåˆ™åŠ å…¥ç»“æœé›†å¹¶å‡å°‘æ¬¡æ•°
3. æœ€ç»ˆç»“æœåŒ…å«äº†ä¸¤ä¸ªæ•°ç»„ä¸­å…±åŒå‡ºç°çš„å…ƒç´ ï¼Œä¸”æ¯ä¸ªå…ƒç´ çš„å‡ºç°æ¬¡æ•°æ˜¯ä¸¤ä¸ªæ•°ç»„ä¸­å‡ºç°æ¬¡æ•°çš„è¾ƒå°å€¼

#### ğŸ› ï¸ å®ç°æ­¥éª¤
1. åˆå§‹åŒ–ï¼š
   - åˆ›å»º HashMap å­˜å‚¨ç¬¬ä¸€ä¸ªæ•°ç»„ä¸­å…ƒç´ çš„å‡ºç°æ¬¡æ•°
   - åˆ›å»º ArrayList å­˜å‚¨äº¤é›†ç»“æœ

2. å¤„ç†ç¬¬ä¸€ä¸ªæ•°ç»„ï¼š
   - éå† nums1
   - ç»Ÿè®¡æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œå­˜å…¥ HashMap

3. æŸ¥æ‰¾äº¤é›†ï¼š
   - éå† nums2
   - å¦‚æœå½“å‰å…ƒç´ åœ¨ HashMap ä¸­ä¸”æ¬¡æ•°å¤§äº 0
   - å°†è¯¥å…ƒç´ åŠ å…¥ç»“æœåˆ—è¡¨
   - å‡å°‘è¯¥å…ƒç´ åœ¨ HashMap ä¸­çš„è®¡æ•°

4. è½¬æ¢ç»“æœï¼š
   - å°† ArrayList è½¬æ¢ä¸ºæ•°ç»„è¿”å›

#### ğŸ§© ç¤ºä¾‹åˆ†æ
ä»¥ç¤ºä¾‹ 1ï¼šnums1 = [1,2,2,1], nums2 = [2,2] ä¸ºä¾‹ï¼š

| æ­¥éª¤ | æ“ä½œ | countMap | resultList | è¯´æ˜ |
|-----|------|----------|------------|-----|
| åˆå§‹çŠ¶æ€ | - | {} | [] | ç©ºçš„ Map å’Œ List |
| å¤„ç† nums1 | æ·»åŠ  1 | {1:1} | [] | 1 å‡ºç°ä¸€æ¬¡ |
| å¤„ç† nums1 | æ·»åŠ  2 | {1:1, 2:1} | [] | 2 å‡ºç°ä¸€æ¬¡ |
| å¤„ç† nums1 | æ·»åŠ  2 | {1:1, 2:2} | [] | 2 å‡ºç°ä¸¤æ¬¡ |
| å¤„ç† nums1 | æ·»åŠ  1 | {1:2, 2:2} | [] | 1 å‡ºç°ä¸¤æ¬¡ |
| å¤„ç† nums2 | æ£€æŸ¥ 2 | {1:2, 2:1} | [2] | æ‰¾åˆ° 2ï¼Œè®¡æ•°å‡ 1 |
| å¤„ç† nums2 | æ£€æŸ¥ 2 | {1:2, 2:0} | [2,2] | æ‰¾åˆ° 2ï¼Œè®¡æ•°å‡ 1 |

æœ€ç»ˆç»“æœï¼š[2,2]

ä»¥ç¤ºä¾‹ 2ï¼šnums1 = [4,9,5], nums2 = [9,4,9,8,4] ä¸ºä¾‹ï¼š

| æ­¥éª¤ | æ“ä½œ | countMap | resultList | è¯´æ˜ |
|-----|------|----------|------------|-----|
| åˆå§‹çŠ¶æ€ | - | {} | [] | ç©ºçš„ Map å’Œ List |
| å¤„ç† nums1 | æ·»åŠ  4,9,5 | {4:1, 9:1, 5:1} | [] | ç»Ÿè®¡ nums1 ä¸­å…ƒç´ æ¬¡æ•° |
| å¤„ç† nums2 | æ£€æŸ¥ 9 | {4:1, 9:0, 5:1} | [9] | æ‰¾åˆ° 9ï¼Œè®¡æ•°å‡ 1 |
| å¤„ç† nums2 | æ£€æŸ¥ 4 | {4:0, 9:0, 5:1} | [9,4] | æ‰¾åˆ° 4ï¼Œè®¡æ•°å‡ 1 |
| å¤„ç† nums2 | æ£€æŸ¥ 9 | {4:0, 9:0, 5:1} | [9,4] | 9 è®¡æ•°å·²ä¸º 0ï¼Œè·³è¿‡ |
| å¤„ç† nums2 | æ£€æŸ¥ 8 | {4:0, 9:0, 5:1} | [9,4] | 8 ä¸åœ¨ map ä¸­ï¼Œè·³è¿‡ |
| å¤„ç† nums2 | æ£€æŸ¥ 4 | {4:0, 9:0, 5:1} | [9,4] | 4 è®¡æ•°å·²ä¸º 0ï¼Œè·³è¿‡ |

æœ€ç»ˆç»“æœï¼š[9,4]

---

## ä»£ç å®ç°

å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š[L0350_IntersectionOfTwoArraysII.java](../src/main/java/L0350_IntersectionOfTwoArraysII.java)

```java
public class L0350_IntersectionOfTwoArraysII {
    public int[] intersect(int[] nums1, int[] nums2) {
        // ä½¿ç”¨ HashMap ç»Ÿè®¡ç¬¬ä¸€ä¸ªæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°
        Map<Integer, Integer> countMap = new HashMap<>();
        for (int num : nums1) {
            countMap.put(num, countMap.getOrDefault(num, 0) + 1);
        }
        
        // ä½¿ç”¨ List å­˜å‚¨äº¤é›†ç»“æœ
        List<Integer> resultList = new ArrayList<>();
        
        // éå†ç¬¬äºŒä¸ªæ•°ç»„
        for (int num : nums2) {
            // å¦‚æœå½“å‰å…ƒç´ åœ¨ map ä¸­ä¸”æ¬¡æ•°å¤§äº 0
            if (countMap.containsKey(num) && countMap.get(num) > 0) {
                resultList.add(num);
                // å‡å°‘è¯¥å…ƒç´ çš„è®¡æ•°
                countMap.put(num, countMap.get(num) - 1);
            }
        }
        
        // å°† List è½¬æ¢ä¸ºæ•°ç»„
        int[] result = new int[resultList.size()];
        for (int i = 0; i < resultList.size(); i++) {
            result[i] = resultList.get(i);
        }
        
        return result;
    }
}
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(m + n)ï¼Œå…¶ä¸­ m å’Œ n åˆ†åˆ«æ˜¯ä¸¤ä¸ªæ•°ç»„çš„é•¿åº¦
  - éå† nums1 æ„å»º HashMapï¼šO(m)
  - éå† nums2 æŸ¥æ‰¾äº¤é›†ï¼šO(n)
  - HashMap çš„æ·»åŠ å’ŒæŸ¥æ‰¾æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)

- **ç©ºé—´å¤æ‚åº¦**ï¼šO(min(m, n))
  - éœ€è¦ä½¿ç”¨ HashMap å­˜å‚¨ç¬¬ä¸€ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ åŠå…¶å‡ºç°æ¬¡æ•°ï¼šO(m)
  - éœ€è¦ä½¿ç”¨ ArrayList å­˜å‚¨äº¤é›†ç»“æœï¼šO(min(m, n))
  - æœ€ç»ˆçš„ç©ºé—´å¤æ‚åº¦å–å†³äºè¾ƒå°çš„æ•°ç»„é•¿åº¦

---

## LeetCode é¢˜è§£

æœ¬é¢˜è§£æ˜¯ LeetCode ç³»åˆ—é¢˜è§£çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç³»åˆ—é¢˜è§£è‡´åŠ›äºå¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ç®—æ³•æ€ç»´ï¼Œå†…å®¹åŒ…å«è¯¦ç»†çš„è§£é¢˜æ€è·¯åˆ†æã€å›¾æ–‡å¹¶èŒ‚çš„ç¤ºä¾‹è®²è§£å’Œå®Œæ•´çš„ä»£ç å®ç°ã€‚

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode)ï¼šæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿ Star â­ï¸ å…³æ³¨ï¼Œä¸€èµ·æ¢è®¨ç®—æ³•ä¹‹ç¾ã€‚ 