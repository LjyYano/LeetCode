---
title: 字符串中的单词数
date: 2024-03-27
---

## 题目描述

**🔗 题目**：[字符串中的单词数](https://leetcode.cn/problems/number-of-segments-in-a-string/description/)  
**🏷️ 标签**：`字符串`  
**🟢 难度**：`简单`  

统计字符串中的单词个数，这里的单词指的是连续的不是空格的字符。
请注意，你可以假定字符串里不包括任何不可打印的字符。

示例 1：
```
输入: "Hello, my name is John"
输出: 5
解释: 这里的单词是指连续的不是空格的字符，所以 "Hello," 算作 1 个单词。
```

示例 2：
```
输入: "Hello"
输出: 1
```

示例 3：
```
输入: "love live! mu'sic forever"
输出: 4
```

示例 4：
```
输入: ""
输出: 0
```

---

## 解题思路

### 遍历计数法

#### 📝 核心思想
要统计字符串中的单词数，我们可以通过识别单词的起始位置来计数。一个单词的起始位置有两种情况：
1. 字符串的第一个字符，如果它不是空格
2. 当前字符不是空格，但它前面的字符是空格

通过这种方式，我们可以准确地统计出字符串中的单词数，而不需要使用额外的空间。

#### 🛠️ 实现步骤
1. 特殊情况处理：
   - 如果字符串为 null 或空字符串，返回 0

2. 遍历字符串：
   - 如果当前字符不是空格，且
     - 它是第一个字符（i == 0），或者
     - 它前面的字符是空格
   - 则找到了一个新的单词，计数器加 1

3. 返回计数器的值

#### 🧩 示例分析
以输入字符串 `"Hello, my name is John"` 为例：

| 索引 | 字符 | 是否单词起始 | 计数 | 说明 |
|-----|------|------------|------|------|
| 0 | 'H' | 是 | 1 | 第一个字符且非空格 |
| 1 | 'e' | 否 | 1 | 非空格，但前一个字符也非空格 |
| 2 | 'l' | 否 | 1 | 非空格，但前一个字符也非空格 |
| 3 | 'l' | 否 | 1 | 非空格，但前一个字符也非空格 |
| 4 | 'o' | 否 | 1 | 非空格，但前一个字符也非空格 |
| 5 | ',' | 否 | 1 | 非空格，但前一个字符也非空格 |
| 6 | ' ' | 否 | 1 | 空格 |
| 7 | 'm' | 是 | 2 | 非空格，前一个字符是空格 |
| 8 | 'y' | 否 | 2 | 非空格，但前一个字符也非空格 |
| 9 | ' ' | 否 | 2 | 空格 |
| 10 | 'n' | 是 | 3 | 非空格，前一个字符是空格 |
| ... | ... | ... | ... | ... |
| 最终结果 | | | 5 | 总共找到 5 个单词 |

---

## 代码实现

完整的可运行代码：[L0434_NumberOfSegmentsInAString.java](../src/main/java/L0434_NumberOfSegmentsInAString.java)

```java
public int countSegments(String s) {
    // 特殊情况处理
    if (s == null || s.length() == 0) {
        return 0;
    }
    
    int count = 0;
    // 遍历字符串，如果当前字符不是空格，且前一个字符是空格（或是第一个字符），则找到一个新的单词
    for (int i = 0; i < s.length(); i++) {
        if ((i == 0 || s.charAt(i - 1) == ' ') && s.charAt(i) != ' ') {
            count++;
        }
    }
    
    return count;
}
```

---

## 复杂度分析

- **时间复杂度**：O(n)
  - 需要遍历整个字符串一次，其中 n 是字符串的长度
  - 每个字符只需要检查一次

- **空间复杂度**：O(1)
  - 只使用了一个计数器变量
  - 不需要额外的空间来存储中间结果

---

## LeetCode 题解

本题解是 LeetCode 系列题解的一部分。该系列题解致力于帮助程序员更好地理解和掌握算法思维，内容包含详细的解题思路分析、图文并茂的示例讲解和完整的代码实现。

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode 最全题解](https://github.com/LjyYano/LeetCode)：持续更新中，欢迎 Star ⭐️ 关注，一起探讨算法之美。 