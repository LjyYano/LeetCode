---
title: ç´¯åŠ æ•°
date: 2025-02-10
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[ç´¯åŠ æ•°](https://leetcode.cn/problems/additive-number/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`å­—ç¬¦ä¸²` `å›æº¯` `æšä¸¾`  
**ğŸŸ¡ éš¾åº¦**ï¼š`ä¸­ç­‰`  

ç´¯åŠ æ•° æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç»„æˆå®ƒçš„æ•°å­—å¯ä»¥å½¢æˆç´¯åŠ åºåˆ—ã€‚

ä¸€ä¸ªæœ‰æ•ˆçš„ ç´¯åŠ åºåˆ— å¿…é¡» è‡³å°‘ åŒ…å« 3 ä¸ªæ•°ã€‚é™¤äº†æœ€å¼€å§‹çš„ä¸¤ä¸ªæ•°ä»¥å¤–ï¼Œåºåˆ—ä¸­çš„æ¯ä¸ªåç»­æ•°å­—å¿…é¡»æ˜¯å®ƒä¹‹å‰ä¸¤ä¸ªæ•°å­—ä¹‹å’Œã€‚

ç»™ä½ ä¸€ä¸ªåªåŒ…å«æ•°å­— '0'-'9' çš„å­—ç¬¦ä¸²ï¼Œç¼–å†™ä¸€ä¸ªç®—æ³•æ¥åˆ¤æ–­ç»™å®šè¾“å…¥æ˜¯å¦æ˜¯ ç´¯åŠ æ•° ã€‚å¦‚æœæ˜¯ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚

è¯´æ˜ï¼šç´¯åŠ åºåˆ—é‡Œçš„æ•°ï¼Œé™¤æ•°å­— 0 ä¹‹å¤–ï¼Œä¸ä¼š ä»¥ 0 å¼€å¤´ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç° 1, 2, 03 æˆ–è€… 1, 02, 3 çš„æƒ…å†µã€‚

ç¤ºä¾‹ 1ï¼š
```
è¾“å…¥ï¼š"112358"
è¾“å‡ºï¼štrue 
è§£é‡Šï¼šç´¯åŠ åºåˆ—ä¸º: 1, 1, 2, 3, 5, 8 
1 + 1 = 2, 1 + 2 = 3, 2 + 3 = 5, 3 + 5 = 8
```

ç¤ºä¾‹ 2ï¼š
```
è¾“å…¥ï¼š"199100199"
è¾“å‡ºï¼štrue 
è§£é‡Šï¼šç´¯åŠ åºåˆ—ä¸º: 1, 99, 100, 199
1 + 99 = 100, 99 + 100 = 199
```

æç¤ºï¼š
- 1 <= num.length <= 35
- num ä»…ç”±æ•°å­—ï¼ˆ0 - 9ï¼‰ç»„æˆ

---

## è§£é¢˜æ€è·¯
### æšä¸¾ + éªŒè¯

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
1. ç”±äºç´¯åŠ åºåˆ—çš„å‰ä¸¤ä¸ªæ•°å­—å¯ä»¥ä»»æ„é€‰æ‹©ï¼ˆåœ¨æ»¡è¶³æ¡ä»¶çš„æƒ…å†µä¸‹ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æšä¸¾è¿™ä¸¤ä¸ªæ•°å­—çš„æ‰€æœ‰å¯èƒ½ç»„åˆã€‚
2. å¯¹äºæ¯ä¸€ç§ç»„åˆï¼Œæˆ‘ä»¬éªŒè¯å‰©ä½™çš„å­—ç¬¦ä¸²æ˜¯å¦èƒ½å¤Ÿå½¢æˆä¸€ä¸ªæœ‰æ•ˆçš„ç´¯åŠ åºåˆ—ã€‚
3. éœ€è¦ç‰¹åˆ«æ³¨æ„å¤„ç†ä»¥ 0 å¼€å¤´çš„æ•°å­—çš„æƒ…å†µã€‚

#### ğŸ› ï¸ å®ç°æ­¥éª¤
1. æšä¸¾ç¬¬ä¸€ä¸ªæ•°å­—çš„é•¿åº¦ iï¼ˆ1 åˆ° n/2ï¼‰ï¼š
   - å¦‚æœç¬¬ä¸€ä¸ªæ•°å­—ä»¥ 0 å¼€å¤´ä¸”é•¿åº¦å¤§äº 1ï¼Œè·³è¿‡è¯¥æƒ…å†µ
2. æšä¸¾ç¬¬äºŒä¸ªæ•°å­—çš„é•¿åº¦ jï¼š
   - å¦‚æœç¬¬äºŒä¸ªæ•°å­—ä»¥ 0 å¼€å¤´ä¸”é•¿åº¦å¤§äº 1ï¼Œè·³è¿‡è¯¥æƒ…å†µ
   - ç¡®ä¿å‰©ä½™é•¿åº¦è¶³å¤Ÿå®¹çº³ç¬¬ä¸‰ä¸ªæ•°å­—
3. éªŒè¯ä»å½“å‰ä½ç½®å¼€å§‹æ˜¯å¦èƒ½å½¢æˆç´¯åŠ åºåˆ—ï¼š
   - è·å–å‰ä¸¤ä¸ªæ•°å­—
   - ä¸æ–­è®¡ç®—ä¸‹ä¸€ä¸ªæ•°å­—ï¼ˆå‰ä¸¤ä¸ªæ•°å­—ä¹‹å’Œï¼‰
   - æ£€æŸ¥è®¡ç®—å¾—åˆ°çš„æ•°å­—æ˜¯å¦ä¸å­—ç¬¦ä¸²ä¸­çš„æ•°å­—åŒ¹é…

#### ğŸ§© ç¤ºä¾‹åˆ†æ
ä»¥ç¤ºä¾‹ "112358" ä¸ºä¾‹ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ç®—æ³•æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼š

| æ­¥éª¤ | æ“ä½œ | çŠ¶æ€ | è¯´æ˜ |
|-----|------|------|-----|
| 1 | åˆå§‹åŒ– | "112358" | å¼€å§‹å¤„ç†å­—ç¬¦ä¸² |
| 2 | å°è¯• i=1, j=1 | num1="1", num2="1" | é€‰æ‹©ç¬¬ä¸€ä¸ªæ•°å­—å’Œç¬¬äºŒä¸ªæ•°å­— |
| 3 | éªŒè¯åºåˆ— | 1+1=2 | æ£€æŸ¥ç¬¬ä¸‰ä¸ªæ•°å­—æ˜¯å¦ä¸º 2 |
| 4 | ç»§ç»­éªŒè¯ | 1+2=3 | æ£€æŸ¥ç¬¬å››ä¸ªæ•°å­—æ˜¯å¦ä¸º 3 |
| 5 | ç»§ç»­éªŒè¯ | 2+3=5 | æ£€æŸ¥ç¬¬äº”ä¸ªæ•°å­—æ˜¯å¦ä¸º 5 |
| 6 | ç»§ç»­éªŒè¯ | 3+5=8 | æ£€æŸ¥ç¬¬å…­ä¸ªæ•°å­—æ˜¯å¦ä¸º 8 |
| 7 | å®ŒæˆéªŒè¯ | âœ… åºåˆ—æœ‰æ•ˆ | æ‰€æœ‰æ•°å­—éƒ½åŒ¹é…ï¼Œä¸”è‡³å°‘åŒ…å« 3 ä¸ªæ•°å­— |

å¯¹äºç¤ºä¾‹ "199100199"ï¼š

| æ­¥éª¤ | æ“ä½œ | çŠ¶æ€ | è¯´æ˜ |
|-----|------|------|-----|
| 1 | åˆå§‹åŒ– | "199100199" | å¼€å§‹å¤„ç†å­—ç¬¦ä¸² |
| 2 | å°è¯• i=1, j=2 | num1="1", num2="99" | é€‰æ‹©ç¬¬ä¸€ä¸ªæ•°å­—å’Œç¬¬äºŒä¸ªæ•°å­— |
| 3 | éªŒè¯åºåˆ— | 1+99=100 | æ£€æŸ¥æ¥ä¸‹æ¥çš„æ•°å­—æ˜¯å¦ä¸º 100 |
| 4 | ç»§ç»­éªŒè¯ | 99+100=199 | æ£€æŸ¥æœ€åçš„æ•°å­—æ˜¯å¦ä¸º 199 |
| 5 | å®ŒæˆéªŒè¯ | âœ… åºåˆ—æœ‰æ•ˆ | æ‰€æœ‰æ•°å­—éƒ½åŒ¹é…ï¼Œä¸”è‡³å°‘åŒ…å« 3 ä¸ªæ•°å­— |

---

## ä»£ç å®ç°

å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š[L0306_AdditiveNumber.java](../src/main/java/L0306_AdditiveNumber.java)

```java
public class L0306_AdditiveNumber {

    public boolean isAdditiveNumber(String num) {
        int n = num.length();
        // ç¬¬ä¸€ä¸ªæ•°å­—çš„é•¿åº¦è‡³å°‘ä¸º 1ï¼Œæœ€é•¿ä¸è¶…è¿‡ n/2
        for (int i = 1; i <= n / 2; i++) {
            // å¦‚æœç¬¬ä¸€ä¸ªæ•°å­—ä»¥ 0 å¼€å¤´ä¸”é•¿åº¦å¤§äº 1ï¼Œè·³è¿‡
            if (num.charAt(0) == '0' && i > 1) {
                continue;
            }
            // ç¬¬äºŒä¸ªæ•°å­—çš„é•¿åº¦è‡³å°‘ä¸º 1ï¼Œä¸”å‰©ä½™é•¿åº¦è¦è¶³å¤Ÿå®¹çº³ç¬¬ä¸‰ä¸ªæ•°å­—
            for (int j = 1; Math.max(i, j) <= n - i - j; j++) {
                // å¦‚æœç¬¬äºŒä¸ªæ•°å­—ä»¥ 0 å¼€å¤´ä¸”é•¿åº¦å¤§äº 1ï¼Œè·³è¿‡
                if (num.charAt(i) == '0' && j > 1) {
                    continue;
                }
                // æ£€æŸ¥ä»å½“å‰ä½ç½®å¼€å§‹æ˜¯å¦èƒ½å½¢æˆç´¯åŠ åºåˆ—
                if (isValid(num, i, j)) {
                    return true;
                }
            }
        }
        return false;
    }

    // æ£€æŸ¥ä»æŒ‡å®šä½ç½®å¼€å§‹ï¼Œæ˜¯å¦èƒ½å½¢æˆç´¯åŠ åºåˆ—
    private boolean isValid(String num, int i, int j) {
        int n = num.length();
        // è·å–å‰ä¸¤ä¸ªæ•°å­—
        long num1 = Long.parseLong(num.substring(0, i));
        long num2 = Long.parseLong(num.substring(i, i + j));
        
        int start = i + j;
        while (start < n) {
            // è®¡ç®—ä¸‹ä¸€ä¸ªæ•°å­—
            num2 = num2 + num1;
            num1 = num2 - num1;
            // è½¬æ¢ä¸ºå­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒ
            String sum = String.valueOf(num2);
            // å¦‚æœå‰©ä½™å­—ç¬¦ä¸²é•¿åº¦å°äº sum çš„é•¿åº¦ï¼Œæˆ–è€…ä¸æ˜¯ä»¥ sum å¼€å¤´ï¼Œè¿”å› false
            if (start + sum.length() > n || !num.startsWith(sum, start)) {
                return false;
            }
            start += sum.length();
        }
        // å¿…é¡»è‡³å°‘åŒ…å« 3 ä¸ªæ•°å­—
        return start == n && i + j < n;
    }
}
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(nÂ³)ï¼Œå…¶ä¸­ n æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚æˆ‘ä»¬éœ€è¦æšä¸¾ç¬¬ä¸€ä¸ªæ•°å­—å’Œç¬¬äºŒä¸ªæ•°å­—çš„æ‰€æœ‰å¯èƒ½é•¿åº¦ï¼Œè¿™éœ€è¦ O(nÂ²) çš„æ—¶é—´ã€‚å¯¹äºæ¯ç§ç»„åˆï¼Œæˆ‘ä»¬è¿˜éœ€è¦ O(n) çš„æ—¶é—´æ¥éªŒè¯å‰©ä½™çš„åºåˆ—ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(1)ï¼Œåªä½¿ç”¨äº†å¸¸æ•°é¢å¤–ç©ºé—´ã€‚

---

## LeetCode é¢˜è§£

æœ¬é¢˜è§£æ˜¯ LeetCode ç³»åˆ—é¢˜è§£çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç³»åˆ—é¢˜è§£è‡´åŠ›äºå¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ç®—æ³•æ€ç»´ï¼Œå†…å®¹åŒ…å«è¯¦ç»†çš„è§£é¢˜æ€è·¯åˆ†æã€å›¾æ–‡å¹¶èŒ‚çš„ç¤ºä¾‹è®²è§£å’Œå®Œæ•´çš„ä»£ç å®ç°ã€‚

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode)ï¼šæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿ Star â­ï¸ å…³æ³¨ï¼Œä¸€èµ·æ¢è®¨ç®—æ³•ä¹‹ç¾ã€‚ 