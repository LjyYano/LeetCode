---
title: 各位相加
date: 2024-03-27
---

## 题目描述

**🔗 题目**：[各位相加](https://leetcode.cn/problems/add-digits/)  
**🏷️ 标签**：`数学` `数论` `模拟`  
**🟢 难度**：`简单`  

给定一个非负整数 num，反复将各个位上的数字相加，直到结果为一位数。返回这个结果。

示例 1:
```
输入: num = 38
输出: 2 
解释: 各位相加的过程为：
38 --> 3 + 8 --> 11
11 --> 1 + 1 --> 2
由于 2 是一位数，所以返回 2。
```

示例 2:
```
输入: num = 0
输出: 0
```

提示：
- 0 <= num <= 2³¹ - 1

---

## 解题思路

### 数根法

#### 📝 核心思想

这道题可以使用数根（Digital Root）的概念来解决。数根是将一个数的各个位上的数字相加，得到的数再继续各位相加，直到得到一个一位数为止。

对于一个非负整数 n，它的数根 dr(n) 满足以下规律：
1. dr(n) = 0，如果 n = 0
2. dr(n) = 9，如果 n ≠ 0 且 n mod 9 = 0
3. dr(n) = n mod 9，如果 n mod 9 ≠ 0

#### 🛠️ 实现步骤

1. 首先判断输入是否为 0，如果是则直接返回 0
2. 如果不是 0，则判断 n mod 9 是否为 0
   - 如果是，返回 9
   - 如果不是，返回 n mod 9

#### 🧩 示例分析

以输入 num = 38 为例：

| 步骤 | 操作 | 结果 | 说明 |
|-----|------|-----|------|
| 1 | 判断 num 是否为 0 | 否 | 继续下一步 |
| 2 | 计算 38 mod 9 | 2 | 38 ÷ 9 = 4 余 2 |
| 3 | 判断余数是否为 0 | 否 | 返回余数 2 |

验证结果：
1. 38 → 3 + 8 = 11
2. 11 → 1 + 1 = 2
3. 2 是一位数，结果正确

---

## 代码实现

完整的可运行代码：[L0258_AddDigits.java](../src/main/java/L0258_AddDigits.java)

```java
public int addDigits(int num) {
    if (num == 0) {
        return 0;
    }
    return num % 9 == 0 ? 9 : num % 9;
}
```

---

## 复杂度分析

- **时间复杂度**：O(1)。我们只需要进行简单的数学运算。
- **空间复杂度**：O(1)。只使用了常数级别的额外空间。

---

## LeetCode 题解

本题解是 LeetCode 系列题解的一部分。该系列题解致力于帮助程序员更好地理解和掌握算法思维，内容包含详细的解题思路分析、图文并茂的示例讲解和完整的代码实现。

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode 最全题解](https://github.com/LjyYano/LeetCode)：持续更新中，欢迎 Star ⭐️ 关注，一起探讨算法之美。 