---
title: 整数拆分
date: 2025-02-11
---

## 题目描述

**🔗 题目**：[整数拆分](https://leetcode.cn/problems/integer-break/)  
**🏷️ 标签**：`数学` `动态规划`  
**🟡 难度**：`中等`  

给定一个正整数 n，将其拆分为至少两个正整数的和，并使这些整数的乘积最大化。返回你可以获得的最大乘积。

示例 1:
```
输入: n = 2
输出: 1
解释: 2 = 1 + 1, 1 × 1 = 1。
```

示例 2:
```
输入: n = 10
输出: 36
解释: 10 = 3 + 3 + 4, 3 × 3 × 4 = 36。
```

提示:
* 2 <= n <= 58

---

## 解题思路
### 数学分析

#### 📝 核心思想
1. 通过数学分析可以得出，要使乘积最大：
   - 应该尽可能多地拆分出 3
   - 如果最后余数为 1，应该将一个 3 拆分为 2+2
   - 如果最后余数为 2，直接保留即可

2. 为什么是 3？
   - 假设我们要拆分数字 x（x > 4）
   - 如果拆分成 2 和 x-2，乘积是 2(x-2) = 2x-4
   - 如果拆分成 3 和 x-3，乘积是 3(x-3) = 3x-9
   - 当 x > 4 时，3x-9 > 2x-4
   - 所以优先拆分出 3 会得到更大的乘积

#### 🛠️ 实现步骤
1. 特殊情况处理：
   - 当 n ≤ 3 时，由于必须拆分成至少两个数，结果为 n-1

2. 一般情况：
   - 计算 n 除以 3 的商和余数
   - 根据余数分三种情况处理：
     * 余数为 0：直接返回 3 的 quotient 次方
     * 余数为 1：将一个 3 拆为 2+2，返回 3^(quotient-1) * 4
     * 余数为 2：直接乘以 2，返回 3^quotient * 2

#### 🧩 示例分析
让我们分析几个例子：

1. n = 10
```
步骤 1：计算商和余数
10 ÷ 3 = 3 余 1
商 = 3，余数 = 1

步骤 2：由于余数为 1，需要将一个 3 拆分为 2+2
最终拆分：10 = 3 + 3 + (2 + 2)
计算乘积：3 × 3 × 4 = 36
```

2. n = 8
```
步骤 1：计算商和余数
8 ÷ 3 = 2 余 2
商 = 2，余数 = 2

步骤 2：由于余数为 2，直接保留
最终拆分：8 = 3 + 3 + 2
计算乘积：3 × 3 × 2 = 18
```

3. n = 7
```
步骤 1：计算商和余数
7 ÷ 3 = 2 余 1
商 = 2，余数 = 1

步骤 2：由于余数为 1，需要将一个 3 拆分为 2+2
最终拆分：7 = 3 + (2 + 2)
计算乘积：3 × 4 = 12
```

---

## 代码实现

完整的可运行代码：[L0343_IntegerBreak.java](../src/main/java/L0343_IntegerBreak.java)

```java
public class L0343_IntegerBreak {
    public int integerBreak(int n) {
        // 特殊情况处理
        if (n <= 3) {
            return n - 1;
        }
        
        // 计算有多少个 3
        int quotient = n / 3;
        // 计算余数
        int remainder = n % 3;
        
        if (remainder == 0) {
            // 能被 3 整除，直接返回 3 的 quotient 次方
            return (int) Math.pow(3, quotient);
        } else if (remainder == 1) {
            // 余数为 1，需要将一个 3 拆分为 2+2
            return (int) Math.pow(3, quotient - 1) * 4;
        } else {
            // 余数为 2，直接乘以 2
            return (int) Math.pow(3, quotient) * 2;
        }
    }
}
```

---

## 复杂度分析

- **时间复杂度**：O(1)。只需要进行简单的数学计算。

- **空间复杂度**：O(1)。只使用了常数个变量。

---

## LeetCode 题解

本题解是 LeetCode 系列题解的一部分。该系列题解致力于帮助程序员更好地理解和掌握算法思维，内容包含详细的解题思路分析、图文并茂的示例讲解和完整的代码实现。

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode 最全题解](https://github.com/LjyYano/LeetCode)：持续更新中，欢迎 Star ⭐️ 关注，一起探讨算法之美。 