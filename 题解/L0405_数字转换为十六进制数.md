---
title: 数字转换为十六进制数
date: 2024-02-11
---

## 题目描述

**🔗 题目**：[数字转换为十六进制数](https://leetcode.cn/problems/convert-a-number-to-hexadecimal/description/)  
**🏷️ 标签**：`位运算` `数学`  
**🟢 难度**：`简单`  

给定一个整数 num，将其转化为十六进制数。如果结果为负数，以二进制补码形式表示。

注意：
- 十六进制中所有字母(a-f)都必须是小写。
- 十六进制字符串中不能包含多余的前导零。如果要转化的数为0，那么以单个字符'0'来表示；对于其他情况，十六进制字符串中的第一个字符将不会是0字符。 
- 给定的数确保在32位有符号整数范围内。
- 不能使用任何由库提供的将数字直接转换或格式化为十六进制的方法。

示例 1：
输入：num = 26
输出："1a"

示例 2：
输入：num = -1
输出："ffffffff"

示例 3：
输入：num = 0
输出："0"

---

## 解题思路

### 位运算法

#### 📝 核心思想
使用位运算将整数转换为十六进制。每 4 个二进制位可以表示一个十六进制位，通过无符号右移和位与运算，依次获取每个十六进制位的值。

#### 🛠️ 实现步骤
1. 处理特殊情况：如果输入为 0，直接返回 "0"
2. 准备十六进制字符数组：'0'-'9' 和 'a'-'f'
3. 使用无符号右移（>>>）每次处理 4 位：
   - 使用位与运算 & 0xf 获取最低 4 位
   - 将对应的十六进制字符添加到结果中
   - 对数字进行无符号右移 4 位
4. 返回最终结果

#### 🧩 示例分析
以 num = 26 为例，分析转换过程：

| 步骤 | 二进制表示 | 操作 | 当前十六进制位 | 结果 |
|-----|-----------|------|--------------|------|
| 初始 | 00000000 00000000 00000000 00011010 | - | - | "" |
| 1 | 00000000 00000000 00000000 00011010 | 26 & 0xf = 10 | 'a' | "a" |
| 2 | 00000000 00000000 00000000 00000001 | 1 & 0xf = 1 | '1' | "1a" |
| 3 | 00000000 00000000 00000000 00000000 | 结束 | - | "1a" |

对于负数 -1：
- -1 的二进制补码表示为：11111111 11111111 11111111 11111111
- 每 4 位对应一个十六进制数字：f f f f f f f f
- 最终结果为 "ffffffff"

---

## 代码实现

完整的可运行代码：[L0405_ConvertANumberToHexadecimal.java](../src/main/java/L0405_ConvertANumberToHexadecimal.java)

```java
public String toHex(int num) {
    if (num == 0) {
        return "0";
    }
    
    // 使用字符数组存储 16 进制字符
    char[] hexChars = {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'};
    StringBuilder result = new StringBuilder();
    
    // 由于 int 是 32 位，所以最多需要 8 位十六进制数
    // 使用无符号右移，每次处理 4 位
    while (num != 0) {
        // 取最低 4 位
        int digit = num & 0xf;
        // 将对应的十六进制字符添加到结果中
        result.insert(0, hexChars[digit]);
        // 无符号右移 4 位
        num >>>= 4;
    }
    
    return result.toString();
}
```

---

## 复杂度分析

- **时间复杂度**：O(1)，因为整数是固定的 32 位，最多需要处理 8 次（每次 4 位）。
- **空间复杂度**：O(1)，只使用了固定大小的额外空间。

---

## LeetCode 题解

本题解是 LeetCode 系列题解的一部分。该系列题解致力于帮助程序员更好地理解和掌握算法思维，内容包含详细的解题思路分析、图文并茂的示例讲解和完整的代码实现。

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode 最全题解](https://github.com/LjyYano/LeetCode)：持续更新中，欢迎 Star ⭐️ 关注，一起探讨算法之美。 