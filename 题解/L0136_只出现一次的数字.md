---
title: 只出现一次的数字
date: 2024-03-24
---

## 题目描述

**🔗 题目**：[只出现一次的数字](https://leetcode.cn/problems/single-number/)  
**🏷️ 标签**：`位运算` `数组`  
**🟢 难度**：`简单`  

给你一个 非空 整数数组 nums ，除了某个元素只出现一次以外，其余每个元素均出现两次。找出那个只出现一次的元素。

你必须设计并实现线性时间复杂度的算法来解决此问题，且该算法只使用常量额外空间。

**示例 1：**
```
输入：nums = [2,2,1]
输出：1
```

**示例 2：**
```
输入：nums = [4,1,2,1,2]
输出：4
```

**示例 3：**
```
输入：nums = [1]
输出：1
```

**提示：**
- 1 <= nums.length <= 3 * 10⁴
- -3 * 10⁴ <= nums[i] <= 3 * 10⁴
- 除了某个元素只出现一次以外，其余每个元素均出现两次。

---

## 解题思路

### 异或运算法

#### 📝 核心思想
这道题的巧妙之处在于利用异或运算（XOR）的以下特性：
1. 任何数和自己异或等于 0：a ⊕ a = 0
2. 任何数和 0 异或等于它自己：a ⊕ 0 = a
3. 异或运算满足交换律和结合律：a ⊕ b = b ⊕ a，(a ⊕ b) ⊕ c = a ⊕ (b ⊕ c)

利用这些特性，我们可以将数组中所有的数进行异或运算。由于相同的数异或会得到 0，而 0 与任何数异或都得到那个数本身，所以最终的结果就是只出现一次的那个数。

#### 🛠️ 实现步骤
1. 初始化结果变量 result = 0
2. 遍历数组中的每个数字 num：
   - 将 result 与 num 进行异或运算：result ^= num
3. 返回 result

#### 🧩 示例分析
以 `nums = [4,1,2,1,2]` 为例，演示异或运算的过程：

| 步骤 | 当前数字 | 异或结果 | 二进制表示 | 说明 |
|------|---------|----------|------------|------|
| 初始 | - | 0 | 0000 | 初始值为 0 |
| 1 | 4 | 4 | 0100 | 0 ⊕ 4 = 4 |
| 2 | 1 | 5 | 0101 | 4 ⊕ 1 = 5 |
| 3 | 2 | 7 | 0111 | 5 ⊕ 2 = 7 |
| 4 | 1 | 6 | 0110 | 7 ⊕ 1 = 6（第二个 1 抵消第一个 1）|
| 5 | 2 | 4 | 0100 | 6 ⊕ 2 = 4（第二个 2 抵消第一个 2）|

详细分析：
1. 首先，0 ⊕ 4 = 4
2. 然后，4 ⊕ 1 = 5
3. 接着，5 ⊕ 2 = 7
4. 当遇到第二个 1 时：7 ⊕ 1 = 6（因为 1 ⊕ 1 = 0）
5. 最后遇到第二个 2：6 ⊕ 2 = 4（因为 2 ⊕ 2 = 0）

最终得到 4，这就是数组中只出现一次的数字。

---

## 代码实现

完整的可运行代码：[L0136_SingleNumber.java](../src/main/java/L0136_SingleNumber.java)

```java
public int singleNumber(int[] nums) {
    int result = 0;
    for (int num : nums) {
        result ^= num;
    }
    return result;
}
```

---

## 复杂度分析

- **时间复杂度**：O(n)
  - 只需要遍历一次数组
  - 每个元素只进行一次异或运算
  - n 是数组的长度

- **空间复杂度**：O(1)
  - 只使用了一个变量来存储结果
  - 不需要额外的空间

---

## LeetCode 题解

本题解是 LeetCode 系列题解的一部分。该系列题解致力于帮助程序员更好地理解和掌握算法思维，内容包含详细的解题思路分析、图文并茂的示例讲解和完整的代码实现。

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode 最全题解](https://github.com/LjyYano/LeetCode)：持续更新中，欢迎 Star ⭐️ 关注，一起探讨算法之美。 