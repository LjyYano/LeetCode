---
title: ç¯å½¢é“¾è¡¨
date: 2024-03-26
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[ç¯å½¢é“¾è¡¨](https://leetcode.cn/problems/linked-list-cycle/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`é“¾è¡¨` `åŒæŒ‡é’ˆ` `å¿«æ…¢æŒ‡é’ˆ`  
**ğŸŸ¢ éš¾åº¦**ï¼š`ç®€å•`  

ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚

å¦‚æœé“¾è¡¨ä¸­æœ‰æŸä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿ç»­è·Ÿè¸ª next æŒ‡é’ˆå†æ¬¡åˆ°è¾¾ï¼Œåˆ™é“¾è¡¨ä¸­å­˜åœ¨ç¯ã€‚ ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œè¯„æµ‹ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨æ•´æ•° pos æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚æ³¨æ„ï¼špos ä¸ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ã€‚ä»…ä»…æ˜¯ä¸ºäº†æ ‡è¯†é“¾è¡¨çš„å®é™…æƒ…å†µã€‚

å¦‚æœé“¾è¡¨ä¸­å­˜åœ¨ç¯ï¼Œåˆ™è¿”å› true ã€‚ å¦åˆ™ï¼Œè¿”å› false ã€‚

ç¤ºä¾‹ 1ï¼š
![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/07/circularlinkedlist.png)
```
è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1
è¾“å‡ºï¼štrue
è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚
```

ç¤ºä¾‹ 2ï¼š
![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/07/circularlinkedlist_test2.png)
```
è¾“å…¥ï¼šhead = [1,2], pos = 0
è¾“å‡ºï¼štrue
è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚
```

ç¤ºä¾‹ 3ï¼š
![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/07/circularlinkedlist_test3.png)
```
è¾“å…¥ï¼šhead = [1], pos = -1
è¾“å‡ºï¼šfalse
è§£é‡Šï¼šé“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚
```

æç¤ºï¼š
- é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´æ˜¯ [0, 10â´]
- -10âµ <= Node.val <= 10âµ
- pos ä¸º -1 æˆ–è€…é“¾è¡¨ä¸­çš„ä¸€ä¸ª æœ‰æ•ˆç´¢å¼•

è¿›é˜¶ï¼šä½ èƒ½ç”¨ O(1) å†…å­˜è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ

---

## è§£é¢˜æ€è·¯
### Floyd ç¯æ£€æµ‹ç®—æ³•ï¼ˆå¿«æ…¢æŒ‡é’ˆï¼‰

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
æœ¬é¢˜ä½¿ç”¨ Floyd çš„ç¯æ£€æµ‹ç®—æ³•ï¼ˆä¹Ÿç§°ä¸º"é¾Ÿå…”èµ›è·‘ç®—æ³•"ï¼‰ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š
1. ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªå¿«æŒ‡é’ˆï¼ˆæ¯æ¬¡ç§»åŠ¨ä¸¤æ­¥ï¼‰å’Œä¸€ä¸ªæ…¢æŒ‡é’ˆï¼ˆæ¯æ¬¡ç§»åŠ¨ä¸€æ­¥ï¼‰
2. å¦‚æœé“¾è¡¨ä¸­å­˜åœ¨ç¯ï¼Œè¿™ä¸¤ä¸ªæŒ‡é’ˆæœ€ç»ˆä¸€å®šä¼šç›¸é‡
3. å¦‚æœé“¾è¡¨ä¸­ä¸å­˜åœ¨ç¯ï¼Œå¿«æŒ‡é’ˆä¼šå…ˆåˆ°è¾¾é“¾è¡¨æœ«å°¾

è¿™ä¸ªç®—æ³•çš„æ­£ç¡®æ€§åŸºäºä»¥ä¸‹äº‹å®ï¼š
- å¦‚æœæœ‰ç¯ï¼Œå¿«æŒ‡é’ˆæ¯æ¬¡æ¯”æ…¢æŒ‡é’ˆå¤šèµ°ä¸€æ­¥ï¼Œç›¸å½“äºåœ¨è¿½èµ¶æ…¢æŒ‡é’ˆ
- ç”±äºç¯çš„å­˜åœ¨ï¼Œå¿«æŒ‡é’ˆæœ€ç»ˆä¸€å®šä¼šè¿½ä¸Šæ…¢æŒ‡é’ˆ
- å¦‚æœæ²¡æœ‰ç¯ï¼Œå¿«æŒ‡é’ˆä¼šå…ˆåˆ°è¾¾é“¾è¡¨æœ«å°¾

#### ğŸ› ï¸ å®ç°æ­¥éª¤
1. å¤„ç†ç‰¹æ®Šæƒ…å†µï¼š
   - å¦‚æœé“¾è¡¨ä¸ºç©ºæˆ–åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿”å› false

2. åˆå§‹åŒ–å¿«æ…¢æŒ‡é’ˆï¼š
   - æ…¢æŒ‡é’ˆ slow = head
   - å¿«æŒ‡é’ˆ fast = head

3. ç§»åŠ¨æŒ‡é’ˆï¼š
   - æ…¢æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸€æ­¥ï¼šslow = slow.next
   - å¿«æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸¤æ­¥ï¼šfast = fast.next.next

4. åˆ¤æ–­æ˜¯å¦æœ‰ç¯ï¼š
   - å¦‚æœå¿«æ…¢æŒ‡é’ˆç›¸é‡ï¼Œè¯´æ˜æœ‰ç¯ï¼Œè¿”å› true
   - å¦‚æœå¿«æŒ‡é’ˆåˆ°è¾¾é“¾è¡¨æœ«å°¾ï¼Œè¯´æ˜æ²¡æœ‰ç¯ï¼Œè¿”å› false

#### ğŸ§© ç¤ºä¾‹åˆ†æ
ä»¥ç¤ºä¾‹ 1 ä¸ºä¾‹ï¼Œåˆ†ææ£€æµ‹è¿‡ç¨‹ï¼š
```
è¾“å…¥ï¼š[3,2,0,-4]ï¼Œpos = 1
```

| æ­¥éª¤ | æ…¢æŒ‡é’ˆä½ç½® | å¿«æŒ‡é’ˆä½ç½® | è¯´æ˜ |
|-----|-----------|-----------|------|
| åˆå§‹ | 3 | 3 | ä¸¤ä¸ªæŒ‡é’ˆéƒ½åœ¨èµ·ç‚¹ |
| ç¬¬ 1 æ­¥ | 2 | 0 | æ…¢æŒ‡é’ˆç§»åŠ¨ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆç§»åŠ¨ä¸¤æ­¥ |
| ç¬¬ 2 æ­¥ | 0 | 2 | ç»§ç»­ç§»åŠ¨ |
| ç¬¬ 3 æ­¥ | -4 | -4 | æŒ‡é’ˆç›¸é‡ï¼Œè¯´æ˜å­˜åœ¨ç¯ |

å›¾ç¤ºåˆ†æï¼š
```
æ­¥éª¤ 1ï¼š
3 -> 2 -> 0 -> -4
â†‘    â†‘         |
s    f         |
     <---------+

æ­¥éª¤ 2ï¼š
3 -> 2 -> 0 -> -4
     â†‘    â†‘    |
     f    s    |
     <---------+

æ­¥éª¤ 3ï¼š
3 -> 2 -> 0 -> -4
     â†‘         |
     f,s       |
     <---------+
```

---

## ä»£ç å®ç°

å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š[L0141_LinkedListCycle.java](../src/main/java/L0141_LinkedListCycle.java)

```java
public boolean hasCycle(ListNode head) {
    // å¦‚æœé“¾è¡¨ä¸ºç©ºæˆ–åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸å¯èƒ½æœ‰ç¯
    if (head == null || head.next == null) {
        return false;
    }
    
    // ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆ
    ListNode slow = head;
    ListNode fast = head;
    
    // å¿«æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸€æ­¥
    // å¦‚æœæœ‰ç¯ï¼Œå¿«æ…¢æŒ‡é’ˆæœ€ç»ˆä¼šç›¸é‡
    while (fast != null && fast.next != null) {
        slow = slow.next;
        fast = fast.next.next;
        
        // å¦‚æœå¿«æ…¢æŒ‡é’ˆç›¸é‡ï¼Œè¯´æ˜æœ‰ç¯
        if (slow == fast) {
            return true;
        }
    }
    
    // å¦‚æœå¿«æŒ‡é’ˆåˆ°è¾¾é“¾è¡¨æœ«å°¾ï¼Œè¯´æ˜æ²¡æœ‰ç¯
    return false;
}
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(n)
  - å¦‚æœæ²¡æœ‰ç¯ï¼Œå¿«æŒ‡é’ˆä¼šå…ˆåˆ°è¾¾é“¾è¡¨æœ«å°¾ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(n)
  - å¦‚æœæœ‰ç¯ï¼Œå¿«æ…¢æŒ‡é’ˆæœ€ç»ˆä¼šåœ¨ç¯ä¸­ç›¸é‡ï¼Œæ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯ O(n)
  - è¿™é‡Œçš„ n æ˜¯é“¾è¡¨çš„é•¿åº¦

- **ç©ºé—´å¤æ‚åº¦**ï¼šO(1)
  - åªä½¿ç”¨äº†ä¸¤ä¸ªæŒ‡é’ˆå˜é‡
  - ä¸éœ€è¦é¢å¤–çš„æ•°æ®ç»“æ„
  - æ»¡è¶³è¿›é˜¶è¦æ±‚ï¼Œä½¿ç”¨ O(1) çš„é¢å¤–ç©ºé—´

---

## LeetCode é¢˜è§£

æœ¬é¢˜è§£æ˜¯ LeetCode ç³»åˆ—é¢˜è§£çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç³»åˆ—é¢˜è§£è‡´åŠ›äºå¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ç®—æ³•æ€ç»´ï¼Œå†…å®¹åŒ…å«è¯¦ç»†çš„è§£é¢˜æ€è·¯åˆ†æã€å›¾æ–‡å¹¶èŒ‚çš„ç¤ºä¾‹è®²è§£å’Œå®Œæ•´çš„ä»£ç å®ç°ã€‚

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode)ï¼šæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿ Star â­ï¸ å…³æ³¨ï¼Œä¸€èµ·æ¢è®¨ç®—æ³•ä¹‹ç¾ã€‚ 