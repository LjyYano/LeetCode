---
title: å›æ–‡é“¾è¡¨
date: 2025-02-10
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[å›æ–‡é“¾è¡¨](https://leetcode.cn/problems/palindrome-linked-list/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`é“¾è¡¨` `åŒæŒ‡é’ˆ` `é€’å½’`  
**ğŸŸ¢ éš¾åº¦**ï¼š`ç®€å•`  

ç»™ä½ ä¸€ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œè¯·ä½ åˆ¤æ–­è¯¥é“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡é“¾è¡¨ã€‚å¦‚æœæ˜¯ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚

ç¤ºä¾‹ 1ï¼š
```
è¾“å…¥ï¼šhead = [1,2,2,1]
è¾“å‡ºï¼štrue
```

ç¤ºä¾‹ 2ï¼š
```
è¾“å…¥ï¼šhead = [1,2]
è¾“å‡ºï¼šfalse
```

æç¤ºï¼š
- é“¾è¡¨ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´[1, 10^5] å†…
- 0 <= Node.val <= 9

è¿›é˜¶ï¼šä½ èƒ½å¦ç”¨ O(n) æ—¶é—´å¤æ‚åº¦å’Œ O(1) ç©ºé—´å¤æ‚åº¦è§£å†³æ­¤é¢˜ï¼Ÿ

---

## è§£é¢˜æ€è·¯
### å¿«æ…¢æŒ‡é’ˆ + åè½¬é“¾è¡¨

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
è¦åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡é“¾è¡¨ï¼Œæˆ‘ä»¬éœ€è¦ä»ä¸¤ç«¯å‘ä¸­é—´æ¯”è¾ƒèŠ‚ç‚¹å€¼æ˜¯å¦ç›¸ç­‰ã€‚ä½†ç”±äºå•é“¾è¡¨åªèƒ½ä»å‰å‘åéå†ï¼Œæˆ‘ä»¬å¯ä»¥ï¼š
1. æ‰¾åˆ°é“¾è¡¨çš„ä¸­ç‚¹
2. åè½¬ååŠéƒ¨åˆ†é“¾è¡¨
3. æ¯”è¾ƒå‰åŠéƒ¨åˆ†å’Œåè½¬åçš„ååŠéƒ¨åˆ†æ˜¯å¦ç›¸åŒ
4. æ¢å¤é“¾è¡¨ï¼ˆå¯é€‰ï¼‰

#### ğŸ› ï¸ å®ç°æ­¥éª¤
1. **æ‰¾åˆ°é“¾è¡¨ä¸­ç‚¹**ï¼šä½¿ç”¨å¿«æ…¢æŒ‡é’ˆ
   - æ…¢æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸¤æ­¥
   - å½“å¿«æŒ‡é’ˆåˆ°è¾¾æœ«å°¾æ—¶ï¼Œæ…¢æŒ‡é’ˆæŒ‡å‘ä¸­ç‚¹

2. **åè½¬ååŠéƒ¨åˆ†é“¾è¡¨**ï¼šä»ä¸­ç‚¹åçš„èŠ‚ç‚¹å¼€å§‹åè½¬
   - ä½¿ç”¨ä¸‰ä¸ªæŒ‡é’ˆï¼ˆprevã€currã€nextï¼‰å®ç°é“¾è¡¨åè½¬
   - åè½¬åå¾—åˆ°åå‘çš„ååŠéƒ¨åˆ†é“¾è¡¨

3. **æ¯”è¾ƒä¸¤éƒ¨åˆ†**ï¼š
   - ä»å¤´èŠ‚ç‚¹å’Œåè½¬åçš„ååŠéƒ¨åˆ†å¤´èŠ‚ç‚¹å¼€å§‹æ¯”è¾ƒ
   - ä¾æ¬¡æ¯”è¾ƒå¯¹åº”èŠ‚ç‚¹çš„å€¼æ˜¯å¦ç›¸ç­‰

4. **æ¢å¤é“¾è¡¨**ï¼ˆå¯é€‰ï¼‰ï¼š
   - å†æ¬¡åè½¬ååŠéƒ¨åˆ†ï¼Œæ¢å¤åŸå§‹é“¾è¡¨ç»“æ„
   - è¿™ä¸€æ­¥ä¸æ˜¯å¿…éœ€çš„ï¼Œä½†æ˜¯ä¿æŒäº†é“¾è¡¨çš„åŸå§‹ç»“æ„

#### ğŸ§© ç¤ºä¾‹åˆ†æ
ä»¥ç¤ºä¾‹ 1 `[1,2,2,1]` ä¸ºä¾‹ï¼Œåˆ†ææ•´ä¸ªè¿‡ç¨‹ï¼š

1. åˆå§‹çŠ¶æ€ï¼š
```
1 -> 2 -> 2 -> 1
```

2. æ‰¾åˆ°ä¸­ç‚¹ï¼ˆä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼‰ï¼š
```
slow
 â†“
1 -> 2 -> 2 -> 1
     â†‘         â†‘
   fast      fast.next
```

3. åè½¬ååŠéƒ¨åˆ†ï¼š
```
1 -> 2 -> 2 <- 1
     â†‘    â†‘
    slow  åè½¬åçš„å¤´
```

4. æ¯”è¾ƒä¸¤éƒ¨åˆ†ï¼š
```
p1        p2
â†“         â†“
1 -> 2 -> 1 <- 2
æ¯”è¾ƒ p1 å’Œ p2 æŒ‡å‘çš„å€¼
```

5. æ¢å¤é“¾è¡¨ï¼š
```
1 -> 2 -> 2 -> 1
```

---

## ä»£ç å®ç°

å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š[L0234_PalindromeLinkedList.java](../src/main/java/L0234_PalindromeLinkedList.java)

```java
public class L0234_PalindromeLinkedList {
    public boolean isPalindrome(ListNode head) {
        if (head == null || head.next == null) {
            return true;
        }
        
        // 1. ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°ä¸­ç‚¹
        ListNode slow = head;
        ListNode fast = head;
        while (fast.next != null && fast.next.next != null) {
            slow = slow.next;
            fast = fast.next.next;
        }
        
        // 2. åè½¬ååŠéƒ¨åˆ†é“¾è¡¨
        ListNode secondHalf = reverseList(slow.next);
        
        // 3. æ¯”è¾ƒå‰åŠéƒ¨åˆ†å’Œåè½¬åçš„ååŠéƒ¨åˆ†
        ListNode firstHalf = head;
        ListNode secondHalfCopy = secondHalf; // ä¿å­˜åè½¬åçš„ååŠéƒ¨åˆ†çš„å¤´èŠ‚ç‚¹ï¼Œç”¨äºåç»­æ¢å¤
        boolean isPalindrome = true;
        while (secondHalf != null) {
            if (firstHalf.val != secondHalf.val) {
                isPalindrome = false;
                break;
            }
            firstHalf = firstHalf.next;
            secondHalf = secondHalf.next;
        }
        
        // 4. æ¢å¤é“¾è¡¨ï¼ˆå¯é€‰ï¼‰
        slow.next = reverseList(secondHalfCopy);
        
        return isPalindrome;
    }
    
    private ListNode reverseList(ListNode head) {
        ListNode prev = null;
        ListNode curr = head;
        while (curr != null) {
            ListNode next = curr.next;
            curr.next = prev;
            prev = curr;
            curr = next;
        }
        return prev;
    }
}
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(n)
  - æ‰¾ä¸­ç‚¹éœ€è¦ O(n/2)
  - åè½¬é“¾è¡¨éœ€è¦ O(n/2)
  - æ¯”è¾ƒéœ€è¦ O(n/2)
  - æ¢å¤é“¾è¡¨éœ€è¦ O(n/2)
  - æ€»ä½“ä¸º O(n)

- **ç©ºé—´å¤æ‚åº¦**ï¼šO(1)
  - åªä½¿ç”¨äº†å‡ ä¸ªæŒ‡é’ˆå˜é‡
  - æ²¡æœ‰ä½¿ç”¨é¢å¤–çš„æ•°æ®ç»“æ„
  - æ»¡è¶³è¿›é˜¶è¦æ±‚

---

## LeetCode é¢˜è§£

æœ¬é¢˜è§£æ˜¯ LeetCode ç³»åˆ—é¢˜è§£çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç³»åˆ—é¢˜è§£è‡´åŠ›äºå¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ç®—æ³•æ€ç»´ï¼Œå†…å®¹åŒ…å«è¯¦ç»†çš„è§£é¢˜æ€è·¯åˆ†æã€å›¾æ–‡å¹¶èŒ‚çš„ç¤ºä¾‹è®²è§£å’Œå®Œæ•´çš„ä»£ç å®ç°ã€‚

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode)ï¼šæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿ Star â­ï¸ å…³æ³¨ï¼Œä¸€èµ·æ¢è®¨ç®—æ³•ä¹‹ç¾ã€‚ 