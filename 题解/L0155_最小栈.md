---
title: æœ€å°æ ˆ
date: 2025-02-09
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[æœ€å°æ ˆ](https://leetcode.cn/problems/min-stack/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`æ ˆ` `è®¾è®¡`  
**ğŸŸ¢ éš¾åº¦**ï¼š`ä¸­ç­‰`  

è®¾è®¡ä¸€ä¸ªæ”¯æŒ push ï¼Œpop ï¼Œtop æ“ä½œï¼Œå¹¶èƒ½åœ¨å¸¸æ•°æ—¶é—´å†…æ£€ç´¢åˆ°æœ€å°å…ƒç´ çš„æ ˆã€‚

å®ç° MinStack ç±»:
- MinStack() åˆå§‹åŒ–å †æ ˆå¯¹è±¡ã€‚
- void push(int val) å°†å…ƒç´  val æ¨å…¥å †æ ˆã€‚
- void pop() åˆ é™¤å †æ ˆé¡¶éƒ¨çš„å…ƒç´ ã€‚
- int top() è·å–å †æ ˆé¡¶éƒ¨çš„å…ƒç´ ã€‚
- int getMin() è·å–å †æ ˆä¸­çš„æœ€å°å…ƒç´ ã€‚

ä½ å¿…é¡»è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º O(1) çš„ç®—æ³•æ¥å®ç°ç‰¹å®šçš„æ ˆã€‚

**ç¤ºä¾‹ 1ï¼š**
```
è¾“å…¥ï¼š
["MinStack","push","push","push","getMin","pop","top","getMin"]
[[],[-2],[0],[-3],[],[],[],[]]

è¾“å‡ºï¼š
[null,null,null,null,-3,null,0,-2]

è§£é‡Šï¼š
MinStack minStack = new MinStack();
minStack.push(-2);
minStack.push(0);
minStack.push(-3);
minStack.getMin();   --> è¿”å› -3
minStack.pop();
minStack.top();      --> è¿”å› 0
minStack.getMin();   --> è¿”å› -2
```

**æç¤ºï¼š**
- -2Â³Â¹ <= val <= 2Â³Â¹ - 1
- popã€top å’Œ getMin æ“ä½œæ€»æ˜¯åœ¨ éç©ºæ ˆ ä¸Šè°ƒç”¨
- pushã€popã€top å’Œ getMin æœ€å¤šè¢«è°ƒç”¨ 3 * 10â´ æ¬¡

---

## è§£é¢˜æ€è·¯

### è¾…åŠ©æ ˆæ³•

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
è¦åœ¨ O(1) æ—¶é—´å†…è·å–æ ˆä¸­çš„æœ€å°å…ƒç´ ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ¯æ¬¡æ“ä½œæ—¶éƒ½ç»´æŠ¤æœ€å°å€¼çš„ä¿¡æ¯ã€‚æœ€ç›´è§‚çš„æ–¹æ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªè¾…åŠ©æ ˆï¼Œè¿™ä¸ªè¾…åŠ©æ ˆä¸ä¸»æ ˆåŒæ­¥æ›´æ–°ï¼Œä½†åªä¿å­˜å½“å‰ä¸»æ ˆä¸­çš„æœ€å°å€¼ã€‚

ä¸»è¦æ€è·¯å¦‚ä¸‹ï¼š
1. ä½¿ç”¨ä¸¤ä¸ªæ ˆï¼šä¸»æ ˆå’Œè¾…åŠ©æ ˆ
2. ä¸»æ ˆæ­£å¸¸å­˜å‚¨æ‰€æœ‰å…ƒç´ 
3. è¾…åŠ©æ ˆåªå­˜å‚¨å½“å‰ä¸»æ ˆä¸­çš„æœ€å°å€¼
4. æ¯æ¬¡ push æ“ä½œæ—¶ï¼Œå¦‚æœæ–°å…ƒç´ å°äºç­‰äºè¾…åŠ©æ ˆé¡¶å…ƒç´ ï¼Œåˆ™å°†æ–°å…ƒç´ ä¹Ÿå‹å…¥è¾…åŠ©æ ˆ
5. æ¯æ¬¡ pop æ“ä½œæ—¶ï¼Œå¦‚æœå¼¹å‡ºçš„å…ƒç´ ç­‰äºè¾…åŠ©æ ˆé¡¶å…ƒç´ ï¼Œåˆ™è¾…åŠ©æ ˆä¹Ÿè¦å¼¹å‡ºå…ƒç´ 

#### ğŸ› ï¸ å®ç°æ­¥éª¤
1. åˆå§‹åŒ–ï¼š
   - åˆ›å»ºä¸¤ä¸ªæ ˆï¼šstackï¼ˆä¸»æ ˆï¼‰å’Œ minStackï¼ˆè¾…åŠ©æ ˆï¼‰

2. push æ“ä½œï¼š
   - å°†å…ƒç´ å‹å…¥ä¸»æ ˆ
   - å¦‚æœè¾…åŠ©æ ˆä¸ºç©ºæˆ–æ–°å…ƒç´ å°äºç­‰äºè¾…åŠ©æ ˆé¡¶å…ƒç´ ï¼Œåˆ™å°†æ–°å…ƒç´ å‹å…¥è¾…åŠ©æ ˆ

3. pop æ“ä½œï¼š
   - å¦‚æœä¸»æ ˆé¡¶å…ƒç´ ç­‰äºè¾…åŠ©æ ˆé¡¶å…ƒç´ ï¼Œåˆ™åŒæ—¶å¼¹å‡ºè¾…åŠ©æ ˆé¡¶å…ƒç´ 
   - å¼¹å‡ºä¸»æ ˆé¡¶å…ƒç´ 

4. top æ“ä½œï¼š
   - è¿”å›ä¸»æ ˆé¡¶å…ƒç´ 

5. getMin æ“ä½œï¼š
   - è¿”å›è¾…åŠ©æ ˆé¡¶å…ƒç´ 

#### ğŸ§© ç¤ºä¾‹åˆ†æ
ä»¥ç¤ºä¾‹ 1 ä¸ºä¾‹ï¼Œæ¼”ç¤ºæ•´ä¸ªè¿‡ç¨‹ï¼š

| æ“ä½œ | ä¸»æ ˆ | è¾…åŠ©æ ˆ | è¯´æ˜ |
|-----|------|-------|------|
| push(-2) | [-2] | [-2] | -2 æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ŒåŒæ—¶å‹å…¥ä¸¤ä¸ªæ ˆ |
| push(0) | [-2,0] | [-2] | 0 > -2ï¼Œåªå‹å…¥ä¸»æ ˆ |
| push(-3) | [-2,0,-3] | [-2,-3] | -3 < -2ï¼Œå‹å…¥è¾…åŠ©æ ˆ |
| getMin() | [-2,0,-3] | [-2,-3] | è¿”å›è¾…åŠ©æ ˆé¡¶å…ƒç´  -3 |
| pop() | [-2,0] | [-2] | å¼¹å‡º -3ï¼ŒåŒæ—¶ä»è¾…åŠ©æ ˆå¼¹å‡º |
| top() | [-2,0] | [-2] | è¿”å›ä¸»æ ˆé¡¶å…ƒç´  0 |
| getMin() | [-2,0] | [-2] | è¿”å›è¾…åŠ©æ ˆé¡¶å…ƒç´  -2 |

å›¾è§£è¿‡ç¨‹ï¼š
```
åˆå§‹çŠ¶æ€ï¼š
ä¸»æ ˆï¼š[]     è¾…åŠ©æ ˆï¼š[]

push(-2)ï¼š
ä¸»æ ˆï¼š[-2]   è¾…åŠ©æ ˆï¼š[-2]
             â†‘æœ€å°å€¼

push(0)ï¼š
ä¸»æ ˆï¼š[-2,0] è¾…åŠ©æ ˆï¼š[-2]
             â†‘æœ€å°å€¼

push(-3)ï¼š
ä¸»æ ˆï¼š[-2,0,-3] è¾…åŠ©æ ˆï¼š[-2,-3]
                       â†‘æœ€å°å€¼

pop()ï¼š
ä¸»æ ˆï¼š[-2,0] è¾…åŠ©æ ˆï¼š[-2]
             â†‘æœ€å°å€¼
```

---

## ä»£ç å®ç°

å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š[L0155_MinStack.java](../src/main/java/L0155_MinStack.java)

```java
public class L0155_MinStack {

    // ä¸»æ ˆï¼Œç”¨äºå­˜å‚¨æ‰€æœ‰å…ƒç´ 
    private Stack<Integer> stack;
    // è¾…åŠ©æ ˆï¼Œç”¨äºå­˜å‚¨æœ€å°å€¼
    private Stack<Integer> minStack;

    public L0155_MinStack() {
        stack = new Stack<>();
        minStack = new Stack<>();
    }
    
    public void push(int val) {
        stack.push(val);
        // å¦‚æœè¾…åŠ©æ ˆä¸ºç©ºï¼Œæˆ–è€…æ–°å…ƒç´ å°äºç­‰äºè¾…åŠ©æ ˆé¡¶å…ƒç´ ï¼Œåˆ™å°†æ–°å…ƒç´ å‹å…¥è¾…åŠ©æ ˆ
        if (minStack.isEmpty() || val <= minStack.peek()) {
            minStack.push(val);
        }
    }
    
    public void pop() {
        // å¦‚æœä¸»æ ˆå¼¹å‡ºçš„å…ƒç´ ç­‰äºè¾…åŠ©æ ˆé¡¶å…ƒç´ ï¼Œè¯´æ˜è¿™ä¸ªå…ƒç´ æ˜¯å½“å‰æœ€å°å€¼
        // éœ€è¦åŒæ—¶ä»è¾…åŠ©æ ˆä¸­å¼¹å‡º
        if (!stack.isEmpty() && stack.peek().equals(minStack.peek())) {
            minStack.pop();
        }
        stack.pop();
    }
    
    public int top() {
        return stack.peek();
    }
    
    public int getMin() {
        return minStack.peek();
    }
}
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(1)
  - pushã€popã€top å’Œ getMin æ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(1)
  - è¿™æ˜¯å› ä¸ºæ‰€æœ‰æ“ä½œéƒ½åªæ¶‰åŠæ ˆçš„åŸºæœ¬æ“ä½œï¼ˆå‹å…¥å’Œå¼¹å‡ºï¼‰ï¼Œè€Œæ ˆçš„è¿™äº›åŸºæœ¬æ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(1)

- **ç©ºé—´å¤æ‚åº¦**ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯æ ˆä¸­å…ƒç´ çš„ä¸ªæ•°
  - ä¸»æ ˆéœ€è¦å­˜å‚¨æ‰€æœ‰å…ƒç´ ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(n)
  - è¾…åŠ©æ ˆåœ¨æœ€åæƒ…å†µä¸‹ï¼ˆæ‰€æœ‰å…ƒç´ éƒ½æ˜¯é€’å‡çš„ï¼‰ä¹Ÿéœ€è¦å­˜å‚¨æ‰€æœ‰å…ƒç´ ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(n)
  - å› æ­¤æ€»ç©ºé—´å¤æ‚åº¦ä¸º O(n)

---

## ä¼˜åŒ–æ€è·¯

1. **ä½¿ç”¨å•ä¸ªæ ˆå­˜å‚¨å·®å€¼**
   - å¯ä»¥åªä½¿ç”¨ä¸€ä¸ªæ ˆï¼Œå­˜å‚¨å½“å‰å…ƒç´ ä¸æœ€å°å€¼çš„å·®å€¼
   - è¿™æ ·å¯ä»¥èŠ‚çœç©ºé—´ï¼Œä½†æ˜¯å®ç°ä¼šæ›´å¤æ‚
   - éœ€è¦æ³¨æ„å¤„ç†æ•´æ•°æº¢å‡ºçš„é—®é¢˜

2. **ä½¿ç”¨é“¾è¡¨å®ç°**
   - å¯ä»¥ä½¿ç”¨é“¾è¡¨æ¥å®ç°æ ˆ
   - æ¯ä¸ªèŠ‚ç‚¹é™¤äº†å­˜å‚¨å€¼ï¼Œè¿˜å¯ä»¥å­˜å‚¨å½“å‰æœ€å°å€¼
   - è¿™æ ·å¯ä»¥é¿å…ä½¿ç”¨è¾…åŠ©æ ˆ

3. **æ‰¹é‡æ“ä½œä¼˜åŒ–**
   - å¦‚æœéœ€è¦æ”¯æŒæ‰¹é‡æ“ä½œï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æ•°ç»„æ¥å®ç°
   - é¢„åˆ†é…ä¸€å®šå¤§å°çš„æ•°ç»„ï¼Œå¯ä»¥å‡å°‘åŠ¨æ€æ‰©å®¹çš„å¼€é”€

---

## LeetCode é¢˜è§£

æœ¬é¢˜è§£æ˜¯ LeetCode ç³»åˆ—é¢˜è§£çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç³»åˆ—é¢˜è§£è‡´åŠ›äºå¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ç®—æ³•æ€ç»´ï¼Œå†…å®¹åŒ…å«è¯¦ç»†çš„è§£é¢˜æ€è·¯åˆ†æã€å›¾æ–‡å¹¶èŒ‚çš„ç¤ºä¾‹è®²è§£å’Œå®Œæ•´çš„ä»£ç å®ç°ã€‚

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode)ï¼šæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿ Star â­ï¸ å…³æ³¨ï¼Œä¸€èµ·æ¢è®¨ç®—æ³•ä¹‹ç¾ã€‚ 