---
title: å•è¯æœç´¢ II
date: 2024-02-09
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[å•è¯æœç´¢ II](https://leetcode.cn/problems/word-search-ii/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`å­—å…¸æ ‘` `æ•°ç»„` `å­—ç¬¦ä¸²` `å›æº¯` `çŸ©é˜µ`  
**ğŸ”´ éš¾åº¦**ï¼š`å›°éš¾`  

ç»™å®šä¸€ä¸ª m x n äºŒç»´å­—ç¬¦ç½‘æ ¼ board å’Œä¸€ä¸ªå•è¯åˆ—è¡¨ wordsï¼Œæ‰¾å‡ºæ‰€æœ‰åŒæ—¶åœ¨äºŒç»´ç½‘æ ¼å’Œå•è¯åˆ—è¡¨ä¸­å‡ºç°çš„å•è¯ã€‚

å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­"ç›¸é‚»"å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯åœ¨ä¸€ä¸ªå•è¯ä¸­ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚

ç¤ºä¾‹ 1ï¼š
```
è¾“å…¥ï¼šboard = [["o","a","a","n"],["e","t","a","e"],["i","h","k","r"],["i","f","l","v"]], 
words = ["oath","pea","eat","rain"]
è¾“å‡ºï¼š["eat","oath"]
```

ç¤ºä¾‹ 2ï¼š
```
è¾“å…¥ï¼šboard = [["a","b"],["c","d"]], words = ["abcb"]
è¾“å‡ºï¼š[]
```

æç¤ºï¼š
- m == board.length
- n == board[i].length
- 1 <= m, n <= 12
- board[i][j] æ˜¯ä¸€ä¸ªå°å†™è‹±æ–‡å­—æ¯
- 1 <= words.length <= 3 * 10^4
- 1 <= words[i].length <= 10
- words[i] ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ
- words ä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸²äº’ä¸ç›¸åŒ

---

## è§£é¢˜æ€è·¯

### Trie æ ‘ + DFS

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
æœ¬é¢˜æ˜¯ [å•è¯æœç´¢](../src/main/java/L0079_WordSearch.java) çš„è¿›é˜¶ç‰ˆæœ¬ã€‚ä¸åŒä¹‹å¤„åœ¨äºï¼Œæˆ‘ä»¬éœ€è¦åœ¨äºŒç»´ç½‘æ ¼ä¸­åŒæ—¶æœç´¢å¤šä¸ªå•è¯ã€‚ä¸ºäº†æé«˜æœç´¢æ•ˆç‡ï¼Œæˆ‘ä»¬ä½¿ç”¨ Trie æ ‘ï¼ˆå‰ç¼€æ ‘ï¼‰æ¥å­˜å‚¨æ‰€æœ‰å¾…æœç´¢çš„å•è¯ï¼Œç„¶åä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰åœ¨ç½‘æ ¼ä¸­æŸ¥æ‰¾è¿™äº›å•è¯ã€‚

Trie æ ‘çš„ä¼˜åŠ¿åœ¨äºï¼š
1. å¯ä»¥é«˜æ•ˆåœ°å­˜å‚¨å’ŒæŸ¥æ‰¾å­—ç¬¦ä¸²
2. å¯ä»¥å…±äº«å­—ç¬¦ä¸²çš„å…¬å…±å‰ç¼€
3. åœ¨æœç´¢è¿‡ç¨‹ä¸­å¯ä»¥å¿«é€Ÿåˆ¤æ–­å½“å‰è·¯å¾„æ˜¯å¦å¯èƒ½æ„æˆç›®æ ‡å•è¯

#### ğŸ› ï¸ å®ç°æ­¥éª¤
1. æ„å»º Trie æ ‘ï¼š
   - åˆ›å»º TrieNode ç»“æ„ï¼ŒåŒ…å«å­èŠ‚ç‚¹æ•°ç»„å’Œå•è¯æ ‡è®°
   - å°†æ‰€æœ‰å¾…æœç´¢çš„å•è¯æ’å…¥ Trie æ ‘

2. åœ¨ç½‘æ ¼ä¸­æœç´¢ï¼š
   - ä»æ¯ä¸ªæ ¼å­å¼€å§‹ï¼Œä½¿ç”¨ DFS æœç´¢å¯èƒ½çš„å•è¯
   - ä½¿ç”¨ Trie æ ‘èŠ‚ç‚¹è·Ÿè¸ªå½“å‰æœç´¢è·¯å¾„
   - å½“æ‰¾åˆ°ä¸€ä¸ªå®Œæ•´å•è¯æ—¶ï¼Œå°†å…¶åŠ å…¥ç»“æœé›†

3. DFS æœç´¢è¿‡ç¨‹ï¼š
   - æ£€æŸ¥å½“å‰ä½ç½®æ˜¯å¦æœ‰æ•ˆ
   - æ£€æŸ¥å½“å‰å­—ç¬¦æ˜¯å¦åœ¨ Trie æ ‘çš„å½“å‰èŠ‚ç‚¹ä¸­
   - æ ‡è®°å·²è®¿é—®çš„æ ¼å­
   - å‘å››ä¸ªæ–¹å‘ç»§ç»­æœç´¢
   - æ¢å¤æ ¼å­çš„åŸå§‹çŠ¶æ€ï¼ˆå›æº¯ï¼‰

#### ğŸ§© ç¤ºä¾‹åˆ†æ
ä»¥ç¤ºä¾‹ 1 ä¸ºä¾‹ï¼Œåˆ†ææœç´¢è¿‡ç¨‹ï¼š

1. é¦–å…ˆæ„å»º Trie æ ‘ï¼š
```
root
â”œâ”€â”€ e
â”‚   â””â”€â”€ a
â”‚       â””â”€â”€ t*
â”œâ”€â”€ o
â”‚   â””â”€â”€ a
â”‚       â””â”€â”€ t
â”‚           â””â”€â”€ h*
â”œâ”€â”€ p
â”‚   â””â”€â”€ e
â”‚       â””â”€â”€ a*
â””â”€â”€ r
    â””â”€â”€ a
        â””â”€â”€ i
            â””â”€â”€ n*
```
ï¼ˆ* è¡¨ç¤ºå•è¯ç»“å°¾ï¼‰

2. åœ¨ç½‘æ ¼ä¸­æœç´¢çš„è¿‡ç¨‹ï¼š
```
[o] a  a  n     // ä» 'o' å¼€å§‹ï¼Œå¯èƒ½å½¢æˆ "oath"
 e  t  a  e
 i  h  k  r
 i  f  l  v

[o][a] a  n     // ç»§ç»­åˆ° 'a'
 e  t  a  e
 i  h  k  r
 i  f  l  v

[o][a][t] n     // ç»§ç»­åˆ° 't'ï¼Œåœ¨ Trie ä¸­æ‰¾åˆ°åŒ¹é…è·¯å¾„
 e [t] a  e
 i  h  k  r
 i  f  l  v

[o][a][t][h]    // æ‰¾åˆ°å•è¯ "oath"
 e [t] a  e
 i [h] k  r
 i  f  l  v
```

æœç´¢è¿‡ç¨‹è¡¨æ ¼è¯´æ˜ï¼š

| æ­¥éª¤ | å½“å‰ä½ç½® | Trie èŠ‚ç‚¹è·¯å¾„ | å·²æ‰¾åˆ°å•è¯ | ä¸‹ä¸€æ­¥æ–¹å‘ |
|-----|---------|-------------|-----------|-----------|
| 1 | (0,0) 'o' | root â†’ o | - | å³ã€ä¸‹ |
| 2 | (0,1) 'a' | root â†’ o â†’ a | - | å³ã€ä¸‹ |
| 3 | (1,1) 't' | root â†’ o â†’ a â†’ t | - | å³ã€ä¸‹ |
| 4 | (1,2) 'h' | root â†’ o â†’ a â†’ t â†’ h | "oath" | å›æº¯ |

---

## ä»£ç å®ç°

å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š[L0212_WordSearchII.java](../src/main/java/L0212_WordSearchII.java)

```java
public class L0212_WordSearchII {
    private class TrieNode {
        private TrieNode[] children;
        private String word;
        
        public TrieNode() {
            children = new TrieNode[26];
            word = null;
        }
    }
    
    private static final int[][] DIRECTIONS = {{-1, 0}, {0, 1}, {1, 0}, {0, -1}};
    
    public List<String> findWords(char[][] board, String[] words) {
        List<String> result = new ArrayList<>();
        if (board == null || board.length == 0 || words == null || words.length == 0) {
            return result;
        }
        
        // æ„å»º Trie æ ‘
        TrieNode root = buildTrie(words);
        
        // ä»æ¯ä¸ªæ ¼å­å¼€å§‹æœç´¢
        int m = board.length;
        int n = board[0].length;
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                dfs(board, i, j, root, result);
            }
        }
        
        return result;
    }
}
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(M Ã— N Ã— 4^L)
  - M å’Œ N æ˜¯ç½‘æ ¼çš„ç»´åº¦
  - L æ˜¯å•è¯çš„æœ€å¤§é•¿åº¦
  - å¯¹äºæ¯ä¸ªèµ·å§‹ä½ç½®ï¼Œæœ€å¤šéœ€è¦æœç´¢ 4^L æ¡è·¯å¾„
  - æ€»å…±æœ‰ M Ã— N ä¸ªèµ·å§‹ä½ç½®

- **ç©ºé—´å¤æ‚åº¦**ï¼šO(K)
  - K æ˜¯æ‰€æœ‰å•è¯çš„å­—ç¬¦æ€»æ•°
  - Trie æ ‘éœ€è¦å­˜å‚¨æ‰€æœ‰å•è¯
  - é€’å½’è°ƒç”¨æ ˆçš„æ·±åº¦ä¸ºå•è¯çš„æœ€å¤§é•¿åº¦ L

---

## LeetCode é¢˜è§£

æœ¬é¢˜è§£æ˜¯ LeetCode ç³»åˆ—é¢˜è§£çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç³»åˆ—é¢˜è§£è‡´åŠ›äºå¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ç®—æ³•æ€ç»´ï¼Œå†…å®¹åŒ…å«è¯¦ç»†çš„è§£é¢˜æ€è·¯åˆ†æã€å›¾æ–‡å¹¶èŒ‚çš„ç¤ºä¾‹è®²è§£å’Œå®Œæ•´çš„ä»£ç å®ç°ã€‚

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode)ï¼šæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿ Star â­ï¸ å…³æ³¨ï¼Œä¸€èµ·æ¢è®¨ç®—æ³•ä¹‹ç¾ã€‚ 