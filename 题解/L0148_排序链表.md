---
title: æ’åºé“¾è¡¨
date: 2024-03-26
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[æ’åºé“¾è¡¨](https://leetcode.cn/problems/sort-list/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`é“¾è¡¨` `æ’åº` `åˆ†æ²»` `å½’å¹¶æ’åº`  
**ğŸŸ¡ éš¾åº¦**ï¼š`ä¸­ç­‰`  

ç»™ä½ é“¾è¡¨çš„å¤´ç»“ç‚¹ head ï¼Œè¯·å°†å…¶æŒ‰ å‡åº æ’åˆ—å¹¶è¿”å› æ’åºåçš„é“¾è¡¨ã€‚
è¦æ±‚ï¼šåœ¨ O(n log n) æ—¶é—´å¤æ‚åº¦å’Œå¸¸æ•°çº§ç©ºé—´å¤æ‚åº¦ä¸‹è§£å†³æ­¤é—®é¢˜ã€‚

**ç¤ºä¾‹ 1ï¼š**
```
è¾“å…¥ï¼šhead = [4,2,1,3]
è¾“å‡ºï¼š[1,2,3,4]
```

**ç¤ºä¾‹ 2ï¼š**
```
è¾“å…¥ï¼šhead = [-1,5,3,4,0]
è¾“å‡ºï¼š[-1,0,3,4,5]
```

**ç¤ºä¾‹ 3ï¼š**
```
è¾“å…¥ï¼šhead = []
è¾“å‡ºï¼š[]
```

**æç¤ºï¼š**
- é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´ [0, 5 * 10â´] å†…
- -10âµ <= Node.val <= 10âµ

---

## è§£é¢˜æ€è·¯

### å½’å¹¶æ’åº

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
ç”±äºé¢˜ç›®è¦æ±‚ O(n log n) çš„æ—¶é—´å¤æ‚åº¦å’Œå¸¸æ•°çº§çš„ç©ºé—´å¤æ‚åº¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å½’å¹¶æ’åºçš„æ€æƒ³æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å½’å¹¶æ’åºçš„ä¸»è¦æ­¥éª¤æ˜¯ï¼š

1. å°†å¾…æ’åºåºåˆ—åˆ†æˆä¸¤ä¸ªå­åºåˆ—
2. å¯¹ä¸¤ä¸ªå­åºåˆ—åˆ†åˆ«è¿›è¡Œæ’åº
3. å°†ä¸¤ä¸ªå·²æ’åºçš„å­åºåˆ—åˆå¹¶æˆä¸€ä¸ªæœ‰åºåºåˆ—

å¯¹äºé“¾è¡¨æ¥è¯´ï¼Œæˆ‘ä»¬éœ€è¦ï¼š
1. ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°é“¾è¡¨çš„ä¸­ç‚¹ï¼Œå°†é“¾è¡¨åˆ†æˆä¸¤åŠ
2. é€’å½’åœ°å¯¹ä¸¤ä¸ªå­é“¾è¡¨è¿›è¡Œæ’åº
3. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨

#### ğŸ› ï¸ å®ç°æ­¥éª¤

1. ç‰¹æ®Šæƒ…å†µå¤„ç†ï¼š
   - å¦‚æœé“¾è¡¨ä¸ºç©ºæˆ–åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç›´æ¥è¿”å›

2. æ‰¾åˆ°é“¾è¡¨ä¸­ç‚¹ï¼š
   - ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸€æ­¥
   - å½“å¿«æŒ‡é’ˆåˆ°è¾¾æœ«å°¾æ—¶ï¼Œæ…¢æŒ‡é’ˆæŒ‡å‘ä¸­ç‚¹

3. åˆ†å‰²é“¾è¡¨ï¼š
   - è®°å½•ä¸­ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
   - æ–­å¼€ä¸­ç‚¹çš„ next æŒ‡é’ˆï¼Œå°†é“¾è¡¨åˆ†æˆä¸¤åŠ

4. é€’å½’æ’åºï¼š
   - å¯¹å·¦åŠéƒ¨åˆ†é€’å½’è°ƒç”¨ sortList
   - å¯¹å³åŠéƒ¨åˆ†é€’å½’è°ƒç”¨ sortList

5. åˆå¹¶æœ‰åºé“¾è¡¨ï¼š
   - ä½¿ç”¨åŒæŒ‡é’ˆæ³•åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨
   - è¿”å›åˆå¹¶åçš„é“¾è¡¨

#### ğŸ§© ç¤ºä¾‹åˆ†æ

ä»¥ç¤ºä¾‹ 1 ä¸ºä¾‹ï¼Œåˆ†ææ•´ä¸ªæ’åºè¿‡ç¨‹ï¼š
```
è¾“å…¥ï¼š[4,2,1,3]
```

1. ç¬¬ä¸€æ¬¡åˆ†å‰²ï¼š
```
ä¸­ç‚¹ï¼š2
å·¦åŠéƒ¨åˆ†ï¼š4->2
å³åŠéƒ¨åˆ†ï¼š1->3
```

2. é€’å½’æ’åºå·¦åŠéƒ¨åˆ†ï¼š
```
åˆ†å‰²ï¼š4 | 2
æ’åºåï¼š2->4
```

3. é€’å½’æ’åºå³åŠéƒ¨åˆ†ï¼š
```
åˆ†å‰²ï¼š1 | 3
æ’åºåï¼š1->3
```

4. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ï¼š
```
å·¦åŠéƒ¨åˆ†ï¼š2->4
å³åŠéƒ¨åˆ†ï¼š1->3
åˆå¹¶ç»“æœï¼š1->2->3->4
```

å¤„ç†è¿‡ç¨‹è¡¨æ ¼è¯´æ˜ï¼š

| æ­¥éª¤ | æ“ä½œ | å·¦åŠéƒ¨åˆ† | å³åŠéƒ¨åˆ† | ç»“æœ |
|-----|------|---------|----------|------|
| 1 | åˆ†å‰² | [4,2] | [1,3] | - |
| 2 | æ’åºå·¦åŠéƒ¨åˆ† | [2,4] | [1,3] | - |
| 3 | æ’åºå³åŠéƒ¨åˆ† | [2,4] | [1,3] | - |
| 4 | åˆå¹¶ | - | - | [1,2,3,4] |

---

## ä»£ç å®ç°

å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š[L0148_SortList.java](../src/main/java/L0148_SortList.java)

```java
public ListNode sortList(ListNode head) {
    // å¦‚æœé“¾è¡¨ä¸ºç©ºæˆ–åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç›´æ¥è¿”å›
    if (head == null || head.next == null) {
        return head;
    }
    
    // ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆæ‰¾åˆ°é“¾è¡¨ä¸­ç‚¹
    ListNode slow = head;
    ListNode fast = head.next;
    while (fast != null && fast.next != null) {
        slow = slow.next;
        fast = fast.next.next;
    }
    
    // åˆ†å‰²é“¾è¡¨
    ListNode mid = slow.next;
    slow.next = null;
    
    // é€’å½’æ’åºä¸¤ä¸ªå­é“¾è¡¨
    ListNode left = sortList(head);
    ListNode right = sortList(mid);
    
    // åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨
    return merge(left, right);
}

// åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨
private ListNode merge(ListNode l1, ListNode l2) {
    ListNode dummy = new ListNode(0);
    ListNode curr = dummy;
    
    while (l1 != null && l2 != null) {
        if (l1.val <= l2.val) {
            curr.next = l1;
            l1 = l1.next;
        } else {
            curr.next = l2;
            l2 = l2.next;
        }
        curr = curr.next;
    }
    
    curr.next = l1 != null ? l1 : l2;
    return dummy.next;
}
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(n log n)
  - å½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n log n)
  - æ¯ä¸€å±‚çš„åˆå¹¶æ“ä½œéœ€è¦ O(n) çš„æ—¶é—´
  - æ€»å…±æœ‰ log n å±‚
  - å› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º O(n log n)

- **ç©ºé—´å¤æ‚åº¦**ï¼šO(log n)
  - é€’å½’è°ƒç”¨æ ˆçš„æ·±åº¦æ˜¯ O(log n)
  - é™¤äº†é€’å½’è°ƒç”¨æ ˆå¤–ï¼Œæ²¡æœ‰ä½¿ç”¨é¢å¤–çš„ç©ºé—´
  - è™½ç„¶é¢˜ç›®è¦æ±‚ O(1) çš„ç©ºé—´å¤æ‚åº¦ï¼Œä½†ç”±äºé€’å½’çš„ç‰¹æ€§ï¼Œè¿™æ˜¯æœ€ä¼˜è§£

---

## ä¼˜åŒ–æ€è·¯

1. **è‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åº**
   - å¯ä»¥é€šè¿‡è¿­ä»£çš„æ–¹å¼å®ç°å½’å¹¶æ’åº
   - é¿å…é€’å½’è°ƒç”¨æ ˆçš„ç©ºé—´å¼€é”€
   - å®ç°çœŸæ­£çš„ O(1) ç©ºé—´å¤æ‚åº¦

2. **ä¼˜åŒ–é“¾è¡¨åˆ‡åˆ†**
   - å¯ä»¥é€šè¿‡è®¡ç®—é“¾è¡¨é•¿åº¦æ¥å®ç°æ›´ç²¾ç¡®çš„åˆ‡åˆ†
   - é¿å…ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆå¯»æ‰¾ä¸­ç‚¹çš„å¼€é”€

3. **åŸåœ°åˆå¹¶ä¼˜åŒ–**
   - å¯ä»¥é€šè¿‡è°ƒæ•´æŒ‡é’ˆçš„æ–¹å¼å®ç°åŸåœ°åˆå¹¶
   - å‡å°‘åˆ›å»ºæ–°èŠ‚ç‚¹çš„å¼€é”€

---

## LeetCode é¢˜è§£

æœ¬é¢˜è§£æ˜¯ LeetCode ç³»åˆ—é¢˜è§£çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç³»åˆ—é¢˜è§£è‡´åŠ›äºå¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ç®—æ³•æ€ç»´ï¼Œå†…å®¹åŒ…å«è¯¦ç»†çš„è§£é¢˜æ€è·¯åˆ†æã€å›¾æ–‡å¹¶èŒ‚çš„ç¤ºä¾‹è®²è§£å’Œå®Œæ•´çš„ä»£ç å®ç°ã€‚

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode)ï¼šæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿ Star â­ï¸ å…³æ³¨ï¼Œä¸€èµ·æ¢è®¨ç®—æ³•ä¹‹ç¾ã€‚ 