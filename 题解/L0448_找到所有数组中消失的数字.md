---
title: æ‰¾åˆ°æ‰€æœ‰æ•°ç»„ä¸­æ¶ˆå¤±çš„æ•°å­—
date: 2025-02-11
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[æ‰¾åˆ°æ‰€æœ‰æ•°ç»„ä¸­æ¶ˆå¤±çš„æ•°å­—](https://leetcode.cn/problems/find-all-numbers-disappeared-in-an-array/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`æ•°ç»„` `å“ˆå¸Œè¡¨`  
**ğŸŸ¢ éš¾åº¦**ï¼š`ç®€å•`  

ç»™ä½ ä¸€ä¸ªå« n ä¸ªæ•´æ•°çš„æ•°ç»„ nums ï¼Œå…¶ä¸­ nums[i] åœ¨åŒºé—´ [1, n] å†…ã€‚è¯·ä½ æ‰¾å‡ºæ‰€æœ‰åœ¨ [1, n] èŒƒå›´å†…ä½†æ²¡æœ‰å‡ºç°åœ¨ nums ä¸­çš„æ•°å­—ï¼Œå¹¶ä»¥æ•°ç»„çš„å½¢å¼è¿”å›ç»“æœã€‚

ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šnums = [4,3,2,7,8,2,3,1]
è¾“å‡ºï¼š[5,6]

ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šnums = [1,1]
è¾“å‡ºï¼š[2]

æç¤ºï¼š
- n == nums.length
- 1 <= n <= 10âµ
- 1 <= nums[i] <= n

è¿›é˜¶ï¼šä½ èƒ½åœ¨ä¸ä½¿ç”¨é¢å¤–ç©ºé—´ä¸”æ—¶é—´å¤æ‚åº¦ä¸º O(n) çš„æƒ…å†µä¸‹è§£å†³è¿™ä¸ªé—®é¢˜å—? ä½ å¯ä»¥å‡å®šè¿”å›çš„æ•°ç»„ä¸ç®—åœ¨é¢å¤–ç©ºé—´å†…ã€‚

---

## è§£é¢˜æ€è·¯
### åŸåœ°ä¿®æ”¹æ•°ç»„

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
æœ¬é¢˜çš„å…³é”®æ˜¯è¦åœ¨ä¸ä½¿ç”¨é¢å¤–ç©ºé—´çš„æƒ…å†µä¸‹æ‰¾å‡ºç¼ºå¤±çš„æ•°å­—ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ•°ç»„æœ¬èº«æ¥æ ‡è®°æ•°å­—çš„å‡ºç°æƒ…å†µã€‚ç”±äºæ•°ç»„ä¸­çš„æ•°å­—èŒƒå›´åœ¨ 1 åˆ° n ä¹‹é—´ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ¯ä¸ªæ•°å­—å¯¹åº”ä½ç½®ï¼ˆå‡ 1 åçš„ç´¢å¼•ï¼‰çš„æ•°åŠ ä¸Š nï¼Œè¿™æ ·åœ¨æœ€åéå†æ•°ç»„æ—¶ï¼Œå¦‚æœæŸä¸ªä½ç½®çš„æ•°å­—å°äºç­‰äº nï¼Œå°±è¯´æ˜æ²¡æœ‰æ•°å­—æ˜ å°„åˆ°è¿™ä¸ªä½ç½®ã€‚

#### ğŸ› ï¸ å®ç°æ­¥éª¤
1. éå†æ•°ç»„ï¼Œå¯¹äºæ¯ä¸ªæ•°å­— nums[i]ï¼š
   - è®¡ç®—å…¶å¯¹åº”çš„ç´¢å¼• index = (nums[i] - 1) % n
   - åœ¨ nums[index] ä¸ŠåŠ ä¸Š n
2. å†æ¬¡éå†æ•°ç»„ï¼Œå¯¹äºæ¯ä¸ªä½ç½® iï¼š
   - å¦‚æœ nums[i] <= nï¼Œè¯´æ˜æ²¡æœ‰æ•°å­—æ˜ å°„åˆ°è¿™ä¸ªä½ç½®
   - å°† i + 1 åŠ å…¥ç»“æœåˆ—è¡¨ï¼ˆå› ä¸ºæ•°å­—èŒƒå›´æ˜¯ 1 åˆ° nï¼‰

#### ğŸ§© ç¤ºä¾‹åˆ†æ
ä»¥ç¤ºä¾‹ 1ï¼šnums = [4,3,2,7,8,2,3,1] ä¸ºä¾‹ï¼Œæ¼”ç¤ºæ•´ä¸ªè®¡ç®—è¿‡ç¨‹ï¼š

1. åˆå§‹çŠ¶æ€ï¼š
```
ç´¢å¼•ï¼š0  1  2  3  4  5  6  7
æ•°å­—ï¼š4  3  2  7  8  2  3  1
```

2. ç¬¬ä¸€æ¬¡éå†ï¼Œæ ‡è®°æ•°å­—å‡ºç°çš„ä½ç½®ï¼š
| æ­¥éª¤ | å½“å‰æ•°å­— | å¯¹åº”ç´¢å¼• | æ•°ç»„çŠ¶æ€ | è¯´æ˜ |
|-----|---------|---------|----------|-----|
| 1 | 4 | 3 | [4,3,2,15,8,2,3,1] | nums[3] += 8 |
| 2 | 3 | 2 | [4,3,10,15,8,2,3,1] | nums[2] += 8 |
| 3 | 2 | 1 | [4,11,10,15,8,2,3,1] | nums[1] += 8 |
| 4 | 7 | 6 | [4,11,10,15,8,2,11,1] | nums[6] += 8 |
| 5 | 8 | 7 | [4,11,10,15,8,2,11,9] | nums[7] += 8 |
| 6 | 2 | 1 | [4,19,10,15,8,2,11,9] | nums[1] += 8 |
| 7 | 3 | 2 | [4,19,18,15,8,2,11,9] | nums[2] += 8 |
| 8 | 1 | 0 | [12,19,18,15,8,2,11,9] | nums[0] += 8 |

3. ç¬¬äºŒæ¬¡éå†ï¼Œæ‰¾å‡ºæœªè¢«æ ‡è®°çš„ä½ç½®ï¼š
```
ç´¢å¼•ï¼š0  1  2  3  4  5  6  7
æ•°å­—ï¼š12 19 18 15 8  2  11 9
     âœ“  âœ“  âœ“  âœ“  âœ—  âœ—  âœ“  âœ“
```

å¯ä»¥çœ‹åˆ°ï¼Œç´¢å¼• 4 å’Œ 5 å¯¹åº”çš„æ•°å­—å°äºç­‰äº 8ï¼ˆæ•°ç»„é•¿åº¦ï¼‰ï¼Œè¯´æ˜è¿™ä¸¤ä¸ªä½ç½®æ²¡æœ‰è¢«æ ‡è®°ï¼Œå› æ­¤ç¼ºå¤±çš„æ•°å­—æ˜¯ 5 å’Œ 6ã€‚

---

## ä»£ç å®ç°

å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š[L0448_FindAllNumbersDisappearedInAnArray.java](../src/main/java/L0448_FindAllNumbersDisappearedInAnArray.java)

```java
public java.util.List<Integer> findDisappearedNumbers(int[] nums) {
    int n = nums.length;
    
    // å°†æ¯ä¸ªæ•°å¯¹åº”ä½ç½®çš„æ•°åŠ ä¸Š n
    for (int i = 0; i < n; i++) {
        // è·å–å½“å‰æ•°å­—å¯¹åº”çš„ç´¢å¼•ï¼ˆå‡ 1 æ˜¯å› ä¸ºæ•°å­—èŒƒå›´æ˜¯ 1 åˆ° nï¼‰
        int index = (nums[i] - 1) % n;
        // åœ¨å¯¹åº”ä½ç½®çš„æ•°å­—ä¸ŠåŠ  n
        nums[index] += n;
    }
    
    // æ”¶é›†ç»“æœ
    java.util.List<Integer> result = new java.util.ArrayList<>();
    for (int i = 0; i < n; i++) {
        // å¦‚æœæŸä¸ªä½ç½®çš„æ•°å­—å°äºç­‰äº nï¼Œè¯´æ˜æ²¡æœ‰æ•°å­—æ˜ å°„åˆ°è¿™ä¸ªä½ç½®
        if (nums[i] <= n) {
            // å°†ç´¢å¼•åŠ  1 å¾—åˆ°æ¶ˆå¤±çš„æ•°å­—
            result.add(i + 1);
        }
    }
    
    return result;
}
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚æˆ‘ä»¬åªéœ€è¦éå†æ•°ç»„ä¸¤æ¬¡ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(1)ï¼Œé™¤äº†è¿”å›çš„ç»“æœæ•°ç»„å¤–ï¼Œæˆ‘ä»¬åªä½¿ç”¨äº†å¸¸æ•°çº§åˆ«çš„é¢å¤–ç©ºé—´ã€‚

---

## LeetCode é¢˜è§£
     
æœ¬é¢˜è§£æ˜¯ LeetCode ç³»åˆ—é¢˜è§£çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç³»åˆ—é¢˜è§£è‡´åŠ›äºå¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ç®—æ³•æ€ç»´ï¼Œå†…å®¹åŒ…å«è¯¦ç»†çš„è§£é¢˜æ€è·¯åˆ†æã€å›¾æ–‡å¹¶èŒ‚çš„ç¤ºä¾‹è®²è§£å’Œå®Œæ•´çš„ä»£ç å®ç°ã€‚
     
<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode)ï¼šæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿ Star â­ï¸ å…³æ³¨ï¼Œä¸€èµ·æ¢è®¨ç®—æ³•ä¹‹ç¾ã€‚ 