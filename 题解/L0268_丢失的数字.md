---
title: 丢失的数字
date: 2024-02-10
---

## 题目描述

**🔗 题目**：[丢失的数字](https://leetcode.cn/problems/missing-number/)  
**🏷️ 标签**：`位运算` `数组` `哈希表` `数学` `排序`  
**🟢 难度**：`简单`  

给定一个包含 [0, n] 中 n 个数的数组 nums ，找出 [0, n] 这个范围内没有出现在数组中的那个数。

示例 1：
```
输入：nums = [3,0,1]
输出：2
解释：n = 3，因为有 3 个数字，所以所有的数字都在范围 [0,3] 内。2 是丢失的数字，因为它没有出现在 nums 中。
```

示例 2：
```
输入：nums = [0,1]
输出：2
解释：n = 2，因为有 2 个数字，所以所有的数字都在范围 [0,2] 内。2 是丢失的数字，因为它没有出现在 nums 中。
```

示例 3：
```
输入：nums = [9,6,4,2,3,5,7,0,1]
输出：8
解释：n = 9，因为有 9 个数字，所以所有的数字都在范围 [0,9] 内。8 是丢失的数字，因为它没有出现在 nums 中。
```

示例 4：
```
输入：nums = [0]
输出：1
解释：n = 1，因为有 1 个数字，所以所有的数字都在范围 [0,1] 内。1 是丢失的数字，因为它没有出现在 nums 中。
```

提示：
- n == nums.length
- 1 <= n <= 10⁴
- 0 <= nums[i] <= n
- nums 中的所有数字都 独一无二

---

## 解题思路
### 异或运算

#### 📝 核心思想
利用异或运算的以下性质：
1. 任何数和自己异或等于 0：a ^ a = 0
2. 任何数和 0 异或等于自己：a ^ 0 = a
3. 异或运算满足交换律和结合律

通过将数组的索引和值都异或起来，缺失的数字就会留下来。

#### 🛠️ 实现步骤
1. 初始化结果为数组长度 n
2. 遍历数组，对每个位置 i：
   - 将结果与索引 i 异或
   - 将结果与数组值 nums[i] 异或
3. 最终结果就是缺失的数字

#### 🧩 示例分析
以输入 `[3,0,1]` 为例：

1. 初始化：
   ```
   result = n = 3
   ```

2. 遍历数组：
   | 索引 i | nums[i] | 当前操作 | result |
   |--------|---------|----------|---------|
   | 初始值 | - | - | 3 |
   | 0 | 3 | 3 ^ 0 ^ 3 | 0 |
   | 1 | 0 | 0 ^ 1 ^ 0 | 1 |
   | 2 | 1 | 1 ^ 2 ^ 1 | 2 |

3. 最终结果为 2，即为缺失的数字

为什么这个方法有效？
- 对于范围 [0,n] 中的每个数，除了缺失的数字外，其他数字都会在数组中出现一次
- 通过异或运算，相同的数字会抵消（变为 0）
- 最后剩下的就是只出现一次的数字（缺失的数字）

---

## 代码实现

完整的可运行代码：[L0268_MissingNumber.java](../src/main/java/L0268_MissingNumber.java)

```java
public int missingNumber(int[] nums) {
    // 使用异或运算的性质：
    // 1. a ^ a = 0
    // 2. a ^ 0 = a
    // 3. 异或运算满足交换律和结合律
    int result = nums.length;
    for (int i = 0; i < nums.length; i++) {
        // 将数组中的每个数和它的下标异或
        // 再和 n 异或
        result ^= i ^ nums[i];
    }
    return result;
}
```

---

## 复杂度分析

- **时间复杂度**：O(n)，其中 n 是数组的长度。我们只需要遍历一次数组。
- **空间复杂度**：O(1)。只使用了常数额外空间。

---

## LeetCode 题解
     
本题解是 LeetCode 系列题解的一部分。该系列题解致力于帮助程序员更好地理解和掌握算法思维，内容包含详细的解题思路分析、图文并茂的示例讲解和完整的代码实现。
     
<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode 最全题解](https://github.com/LjyYano/LeetCode)：持续更新中，欢迎 Star ⭐️ 关注，一起探讨算法之美。 