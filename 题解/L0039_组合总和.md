---
title: ç»„åˆæ€»å’Œ
date: 2025-02-08
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[ç»„åˆæ€»å’Œ](https://leetcode.cn/problems/combination-sum/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`æ•°ç»„` `å›æº¯` `å‰ªæ`  
**ğŸŸ¡ éš¾åº¦**ï¼š`ä¸­ç­‰`  

ç»™ä½ ä¸€ä¸ª æ— é‡å¤å…ƒç´  çš„æ•´æ•°æ•°ç»„ candidates å’Œä¸€ä¸ªç›®æ ‡æ•´æ•° targetï¼Œæ‰¾å‡º candidates ä¸­å¯ä»¥ä½¿æ•°å­—å’Œä¸ºç›®æ ‡æ•° target çš„æ‰€æœ‰ä¸åŒç»„åˆï¼Œå¹¶ä»¥åˆ—è¡¨å½¢å¼è¿”å›ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›è¿™äº›ç»„åˆã€‚

candidates ä¸­çš„ åŒä¸€ä¸ª æ•°å­—å¯ä»¥ æ— é™åˆ¶é‡å¤è¢«é€‰å–ã€‚å¦‚æœè‡³å°‘ä¸€ä¸ªæ•°å­—çš„è¢«é€‰æ•°é‡ä¸åŒï¼Œåˆ™ä¸¤ç§ç»„åˆæ˜¯ä¸åŒçš„ã€‚ 

å¯¹äºç»™å®šçš„è¾“å…¥ï¼Œä¿è¯å’Œä¸º target çš„ä¸åŒç»„åˆæ•°å°‘äº 150 ä¸ªã€‚

ç¤ºä¾‹ 1ï¼š
```
è¾“å…¥ï¼šcandidates = [2,3,6,7], target = 7
è¾“å‡ºï¼š[[2,2,3],[7]]
è§£é‡Šï¼š
2 å’Œ 3 å¯ä»¥å½¢æˆä¸€ç»„å€™é€‰ï¼Œ2 + 2 + 3 = 7 ã€‚æ³¨æ„ 2 å¯ä»¥ä½¿ç”¨å¤šæ¬¡ã€‚
7 ä¹Ÿæ˜¯ä¸€ä¸ªå€™é€‰ï¼Œ 7 = 7 ã€‚
ä»…æœ‰è¿™ä¸¤ç§ç»„åˆã€‚
```

ç¤ºä¾‹ 2ï¼š
```
è¾“å…¥: candidates = [2,3,5], target = 8
è¾“å‡º: [[2,2,2,2],[2,3,3],[3,5]]
```

ç¤ºä¾‹ 3ï¼š
```
è¾“å…¥: candidates = [2], target = 1
è¾“å‡º: []
```

---

## è§£é¢˜æ€è·¯
### å›æº¯ + å‰ªæ

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
1. ä½¿ç”¨å›æº¯ç®—æ³•ï¼Œå°è¯•æ‰€æœ‰å¯èƒ½çš„ç»„åˆ
2. é€šè¿‡æ’åºå’Œå‰ªæä¼˜åŒ–ï¼Œå‡å°‘ä¸å¿…è¦çš„æœç´¢
3. ä½¿ç”¨ start å‚æ•°æ¥æ§åˆ¶æœç´¢çš„èµ·å§‹ä½ç½®ï¼Œé¿å…é‡å¤ç»„åˆ
4. å½“å‰©ä½™ç›®æ ‡å€¼ä¸º 0 æ—¶ï¼Œæ‰¾åˆ°ä¸€ä¸ªæœ‰æ•ˆç»„åˆ

#### ğŸ› ï¸ å®ç°æ­¥éª¤
1. å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œæ–¹ä¾¿åç»­å‰ªæ
2. å®šä¹‰å›æº¯å‡½æ•°ï¼ŒåŒ…å«ä»¥ä¸‹å‚æ•°ï¼š
   - resultï¼šå­˜å‚¨æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„ç»„åˆ
   - currentï¼šå½“å‰æ­£åœ¨æ„å»ºçš„ç»„åˆ
   - candidatesï¼šå€™é€‰æ•°ç»„
   - remainï¼šå‰©ä½™éœ€è¦å‡‘æˆçš„ç›®æ ‡å€¼
   - startï¼šå½“å‰å¯ä»¥é€‰æ‹©çš„èµ·å§‹ä½ç½®
3. åœ¨å›æº¯è¿‡ç¨‹ä¸­ï¼š
   - å¦‚æœ remain = 0ï¼Œæ‰¾åˆ°ä¸€ä¸ªæœ‰æ•ˆç»„åˆ
   - ä» start å¼€å§‹å°è¯•æ¯ä¸ªæ•°å­—
   - å¦‚æœå½“å‰æ•°å­—å¤§äºå‰©ä½™ç›®æ ‡å€¼ï¼Œç›´æ¥ç»“æŸå½“å‰åˆ†æ”¯
   - é€‰æ‹©å½“å‰æ•°å­—ï¼Œç»§ç»­é€’å½’
   - æ’¤é”€é€‰æ‹©ï¼Œå°è¯•ä¸‹ä¸€ä¸ªæ•°å­—

#### ğŸ§© ç¤ºä¾‹åˆ†æ
ä»¥ candidates = [2,3,6,7], target = 7 ä¸ºä¾‹ï¼š

```
å›æº¯æ ‘å½¢ç»“æ„ï¼š
                      7(ç›®æ ‡å€¼)
                    /    |     \    \
                   2     3      6    7
                  /  \    \
                 2    3    3
                /      \
               2        1
              /
             1(å°äºæœ€å°å€¼ï¼Œåœæ­¢)

é€‰æ‹©è·¯å¾„åˆ†æï¼š
1. ä» 2 å¼€å§‹ï¼š
   - 2 â†’ 5(remain) â†’ 2 â†’ 3(remain) â†’ 3 â†’ 0(remain) âœ… [2,2,3]
   - 2 â†’ 5(remain) â†’ 3 â†’ 2(remain) â†’ åœæ­¢
   - 2 â†’ 5(remain) â†’ 6 â†’ åœæ­¢(>remain)

2. ä» 3 å¼€å§‹ï¼š
   - 3 â†’ 4(remain) â†’ 3 â†’ 1(remain) â†’ åœæ­¢
   - 3 â†’ 4(remain) â†’ 6 â†’ åœæ­¢(>remain)

3. ä» 6 å¼€å§‹ï¼š
   - 6 â†’ 1(remain) â†’ åœæ­¢

4. ä» 7 å¼€å§‹ï¼š
   - 7 â†’ 0(remain) âœ… [7]
```

å‰ªæä¼˜åŒ–è¯´æ˜ï¼š
1. æ•°ç»„æ’åºåï¼Œå½“å‘ç°å½“å‰æ•°å­—å¤§äºå‰©ä½™ç›®æ ‡å€¼æ—¶ï¼Œå¯ä»¥ç›´æ¥ç»“æŸå½“å‰å¾ªç¯
2. ä½¿ç”¨ start å‚æ•°ï¼Œä¿è¯æ¯æ¬¡åªè€ƒè™‘å½“å‰æ•°å­—åŠå…¶åé¢çš„æ•°å­—ï¼Œé¿å…é‡å¤ç»„åˆ
3. é€šè¿‡ä¼ é€’ç›¸åŒçš„ start å€¼ï¼Œå…è®¸é‡å¤ä½¿ç”¨å½“å‰æ•°å­—

---

## ä»£ç å®ç°

å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š[L0039_CombinationSum.java](../src/main/java/L0039_CombinationSum.java)

```java
public List<List<Integer>> combinationSum(int[] candidates, int target) {
    List<List<Integer>> result = new ArrayList<>();
    // å…ˆå¯¹æ•°ç»„æ’åºï¼Œæ–¹ä¾¿å‰ªæ
    Arrays.sort(candidates);
    // å›æº¯æœç´¢æ‰€æœ‰å¯èƒ½çš„ç»„åˆ
    backtrack(result, new ArrayList<>(), candidates, target, 0);
    return result;
}

private void backtrack(List<List<Integer>> result, List<Integer> current, 
        int[] candidates, int remain, int start) {
    // æ‰¾åˆ°ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„ç»„åˆ
    if (remain == 0) {
        result.add(new ArrayList<>(current));
        return;
    }
    
    // å°è¯•é€‰æ‹©æ¯ä¸ªå¯èƒ½çš„æ•°å­—
    for (int i = start; i < candidates.length; i++) {
        // å‰ªæï¼šå¦‚æœå½“å‰æ•°å­—å·²ç»å¤§äºå‰©ä½™ç›®æ ‡å€¼ï¼Œåé¢çš„æ•°å­—æ›´å¤§ï¼Œä¸€å®šä¸ç¬¦åˆè¦æ±‚
        if (candidates[i] > remain) {
            break;
        }
        
        // é€‰æ‹©å½“å‰æ•°å­—
        current.add(candidates[i]);
        // ç»§ç»­æœç´¢ï¼ˆå› ä¸ºå¯ä»¥é‡å¤ä½¿ç”¨ï¼Œæ‰€ä»¥ä¼ å…¥çš„èµ·å§‹ä½ç½®ä»ç„¶æ˜¯ iï¼‰
        backtrack(result, current, candidates, remain - candidates[i], i);
        // æ’¤é”€é€‰æ‹©
        current.remove(current.size() - 1);
    }
}
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(N Ã— 2áµ—)
  - N æ˜¯æ•°ç»„ candidates çš„é•¿åº¦
  - t æ˜¯ target çš„å¤§å°
  - æ¯ä¸ªä½ç½®éƒ½å¯ä»¥é€‰æ‹©æˆ–ä¸é€‰æ‹©ï¼Œä½†ç”±äºå¯ä»¥é‡å¤é€‰æ‹©ï¼Œå®é™…å¤æ‚åº¦ä¼šæ›´é«˜
  - å‰ªæå¯ä»¥å‡å°‘å®é™…çš„æœç´¢ç©ºé—´

- **ç©ºé—´å¤æ‚åº¦**ï¼šO(target)
  - é€’å½’è°ƒç”¨æ ˆçš„æ·±åº¦æœ€å¤§ä¸º target/min(candidates)
  - ä¸è€ƒè™‘å­˜å‚¨ç»“æœæ‰€éœ€çš„ç©ºé—´
  - æ¯ä¸ªé€’å½’å±‚çº§éœ€è¦å­˜å‚¨å½“å‰çš„ç»„åˆ

---

## LeetCode é¢˜è§£

æœ¬é¢˜è§£æ˜¯ LeetCode ç³»åˆ—é¢˜è§£çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç³»åˆ—é¢˜è§£è‡´åŠ›äºå¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ç®—æ³•æ€ç»´ï¼Œå†…å®¹åŒ…å«è¯¦ç»†çš„è§£é¢˜æ€è·¯åˆ†æã€å›¾æ–‡å¹¶èŒ‚çš„ç¤ºä¾‹è®²è§£å’Œå®Œæ•´çš„ä»£ç å®ç°ã€‚

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode)ï¼šæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿ Star â­ï¸ å…³æ³¨ï¼Œä¸€èµ·æ¢è®¨ç®—æ³•ä¹‹ç¾ã€‚ 