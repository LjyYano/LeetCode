---
title: åœ¨åœ†å†…éšæœºç”Ÿæˆç‚¹
date: 2024-02-12
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[478. åœ¨åœ†å†…éšæœºç”Ÿæˆç‚¹](https://leetcode.cn/problems/generate-random-point-in-a-circle/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`å‡ ä½•` `æ•°å­¦` `æ‹’ç»é‡‡æ ·` `éšæœºåŒ–`  
**ğŸŸ¡ éš¾åº¦**ï¼š`ä¸­ç­‰`  

ç»™å®šåœ†çš„åŠå¾„å’Œåœ†å¿ƒçš„ä½ç½®ï¼Œå®ç°å‡½æ•° `randPoint` ï¼Œåœ¨åœ†ä¸­äº§ç”Ÿå‡åŒ€åˆ†å¸ƒçš„éšæœºç‚¹ã€‚

å®ç° `Solution` ç±»:
- `Solution(double radius, double x_center, double y_center)` ç”¨åœ†çš„åŠå¾„ `radius` å’Œåœ†å¿ƒçš„ä½ç½® `(x_center, y_center)` åˆå§‹åŒ–å¯¹è±¡
- `randPoint()` è¿”å›åœ†å†…çš„ä¸€ä¸ªéšæœºç‚¹ã€‚åœ†å‘¨ä¸Šçš„ä¸€ç‚¹è¢«è®¤ä¸ºåœ¨åœ†å†…ã€‚ç­”æ¡ˆä½œä¸ºæ•°ç»„è¿”å› `[x, y]` ã€‚

**ç¤ºä¾‹ 1ï¼š**
```
è¾“å…¥: 
["Solution","randPoint","randPoint","randPoint"]
[[1.0, 0.0, 0.0], [], [], []]
è¾“å‡º: [null, [-0.02493, -0.38077], [0.82314, 0.38945], [0.36572, 0.17248]]
è§£é‡Š:
Solution solution = new Solution(1.0, 0.0, 0.0);
solution.randPoint(); // è¿”å› [-0.02493, -0.38077]
solution.randPoint(); // è¿”å› [0.82314, 0.38945]
solution.randPoint(); // è¿”å› [0.36572, 0.17248]
```

**æç¤ºï¼š**
- `0 < radius <= 10^8`
- `-10^7 <= x_center, y_center <= 10^7`
- `randPoint` æœ€å¤šè¢«è°ƒç”¨ `3 * 10^4` æ¬¡

---

## è§£é¢˜æ€è·¯

### æ‹’ç»é‡‡æ ·æ³•

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
æœ€ç›´è§‚çš„æ–¹æ³•æ˜¯åœ¨åœ†çš„å¤–æ¥æ­£æ–¹å½¢ä¸­éšæœºç”Ÿæˆç‚¹ï¼Œå¦‚æœç‚¹åœ¨åœ†å†…åˆ™æ¥å—ï¼Œå¦åˆ™æ‹’ç»å¹¶é‡æ–°ç”Ÿæˆã€‚è¿™ç§æ–¹æ³•ç®€å•ä½†æ•ˆç‡ä¸æ˜¯æœ€ä¼˜ï¼ˆæ¥å—ç‡çº¦ä¸º Ï€/4 â‰ˆ 78.5%ï¼‰ã€‚

#### ğŸ› ï¸ å®ç°æ­¥éª¤
1. åœ¨è¾¹é•¿ä¸º 2*radius çš„æ­£æ–¹å½¢ä¸­éšæœºç”Ÿæˆç‚¹
2. æ£€æŸ¥ç‚¹æ˜¯å¦åœ¨åœ†å†…ï¼ˆåˆ°åœ†å¿ƒçš„è·ç¦»æ˜¯å¦ <= radiusï¼‰
3. å¦‚æœåœ¨åœ†å†…åˆ™è¿”å›ï¼Œå¦åˆ™é‡æ–°ç”Ÿæˆ

### æåæ ‡æ³•ï¼ˆæ›´ä¼˜ï¼‰

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
ä½¿ç”¨æåæ ‡ç³»ç»Ÿï¼Œä½†éœ€è¦æ³¨æ„å‡åŒ€åˆ†å¸ƒçš„è¦æ±‚ã€‚å¦‚æœç›´æ¥å¯¹åŠå¾„å’Œè§’åº¦è¿›è¡Œå‡åŒ€é‡‡æ ·ï¼Œä¼šå¯¼è‡´é è¿‘åœ†å¿ƒçš„ç‚¹è¿‡äºå¯†é›†ã€‚

æ­£ç¡®çš„åšæ³•æ˜¯ï¼š
- è§’åº¦ Î¸ åœ¨ [0, 2Ï€) ä¹‹é—´å‡åŒ€åˆ†å¸ƒ
- åŠå¾„ r ä¸èƒ½ç›´æ¥å‡åŒ€åˆ†å¸ƒï¼Œè€Œåº”è¯¥è®© rÂ² åœ¨ [0, radiusÂ²] ä¹‹é—´å‡åŒ€åˆ†å¸ƒ

è¿™æ˜¯å› ä¸ºåœ†ç¯çš„é¢ç§¯ä¸åŠå¾„çš„å¹³æ–¹æˆæ­£æ¯”ã€‚

#### ğŸ› ï¸ å®ç°æ­¥éª¤
1. éšæœºç”Ÿæˆè§’åº¦ Î¸ âˆˆ [0, 2Ï€)
2. éšæœºç”Ÿæˆ rÂ² âˆˆ [0, radiusÂ²]ï¼Œç„¶åå–å¹³æ–¹æ ¹å¾—åˆ° r
3. è½¬æ¢ä¸ºç¬›å¡å°”åæ ‡ï¼š
   - x = x_center + r * cos(Î¸)
   - y = y_center + r * sin(Î¸)

---

## ä»£ç å®ç°

```java
import java.util.Random;

public class L0478_GenerateRandomPointInACircle {
    private double radius;
    private double x_center;
    private double y_center;
    private Random random;
    
    public L0478_GenerateRandomPointInACircle(double radius, double x_center, double y_center) {
        this.radius = radius;
        this.x_center = x_center;
        this.y_center = y_center;
        this.random = new Random();
    }
    
    // æ–¹æ³•ä¸€ï¼šæ‹’ç»é‡‡æ ·
    public double[] randPoint() {
        while (true) {
            // åœ¨æ­£æ–¹å½¢å†…éšæœºç”Ÿæˆç‚¹
            double x = random.nextDouble() * 2 * radius - radius;
            double y = random.nextDouble() * 2 * radius - radius;
            
            // æ£€æŸ¥æ˜¯å¦åœ¨åœ†å†…
            if (x * x + y * y <= radius * radius) {
                return new double[]{x_center + x, y_center + y};
            }
        }
    }
    
    // æ–¹æ³•äºŒï¼šæåæ ‡æ³•ï¼ˆæ›´ä¼˜ï¼‰
    public double[] randPointPolar() {
        // éšæœºè§’åº¦
        double theta = random.nextDouble() * 2 * Math.PI;
        // éšæœºåŠå¾„ï¼ˆæ³¨æ„è¦å¯¹ rÂ² å‡åŒ€é‡‡æ ·ï¼‰
        double r = Math.sqrt(random.nextDouble()) * radius;
        
        // è½¬æ¢ä¸ºç¬›å¡å°”åæ ‡
        double x = x_center + r * Math.cos(theta);
        double y = y_center + r * Math.sin(theta);
        
        return new double[]{x, y};
    }
}
```

---

## å¤æ‚åº¦åˆ†æ

### æ‹’ç»é‡‡æ ·æ³•
- **æ—¶é—´å¤æ‚åº¦**ï¼šæœŸæœ› O(1)ï¼Œä½†æœ€åæƒ…å†µä¸‹å¯èƒ½éœ€è¦å¤šæ¬¡å°è¯•ã€‚å¹³å‡æ¥å—ç‡ä¸º Ï€/4 â‰ˆ 78.5%ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(1)ã€‚

### æåæ ‡æ³•
- **æ—¶é—´å¤æ‚åº¦**ï¼šO(1)ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½æ˜¯å¸¸æ•°æ—¶é—´ã€‚
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(1)ã€‚

---

## ç›¸å…³é¢˜ç›®

- [ğŸ”— 470. ç”¨ Rand7() å®ç° Rand10()](https://leetcode.cn/problems/implement-rand10-using-rand7/)
- [ğŸ”— 497. éé‡å çŸ©å½¢ä¸­çš„éšæœºç‚¹](https://leetcode.cn/problems/random-point-in-non-overlapping-rectangles/)

---

## æ€»ç»“

è¿™é“é¢˜è€ƒæŸ¥çš„æ˜¯éšæœºç®—æ³•å’Œå‡ ä½•çŸ¥è¯†ã€‚è§£é¢˜çš„å…³é”®åœ¨äºï¼š
1. ç†è§£å‡åŒ€åˆ†å¸ƒçš„å«ä¹‰
2. æŒæ¡æ‹’ç»é‡‡æ ·çš„æ€æƒ³
3. ç†è§£ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥å¯¹åŠå¾„å‡åŒ€é‡‡æ ·ï¼ˆä¼šå¯¼è‡´ä¸­å¿ƒåŒºåŸŸè¿‡å¯†ï¼‰
4. æŒæ¡æåæ ‡ä¸ç¬›å¡å°”åæ ‡çš„è½¬æ¢

é€šè¿‡è¿™é“é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å­¦ä¹ åˆ°ï¼š
1. ä¸¤ç§å¸¸è§çš„éšæœºé‡‡æ ·æ–¹æ³•
2. åœ†å†…å‡åŒ€åˆ†å¸ƒçš„æ­£ç¡®ç”Ÿæˆæ–¹å¼
3. æ‹’ç»é‡‡æ ·åœ¨å®é™…é—®é¢˜ä¸­çš„åº”ç”¨

---

## LeetCode é¢˜è§£

æœ¬é¢˜è§£æ˜¯ LeetCode ç³»åˆ—é¢˜è§£çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç³»åˆ—é¢˜è§£è‡´åŠ›äºå¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ç®—æ³•æ€ç»´ï¼Œå†…å®¹åŒ…å«è¯¦ç»†çš„è§£é¢˜æ€è·¯åˆ†æã€å›¾æ–‡å¹¶èŒ‚çš„ç¤ºä¾‹è®²è§£å’Œå®Œæ•´çš„ä»£ç å®ç°ã€‚

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode)ï¼šæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿ Star â­ï¸ å…³æ³¨ï¼Œä¸€èµ·æ¢è®¨ç®—æ³•ä¹‹ç¾ã€‚ 