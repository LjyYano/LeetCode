---
title: çª¥è§†è¿­ä»£å™¨
date: 2024-03-24
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[çª¥è§†è¿­ä»£å™¨](https://leetcode.cn/problems/peeking-iterator/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`è®¾è®¡` `æ•°ç»„` `è¿­ä»£å™¨`  
**ğŸŸ¡ éš¾åº¦**ï¼š`ä¸­ç­‰`  

è¯·ä½ åœ¨è®¾è®¡ä¸€ä¸ªè¿­ä»£å™¨ï¼Œåœ¨é›†æˆç°æœ‰è¿­ä»£å™¨æ‹¥æœ‰çš„ hasNext å’Œ next æ“ä½œçš„åŸºç¡€ä¸Šï¼Œè¿˜é¢å¤–æ”¯æŒ peek æ“ä½œã€‚

å®ç° PeekingIterator ç±»ï¼š
- PeekingIterator(Iterator<int> nums) ä½¿ç”¨æŒ‡å®šæ•´æ•°è¿­ä»£å™¨ nums åˆå§‹åŒ–è¿­ä»£å™¨ã€‚
- int next() è¿”å›æ•°ç»„ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†æŒ‡é’ˆç§»åŠ¨åˆ°ä¸‹ä¸ªå…ƒç´ å¤„ã€‚
- boolean hasNext() å¦‚æœæ•°ç»„ä¸­å­˜åœ¨ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚
- int peek() è¿”å›æ•°ç»„ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œä½† ä¸ ç§»åŠ¨æŒ‡é’ˆã€‚

ç¤ºä¾‹ï¼š
```
è¾“å…¥ï¼š
["PeekingIterator", "next", "peek", "next", "next", "hasNext"]
[[[1, 2, 3]], [], [], [], [], []]
è¾“å‡ºï¼š
[null, 1, 2, 2, 3, false]

è§£é‡Šï¼š
PeekingIterator peekingIterator = new PeekingIterator([1, 2, 3]); // [1,2,3]
peekingIterator.next();    // è¿”å› 1ï¼ŒæŒ‡é’ˆç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…ƒç´  [1|2,3]
peekingIterator.peek();    // è¿”å› 2ï¼ŒæŒ‡é’ˆä¸ç§»åŠ¨ [1|2,3]
peekingIterator.next();    // è¿”å› 2ï¼ŒæŒ‡é’ˆç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…ƒç´  [1,2|3]
peekingIterator.next();    // è¿”å› 3ï¼ŒæŒ‡é’ˆç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…ƒç´  [1,2,3|]
peekingIterator.hasNext(); // è¿”å› False
```

æç¤ºï¼š
- 1 <= nums.length <= 1000
- 1 <= nums[i] <= 1000
- å¯¹ next å’Œ peek çš„è°ƒç”¨å‡æœ‰æ•ˆ
- nextã€hasNext å’Œ peek æœ€å¤šè°ƒç”¨ 1000 æ¬¡

---

## è§£é¢˜æ€è·¯
### ç¼“å­˜ä¸‹ä¸€ä¸ªå…ƒç´ 

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
è¿™é“é¢˜çš„æ ¸å¿ƒæ˜¯å¦‚ä½•åœ¨ä¸æ”¹å˜åŸæœ‰è¿­ä»£å™¨çš„æƒ…å†µä¸‹ï¼Œå®ç° peek æ“ä½œã€‚æœ€ç›´æ¥çš„æ€è·¯æ˜¯ç¼“å­˜ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œè¿™æ ·ï¼š
1. peek æ“ä½œå¯ä»¥ç›´æ¥è¿”å›ç¼“å­˜çš„å…ƒç´ 
2. next æ“ä½œè¿”å›ç¼“å­˜çš„å…ƒç´ å¹¶æ›´æ–°ç¼“å­˜
3. hasNext åªéœ€è¦æ£€æŸ¥ç¼“å­˜æ˜¯å¦ä¸ºç©º

#### ğŸ› ï¸ å®ç°æ­¥éª¤
1. åˆå§‹åŒ–ï¼š
   - ä¿å­˜åŸå§‹è¿­ä»£å™¨çš„å¼•ç”¨
   - ç¼“å­˜ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆå¦‚æœå­˜åœ¨ï¼‰

2. peek æ“ä½œï¼š
   - ç›´æ¥è¿”å›ç¼“å­˜çš„å…ƒç´ 
   - ä¸ç§»åŠ¨æŒ‡é’ˆ

3. next æ“ä½œï¼š
   - è¿”å›å½“å‰ç¼“å­˜çš„å…ƒç´ 
   - æ›´æ–°ç¼“å­˜ä¸ºä¸‹ä¸€ä¸ªå…ƒç´ 
   - å¦‚æœæ²¡æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå°†ç¼“å­˜è®¾ä¸º null

4. hasNext æ“ä½œï¼š
   - æ£€æŸ¥ç¼“å­˜æ˜¯å¦ä¸º null

#### ğŸ§© ç¤ºä¾‹åˆ†æ
ä»¥è¾“å…¥åºåˆ— [1, 2, 3] ä¸ºä¾‹ï¼Œåˆ†æè¿­ä»£å™¨çš„çŠ¶æ€å˜åŒ–ï¼š

| æ“ä½œ | ç¼“å­˜å€¼ | è¿”å›å€¼ | è¯´æ˜ |
|-----|--------|-------|-----|
| åˆå§‹åŒ– | 1 | null | ç¼“å­˜ç¬¬ä¸€ä¸ªå…ƒç´  1 |
| next() | 2 | 1 | è¿”å› 1ï¼Œç¼“å­˜æ›´æ–°ä¸º 2 |
| peek() | 2 | 2 | è¿”å› 2ï¼Œç¼“å­˜ä¸å˜ |
| next() | 3 | 2 | è¿”å› 2ï¼Œç¼“å­˜æ›´æ–°ä¸º 3 |
| next() | null | 3 | è¿”å› 3ï¼Œç¼“å­˜æ›´æ–°ä¸º null |
| hasNext() | null | false | ç¼“å­˜ä¸º nullï¼Œè¿”å› false |

è¯¦ç»†åˆ†ææ¯ä¸ªæ“ä½œï¼š

1. åˆå§‹åŒ–
   ```
   è¾“å…¥ï¼š[1, 2, 3]
   ç¼“å­˜ï¼š1
   çŠ¶æ€ï¼š[1|2,3]
   ```

2. next()
   ```
   è¿”å›ï¼š1
   ç¼“å­˜ï¼š2
   çŠ¶æ€ï¼š[1|2,3]
   ```

3. peek()
   ```
   è¿”å›ï¼š2
   ç¼“å­˜ï¼š2ï¼ˆä¸å˜ï¼‰
   çŠ¶æ€ï¼š[1|2,3]
   ```

4. next()
   ```
   è¿”å›ï¼š2
   ç¼“å­˜ï¼š3
   çŠ¶æ€ï¼š[1,2|3]
   ```

5. next()
   ```
   è¿”å›ï¼š3
   ç¼“å­˜ï¼šnull
   çŠ¶æ€ï¼š[1,2,3|]
   ```

6. hasNext()
   ```
   è¿”å›ï¼šfalse
   ç¼“å­˜ï¼šnull
   çŠ¶æ€ï¼š[1,2,3|]
   ```

---

## ä»£ç å®ç°

å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š[L0284_PeekingIterator.java](../src/main/java/L0284_PeekingIterator.java)

```java
public class L0284_PeekingIterator implements Iterator<Integer> {
    private Iterator<Integer> iterator;
    private Integer nextElement;
    
    public L0284_PeekingIterator(Iterator<Integer> iterator) {
        // åˆå§‹åŒ–æ—¶ï¼Œå°†è¿­ä»£å™¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ç¼“å­˜
        this.iterator = iterator;
        if (iterator.hasNext()) {
            nextElement = iterator.next();
        }
    }
    
    public Integer peek() {
        // ç›´æ¥è¿”å›ç¼“å­˜çš„ä¸‹ä¸€ä¸ªå…ƒç´ 
        return nextElement;
    }
    
    @Override
    public Integer next() {
        // ä¿å­˜å½“å‰ç¼“å­˜çš„å…ƒç´ 
        Integer result = nextElement;
        // æ›´æ–°ç¼“å­˜çš„ä¸‹ä¸€ä¸ªå…ƒç´ 
        nextElement = iterator.hasNext() ? iterator.next() : null;
        return result;
    }
    
    @Override
    public boolean hasNext() {
        // å¦‚æœç¼“å­˜çš„ä¸‹ä¸€ä¸ªå…ƒç´ ä¸ä¸ºç©ºï¼Œè¯´æ˜è¿˜æœ‰å…ƒç´ 
        return nextElement != null;
    }
}
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼š
  - æ„é€ å‡½æ•°ï¼šO(1)ï¼Œåªéœ€è¦ç¼“å­˜ç¬¬ä¸€ä¸ªå…ƒç´ 
  - peekï¼šO(1)ï¼Œç›´æ¥è¿”å›ç¼“å­˜çš„å…ƒç´ 
  - nextï¼šO(1)ï¼Œè¿”å›ç¼“å­˜å¹¶æ›´æ–°ä¸‹ä¸€ä¸ªå…ƒç´ 
  - hasNextï¼šO(1)ï¼Œæ£€æŸ¥ç¼“å­˜æ˜¯å¦ä¸ºç©º

- **ç©ºé—´å¤æ‚åº¦**ï¼šO(1)
  - åªéœ€è¦å­˜å‚¨ä¸€ä¸ªå…ƒç´ çš„ç¼“å­˜
  - ä¸éœ€è¦é¢å¤–çš„æ•°æ®ç»“æ„

---

## LeetCode é¢˜è§£

æœ¬é¢˜è§£æ˜¯ LeetCode ç³»åˆ—é¢˜è§£çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç³»åˆ—é¢˜è§£è‡´åŠ›äºå¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ç®—æ³•æ€ç»´ï¼Œå†…å®¹åŒ…å«è¯¦ç»†çš„è§£é¢˜æ€è·¯åˆ†æã€å›¾æ–‡å¹¶èŒ‚çš„ç¤ºä¾‹è®²è§£å’Œå®Œæ•´çš„ä»£ç å®ç°ã€‚

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode)ï¼šæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿ Star â­ï¸ å…³æ³¨ï¼Œä¸€èµ·æ¢è®¨ç®—æ³•ä¹‹ç¾ã€‚ 