---
title: å­˜åœ¨é‡å¤å…ƒç´  II
date: 2025-02-10
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[å­˜åœ¨é‡å¤å…ƒç´  II](https://leetcode.cn/problems/contains-duplicate-ii/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`æ•°ç»„` `å“ˆå¸Œè¡¨` `æ»‘åŠ¨çª—å£`  
**ğŸŸ¢ éš¾åº¦**ï¼š`ç®€å•`  

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° k ï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„ç´¢å¼• i å’Œ j ï¼Œæ»¡è¶³ nums[i] == nums[j] ä¸” abs(i - j) <= k ã€‚å¦‚æœå­˜åœ¨ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚

ç¤ºä¾‹ 1ï¼š
```
è¾“å…¥ï¼šnums = [1,2,3,1], k = 3
è¾“å‡ºï¼štrue
```

ç¤ºä¾‹ 2ï¼š
```
è¾“å…¥ï¼šnums = [1,0,1,1], k = 1
è¾“å‡ºï¼štrue
```

ç¤ºä¾‹ 3ï¼š
```
è¾“å…¥ï¼šnums = [1,2,3,1,2,3], k = 2
è¾“å‡ºï¼šfalse
```

æç¤ºï¼š
- 1 <= nums.length <= 10âµ
- -10â¹ <= nums[i] <= 10â¹
- 0 <= k <= 10âµ

---

## è§£é¢˜æ€è·¯

### å“ˆå¸Œè¡¨æ³•

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
ä½¿ç”¨å“ˆå¸Œè¡¨ï¼ˆHashMapï¼‰æ¥å­˜å‚¨æ¯ä¸ªæ•°å­—æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚éå†æ•°ç»„æ—¶ï¼Œå¯¹äºæ¯ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬æ£€æŸ¥ï¼š
1. è¿™ä¸ªæ•°å­—æ˜¯å¦ä¹‹å‰å‡ºç°è¿‡
2. å¦‚æœå‡ºç°è¿‡ï¼Œå½“å‰ä½ç½®ä¸ä¸Šä¸€æ¬¡å‡ºç°çš„ä½ç½®ä¹‹å·®æ˜¯å¦ä¸è¶…è¿‡ k

è¿™ç§æ–¹æ³•å¯ä»¥åœ¨ O(1) çš„æ—¶é—´å†…åˆ¤æ–­ä¸€ä¸ªæ•°å­—æ˜¯å¦æ»¡è¶³æ¡ä»¶ã€‚

#### ğŸ› ï¸ å®ç°æ­¥éª¤
1. åˆ›å»ºä¸€ä¸ª HashMapï¼Œç”¨äºå­˜å‚¨æ•°å­—åˆ°å…¶æœ€åå‡ºç°ä½ç½®çš„æ˜ å°„
2. éå†æ•°ç»„ï¼Œå¯¹äºæ¯ä¸ªæ•°å­—ï¼š
   - æ£€æŸ¥è¿™ä¸ªæ•°å­—æ˜¯å¦åœ¨ HashMap ä¸­
   - å¦‚æœåœ¨ï¼Œè®¡ç®—å½“å‰ä½ç½®ä¸ä¸Šä¸€æ¬¡å‡ºç°ä½ç½®çš„å·®ï¼Œåˆ¤æ–­æ˜¯å¦å°äºç­‰äº k
   - æ— è®ºæ˜¯å¦æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„å¯¹ï¼Œéƒ½æ›´æ–°è¿™ä¸ªæ•°å­—çš„æœ€æ–°ä½ç½®

#### ğŸ§© ç¤ºä¾‹åˆ†æ
ä»¥è¾“å…¥ `nums = [1,2,3,1], k = 3` ä¸ºä¾‹ï¼š

1. åˆå§‹çŠ¶æ€ï¼š
   ```
   HashMap: {}
   ```

2. å¤„ç† nums[0] = 1ï¼š
   ```
   HashMap: {1:0}
   ç»“æœï¼šç»§ç»­éå†
   ```

3. å¤„ç† nums[1] = 2ï¼š
   ```
   HashMap: {1:0, 2:1}
   ç»“æœï¼šç»§ç»­éå†
   ```

4. å¤„ç† nums[2] = 3ï¼š
   ```
   HashMap: {1:0, 2:1, 3:2}
   ç»“æœï¼šç»§ç»­éå†
   ```

5. å¤„ç† nums[3] = 1ï¼š
   ```
   HashMap: {1:0, 2:1, 3:2}
   å‘ç° 1 åœ¨ä½ç½® 0 å‡ºç°è¿‡
   è®¡ç®—ï¼š3 - 0 = 3 <= k(3)
   ç»“æœï¼šè¿”å› true
   ```

---

## ä»£ç å®ç°

å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š[L0219_ContainsDuplicateII.java](../src/main/java/L0219_ContainsDuplicateII.java)

```java
public boolean containsNearbyDuplicate(int[] nums, int k) {
    // ä½¿ç”¨ HashMap å­˜å‚¨æ¯ä¸ªæ•°å­—æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®
    Map<Integer, Integer> numMap = new HashMap<>();
    
    // éå†æ•°ç»„
    for (int i = 0; i < nums.length; i++) {
        // å¦‚æœå½“å‰æ•°å­—å·²ç»åœ¨ map ä¸­ï¼Œæ£€æŸ¥ç´¢å¼•å·®æ˜¯å¦å°äºç­‰äº k
        if (numMap.containsKey(nums[i])) {
            int prevIndex = numMap.get(nums[i]);
            if (i - prevIndex <= k) {
                return true;
            }
        }
        // æ›´æ–°å½“å‰æ•°å­—çš„ä½ç½®
        numMap.put(nums[i], i);
    }
    
    return false;
}
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„çš„é•¿åº¦
  - éœ€è¦éå†æ•°ç»„ä¸€æ¬¡
  - HashMap çš„æŸ¥æ‰¾å’Œæ’å…¥æ“ä½œçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(1)

- **ç©ºé—´å¤æ‚åº¦**ï¼šO(min(n, k))
  - éœ€è¦ä½¿ç”¨ HashMap å­˜å‚¨æ•°å­—åŠå…¶ä½ç½®
  - æœ€å¤šéœ€è¦å­˜å‚¨ min(n, k) ä¸ªä¸åŒçš„æ•°å­—
  - å› ä¸ºå¦‚æœä¸¤ä¸ªç›¸åŒæ•°å­—çš„è·ç¦»å¤§äº kï¼Œå¯ä»¥åˆ é™¤è¾ƒæ—©çš„è®°å½•

---

## LeetCode é¢˜è§£

æœ¬é¢˜è§£æ˜¯ LeetCode ç³»åˆ—é¢˜è§£çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç³»åˆ—é¢˜è§£è‡´åŠ›äºå¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ç®—æ³•æ€ç»´ï¼Œå†…å®¹åŒ…å«è¯¦ç»†çš„è§£é¢˜æ€è·¯åˆ†æã€å›¾æ–‡å¹¶èŒ‚çš„ç¤ºä¾‹è®²è§£å’Œå®Œæ•´çš„ä»£ç å®ç°ã€‚

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode)ï¼šæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿ Star â­ï¸ å…³æ³¨ï¼Œä¸€èµ·æ¢è®¨ç®—æ³•ä¹‹ç¾ã€‚ 