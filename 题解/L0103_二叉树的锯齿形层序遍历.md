---
title: äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†
date: 2025-02-09
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†](https://leetcode.cn/problems/binary-tree-zigzag-level-order-traversal/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`æ ‘` `å¹¿åº¦ä¼˜å…ˆæœç´¢` `äºŒå‰æ ‘`  
**ğŸŸ¡ éš¾åº¦**ï¼š`ä¸­ç­‰`  

ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ root ï¼Œè¿”å›å…¶èŠ‚ç‚¹å€¼çš„ é”¯é½¿å½¢å±‚åºéå† ã€‚ï¼ˆå³å…ˆä»å·¦å¾€å³ï¼Œå†ä»å³å¾€å·¦è¿›è¡Œä¸‹ä¸€å±‚éå†ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå±‚ä¸å±‚ä¹‹é—´äº¤æ›¿è¿›è¡Œï¼‰ã€‚

ç¤ºä¾‹ 1ï¼š
![img](https://assets.leetcode.com/uploads/2021/02/19/tree1.jpg)
```
è¾“å…¥ï¼šroot = [3,9,20,null,null,15,7]
è¾“å‡ºï¼š[[3],[20,9],[15,7]]
```

ç¤ºä¾‹ 2ï¼š
```
è¾“å…¥ï¼šroot = [1]
è¾“å‡ºï¼š[[1]]
```

ç¤ºä¾‹ 3ï¼š
```
è¾“å…¥ï¼šroot = []
è¾“å‡ºï¼š[]
```

æç¤ºï¼š
- æ ‘ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ [0, 2000] å†…
- -100 <= Node.val <= 100

---

## è§£é¢˜æ€è·¯
### å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰+ åŒç«¯é˜Ÿåˆ—

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
æœ¬é¢˜æ˜¯ç¬¬ 102 é¢˜"äºŒå‰æ ‘çš„å±‚åºéå†"çš„å˜ä½“ï¼Œä¸»è¦åŒºåˆ«åœ¨äºéœ€è¦æŒ‰ç…§é”¯é½¿å½¢çš„æ–¹å¼éå†æ¯ä¸€å±‚ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æ™®é€šå±‚åºéå†çš„åŸºç¡€ä¸Šï¼Œå¢åŠ ä¸€ä¸ªæ ‡å¿—ä½æ¥æ§åˆ¶æ¯å±‚éå†çš„æ–¹å‘ã€‚

ä¸»è¦æ€è·¯ï¼š
1. ä½¿ç”¨é˜Ÿåˆ—è¿›è¡Œå±‚åºéå†
2. ä½¿ç”¨åŒç«¯é˜Ÿåˆ—å­˜å‚¨æ¯å±‚çš„èŠ‚ç‚¹å€¼
3. ä½¿ç”¨å¸ƒå°”æ ‡å¿—ä½æ§åˆ¶éå†æ–¹å‘
4. æ ¹æ®æ–¹å‘å†³å®šä»åŒç«¯é˜Ÿåˆ—çš„å¤´éƒ¨è¿˜æ˜¯å°¾éƒ¨æ·»åŠ èŠ‚ç‚¹å€¼

#### ğŸ› ï¸ å®ç°æ­¥éª¤
1. ç‰¹æ®Šæƒ…å†µå¤„ç†ï¼š
   - å¦‚æœæ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œè¿”å›ç©ºåˆ—è¡¨

2. åˆå§‹åŒ–ï¼š
   - åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—ï¼Œå°†æ ¹èŠ‚ç‚¹å…¥é˜Ÿ
   - åˆ›å»ºä¸€ä¸ªå¸ƒå°”å˜é‡ isReverse æ ‡è®°å½“å‰å±‚çš„éå†æ–¹å‘
   - åˆ›å»ºç»“æœåˆ—è¡¨ï¼Œç”¨äºå­˜å‚¨æ¯å±‚çš„èŠ‚ç‚¹å€¼

3. BFS è¿‡ç¨‹ï¼š
   - å½“é˜Ÿåˆ—ä¸ä¸ºç©ºæ—¶ï¼Œå¾ªç¯å¤„ç†ï¼š
     * è·å–å½“å‰å±‚çš„èŠ‚ç‚¹æ•°
     * åˆ›å»ºåŒç«¯é˜Ÿåˆ—å­˜å‚¨å½“å‰å±‚çš„èŠ‚ç‚¹å€¼
     * å¤„ç†å½“å‰å±‚çš„æ‰€æœ‰èŠ‚ç‚¹ï¼š
       - å‡ºé˜Ÿä¸€ä¸ªèŠ‚ç‚¹
       - æ ¹æ® isReverse å†³å®šä»åŒç«¯é˜Ÿåˆ—çš„å¤´éƒ¨è¿˜æ˜¯å°¾éƒ¨æ·»åŠ èŠ‚ç‚¹å€¼
       - å°†èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹ï¼ˆå¦‚æœå­˜åœ¨ï¼‰å…¥é˜Ÿ
     * å°†å½“å‰å±‚çš„ç»“æœåŠ å…¥æœ€ç»ˆç»“æœ
     * åˆ‡æ¢éå†æ–¹å‘ï¼ˆisReverse = !isReverseï¼‰

4. è¿”å›æœ€ç»ˆç»“æœ

#### ğŸ§© ç¤ºä¾‹åˆ†æ
ä»¥ç¤ºä¾‹ 1 ä¸ºä¾‹ï¼Œåˆ†æéå†è¿‡ç¨‹ï¼š
```
     3
   /   \
  9    20
      /  \
     15   7
```

éå†è¿‡ç¨‹ï¼š

1. åˆå§‹çŠ¶æ€ï¼š
   ```
   é˜Ÿåˆ—ï¼š[3]
   ç»“æœï¼š[]
   isReverseï¼šfalse
   ```

2. å¤„ç†ç¬¬ä¸€å±‚ï¼ˆä»å·¦åˆ°å³ï¼‰ï¼š
   ```
   å½“å‰å±‚å¤§å°ï¼š1
   å‡ºé˜Ÿï¼š3
   å…¥é˜Ÿå­èŠ‚ç‚¹ï¼š9, 20
   å½“å‰å±‚ç»“æœï¼š[3]
   é˜Ÿåˆ—ï¼š[9, 20]
   ç»“æœï¼š[[3]]
   isReverseï¼štrue
   ```

3. å¤„ç†ç¬¬äºŒå±‚ï¼ˆä»å³åˆ°å·¦ï¼‰ï¼š
   ```
   å½“å‰å±‚å¤§å°ï¼š2
   å‡ºé˜Ÿï¼š9, 20
   å…¥é˜Ÿå­èŠ‚ç‚¹ï¼š15, 7
   å½“å‰å±‚ç»“æœï¼š[20, 9]
   é˜Ÿåˆ—ï¼š[15, 7]
   ç»“æœï¼š[[3], [20,9]]
   isReverseï¼šfalse
   ```

4. å¤„ç†ç¬¬ä¸‰å±‚ï¼ˆä»å·¦åˆ°å³ï¼‰ï¼š
   ```
   å½“å‰å±‚å¤§å°ï¼š2
   å‡ºé˜Ÿï¼š15, 7
   å…¥é˜Ÿå­èŠ‚ç‚¹ï¼šæ— 
   å½“å‰å±‚ç»“æœï¼š[15, 7]
   é˜Ÿåˆ—ï¼š[]
   ç»“æœï¼š[[3], [20,9], [15,7]]
   isReverseï¼štrue
   ```

5. é˜Ÿåˆ—ä¸ºç©ºï¼Œéå†ç»“æŸ

---

## ä»£ç å®ç°

å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š[L0103_BinaryTreeZigzagLevelOrderTraversal.java](../src/main/java/L0103_BinaryTreeZigzagLevelOrderTraversal.java)

```java
public class L0103_BinaryTreeZigzagLevelOrderTraversal {
    public List<List<Integer>> zigzagLevelOrder(TreeNode root) {
        List<List<Integer>> result = new ArrayList<>();
        if (root == null) {
            return result;
        }

        // ä½¿ç”¨é˜Ÿåˆ—è¿›è¡Œå±‚åºéå†
        Queue<TreeNode> queue = new LinkedList<>();
        queue.offer(root);
        // æ ‡è®°æ˜¯å¦éœ€è¦åè½¬å½“å‰å±‚çš„éå†ç»“æœ
        boolean isReverse = false;

        while (!queue.isEmpty()) {
            // å½“å‰å±‚çš„èŠ‚ç‚¹æ•°
            int levelSize = queue.size();
            // ä½¿ç”¨åŒç«¯é˜Ÿåˆ—å­˜å‚¨å½“å‰å±‚çš„èŠ‚ç‚¹å€¼
            LinkedList<Integer> currentLevel = new LinkedList<>();

            // éå†å½“å‰å±‚çš„æ‰€æœ‰èŠ‚ç‚¹
            for (int i = 0; i < levelSize; i++) {
                TreeNode node = queue.poll();
                
                // æ ¹æ®æ–¹å‘å†³å®šæ˜¯ä»å¤´éƒ¨è¿˜æ˜¯å°¾éƒ¨æ·»åŠ èŠ‚ç‚¹å€¼
                if (isReverse) {
                    currentLevel.addFirst(node.val);
                } else {
                    currentLevel.addLast(node.val);
                }

                // å°†ä¸‹ä¸€å±‚çš„èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—
                if (node.left != null) {
                    queue.offer(node.left);
                }
                if (node.right != null) {
                    queue.offer(node.right);
                }
            }

            // å°†å½“å‰å±‚çš„ç»“æœåŠ å…¥æœ€ç»ˆç»“æœ
            result.add(currentLevel);
            // åˆ‡æ¢æ–¹å‘
            isReverse = !isReverse;
        }

        return result;
    }
}
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(n)
  - æ¯ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦å…¥é˜Ÿå’Œå‡ºé˜Ÿä¸€æ¬¡
  - æ¯ä¸ªèŠ‚ç‚¹å€¼éƒ½éœ€è¦æ·»åŠ åˆ°ç»“æœåˆ—è¡¨ä¸­ä¸€æ¬¡
  - n æ˜¯äºŒå‰æ ‘ä¸­çš„èŠ‚ç‚¹æ•°

- **ç©ºé—´å¤æ‚åº¦**ï¼šO(w)
  - w æ˜¯äºŒå‰æ ‘çš„æœ€å¤§å®½åº¦
  - é˜Ÿåˆ—ä¸­æœ€å¤šåŒæ—¶å­˜åœ¨ä¸€å±‚çš„æ‰€æœ‰èŠ‚ç‚¹
  - æœ€åæƒ…å†µä¸‹ï¼ˆå®Œå…¨äºŒå‰æ ‘çš„æœ€åä¸€å±‚ï¼‰ä¸º O(n/2) = O(n)
  - å¹³å‡æƒ…å†µä¸‹ä¸º O(log n)

---

## LeetCode é¢˜è§£

æœ¬é¢˜è§£æ˜¯ LeetCode ç³»åˆ—é¢˜è§£çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç³»åˆ—é¢˜è§£è‡´åŠ›äºå¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ç®—æ³•æ€ç»´ï¼Œå†…å®¹åŒ…å«è¯¦ç»†çš„è§£é¢˜æ€è·¯åˆ†æã€å›¾æ–‡å¹¶èŒ‚çš„ç¤ºä¾‹è®²è§£å’Œå®Œæ•´çš„ä»£ç å®ç°ã€‚

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode)ï¼šæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿ Star â­ï¸ å…³æ³¨ï¼Œä¸€èµ·æ¢è®¨ç®—æ³•ä¹‹ç¾ã€‚ 