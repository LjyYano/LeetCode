---
title: 两整数之和
date: 2025-02-11
---

## 题目描述

**🔗 题目**：[两整数之和](https://leetcode.cn/problems/sum-of-two-integers/)  
**🏷️ 标签**：`位运算` `数学`  
**🟡 难度**：`中等`  

给你两个整数 a 和 b ，不使用 运算符 + 和 - ，计算并返回两整数之和。

示例 1：
```
输入：a = 1, b = 2
输出：3
```

示例 2：
```
输入：a = 2, b = 3
输出：5
```

提示：
* -1000 <= a, b <= 1000

---

## 解题思路
### 位运算法

#### 📝 核心思想
在不使用加法和减法运算符的情况下，我们可以使用位运算来模拟加法的过程。加法可以分解为两个部分：
1. 无进位加法：使用异或运算（^）实现
2. 进位：使用与运算（&）和左移（<<）实现

这个过程类似于我们手动计算加法时的步骤，只是使用位运算来代替。

#### 🛠️ 实现步骤
1. 使用异或运算计算无进位加法结果
2. 使用与运算和左移计算进位
3. 重复上述步骤，直到没有进位为止

#### 🧩 示例分析
以 `a = 2, b = 3` 为例：

| 步骤 | a | b | 无进位和(a^b) | 进位((a&b)<<1) | 说明 |
|-----|---|---|--------------|----------------|------|
| 初始状态 | 0010 | 0011 | - | - | a=2, b=3 |
| 第一轮 | 0001 | 0100 | 0001 (1) | 0100 (4) | 2^3=1, (2&3)<<1=4 |
| 第二轮 | 0101 | 0000 | 0101 (5) | 0000 (0) | 1^4=5, (1&4)<<1=0 |
| 结束 | 0101 | 0000 | - | - | 最终结果为 5 |

详细分析每一步的位运算：

1. 第一轮：
```
a = 2     = 0010
b = 3     = 0011
a^b       = 0001 (无进位和)
(a&b)<<1  = 0100 (进位)
```

2. 第二轮：
```
a = 1     = 0001
b = 4     = 0100
a^b       = 0101 (无进位和)
(a&b)<<1  = 0000 (进位为 0，结束)
```

为什么这样可以实现加法？
- 异或运算（^）可以实现无进位加法：
  * 0 ^ 0 = 0
  * 0 ^ 1 = 1
  * 1 ^ 0 = 1
  * 1 ^ 1 = 0（这里产生进位）

- 与运算（&）和左移（<<1）可以得到进位：
  * 0 & 0 = 0 << 1 = 0
  * 0 & 1 = 0 << 1 = 0
  * 1 & 0 = 0 << 1 = 0
  * 1 & 1 = 1 << 1 = 10（二进制）

---

## 代码实现

完整的可运行代码：[L0371_SumOfTwoIntegers.java](../src/main/java/L0371_SumOfTwoIntegers.java)

```java
public int getSum(int a, int b) {
    // 使用位运算实现加法
    // a ^ b 得到无进位的加法结果
    // (a & b) << 1 得到进位结果
    while (b != 0) {
        // 计算进位
        int carry = (a & b) << 1;
        // 计算无进位加法
        a = a ^ b;
        // 将进位赋值给 b，继续循环直到没有进位
        b = carry;
    }
    return a;
}
```

---

## 复杂度分析

- **时间复杂度**：O(1)
  - 由于整数是固定的 32 位，所以循环的次数是有限的
  - 最坏情况下也只需要循环 32 次

- **空间复杂度**：O(1)
  - 只使用了几个变量来存储中间结果
  - 不需要额外的空间

---

## LeetCode 题解

本题解是 LeetCode 系列题解的一部分。该系列题解致力于帮助程序员更好地理解和掌握算法思维，内容包含详细的解题思路分析、图文并茂的示例讲解和完整的代码实现。

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode 最全题解](https://github.com/LjyYano/LeetCode)：持续更新中，欢迎 Star ⭐️ 关注，一起探讨算法之美。 