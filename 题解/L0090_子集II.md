---
title: å­é›† II
date: 2025-02-09
---

## é¢˜ç›®æè¿°

**ğŸ”— é¢˜ç›®**ï¼š[å­é›† II](https://leetcode.cn/problems/subsets-ii/)  
**ğŸ·ï¸ æ ‡ç­¾**ï¼š`æ•°ç»„` `å›æº¯` `ä½è¿ç®—`  
**ğŸŸ¡ éš¾åº¦**ï¼š`ä¸­ç­‰`  

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œå…¶ä¸­å¯èƒ½åŒ…å«é‡å¤å…ƒç´ ï¼Œè¯·ä½ è¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚

è§£é›† ä¸èƒ½ åŒ…å«é‡å¤çš„å­é›†ã€‚è¿”å›çš„è§£é›†ä¸­ï¼Œå­é›†å¯ä»¥æŒ‰ ä»»æ„é¡ºåº æ’åˆ—ã€‚

ç¤ºä¾‹ 1ï¼š
```
è¾“å…¥ï¼šnums = [1,2,2]
è¾“å‡ºï¼š[[],[1],[1,2],[1,2,2],[2],[2,2]]
```

ç¤ºä¾‹ 2ï¼š
```
è¾“å…¥ï¼šnums = [0]
è¾“å‡ºï¼š[[],[0]]
```

æç¤ºï¼š
- 1 <= nums.length <= 10
- -10 <= nums[i] <= 10

---

## è§£é¢˜æ€è·¯
### å›æº¯æ³•

#### ğŸ“ æ ¸å¿ƒæ€æƒ³
æœ¬é¢˜æ˜¯ç¬¬ 78 é¢˜"å­é›†"çš„è¿›é˜¶ç‰ˆæœ¬ï¼ŒåŒºåˆ«åœ¨äºæ•°ç»„ä¸­å¯èƒ½åŒ…å«é‡å¤å…ƒç´ ã€‚ä¸ºäº†é¿å…ç”Ÿæˆé‡å¤çš„å­é›†ï¼Œæˆ‘ä»¬éœ€è¦ï¼š

1. å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œä½¿ç›¸åŒçš„å…ƒç´ ç›¸é‚»
2. åœ¨ç”Ÿæˆå­é›†çš„è¿‡ç¨‹ä¸­è·³è¿‡é‡å¤å…ƒç´ 
3. ä½¿ç”¨å›æº¯æ³•ç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å­é›†

å…³é”®ç‚¹æ˜¯å¦‚ä½•å¤„ç†é‡å¤å…ƒç´ ï¼šå¯¹äºé‡å¤å…ƒç´ ï¼Œæˆ‘ä»¬åªåœ¨ç¬¬ä¸€æ¬¡å‡ºç°æ—¶è€ƒè™‘å®ƒå¯èƒ½å‡ºç°çš„æ¬¡æ•°ï¼Œåé¢é‡å¤å‡ºç°çš„å…ƒç´ ç›´æ¥è·³è¿‡ã€‚

#### ğŸ› ï¸ å®ç°æ­¥éª¤
1. å¯¹æ•°ç»„è¿›è¡Œæ’åº
2. ä½¿ç”¨å›æº¯æ³•ç”Ÿæˆå­é›†ï¼š
   - æ¯æ¬¡é€’å½’å…ˆå°†å½“å‰å­é›†åŠ å…¥ç»“æœé›†
   - ä»å½“å‰ä½ç½®å¼€å§‹éå†æ•°ç»„
   - è·³è¿‡é‡å¤å…ƒç´ 
   - é€‰æ‹©å½“å‰å…ƒç´ ï¼Œé€’å½’ç”Ÿæˆå­é›†
   - æ’¤é”€é€‰æ‹©ï¼Œç»§ç»­éå†

#### ğŸ§© ç¤ºä¾‹åˆ†æ
ä»¥ç¤ºä¾‹ 1 ä¸ºä¾‹ï¼Œåˆ†ææ•´ä¸ªè¿‡ç¨‹ï¼š
```
è¾“å…¥ï¼šnums = [1,2,2]
```

å›æº¯è¿‡ç¨‹è¡¨æ ¼è¯´æ˜ï¼š

| æ­¥éª¤ | å½“å‰å­é›† | é€‰æ‹©åˆ—è¡¨ | ç»“æœé›† | è¯´æ˜ |
|-----|---------|---------|--------|------|
| 1 | [] | [1,2,2] | [[]] | åˆå§‹ç©ºé›† |
| 2 | [1] | [2,2] | [[],[1]] | é€‰æ‹© 1 |
| 3 | [1,2] | [2] | [[],[1],[1,2]] | é€‰æ‹©ç¬¬ä¸€ä¸ª 2 |
| 4 | [1,2,2] | [] | [[],[1],[1,2],[1,2,2]] | é€‰æ‹©ç¬¬äºŒä¸ª 2 |
| 5 | [2] | [2] | [[],[1],[1,2],[1,2,2],[2]] | å›æº¯åˆ°æ ¹ï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ª 2 |
| 6 | [2,2] | [] | [[],[1],[1,2],[1,2,2],[2],[2,2]] | é€‰æ‹©ç¬¬äºŒä¸ª 2 |

é€’å½’æ ‘å±•ç¤ºï¼š
```
                    []
                /   |   \
               1    2    2(è·³è¿‡)
              /    |
             2     2
            /
           2
```

å¤„ç†é‡å¤å…ƒç´ çš„å…³é”®ï¼š
1. åœ¨åŒä¸€å±‚é€’å½’ä¸­ï¼Œå¦‚æœé‡åˆ°é‡å¤å…ƒç´ ï¼Œåªè€ƒè™‘ç¬¬ä¸€ä¸ª
2. åœ¨ä¸åŒå±‚é€’å½’ä¸­ï¼Œå¯ä»¥é€‰æ‹©é‡å¤å…ƒç´ 
3. é€šè¿‡ `if (i > start && nums[i] == nums[i - 1]) continue;` å®ç°å»é‡

---

## ä»£ç å®ç°

å®Œæ•´çš„å¯è¿è¡Œä»£ç ï¼š[L0090_SubsetsII.java](../src/main/java/L0090_SubsetsII.java)

```java
public List<List<Integer>> subsetsWithDup(int[] nums) {
    List<List<Integer>> result = new ArrayList<>();
    // å…ˆå°†æ•°ç»„æ’åºï¼Œè¿™æ ·ç›¸åŒçš„æ•°å­—ä¼šç›¸é‚»
    Arrays.sort(nums);
    // å›æº¯ç”Ÿæˆæ‰€æœ‰å­é›†
    backtrack(nums, 0, new ArrayList<>(), result);
    return result;
}

private void backtrack(int[] nums, int start, List<Integer> current, List<List<Integer>> result) {
    // å°†å½“å‰å­é›†åŠ å…¥ç»“æœé›†
    result.add(new ArrayList<>(current));
    
    // ä» start å¼€å§‹éå†ï¼Œé¿å…é‡å¤
    for (int i = start; i < nums.length; i++) {
        // è·³è¿‡é‡å¤å…ƒç´ ï¼Œç¡®ä¿æ¯ä¸ªæ•°å­—åœ¨ç›¸åŒä½ç½®åªè¢«ä½¿ç”¨ä¸€æ¬¡
        if (i > start && nums[i] == nums[i - 1]) {
            continue;
        }
        // é€‰æ‹©å½“å‰å…ƒç´ 
        current.add(nums[i]);
        // é€’å½’ç”Ÿæˆå­é›†ï¼Œä» i+1 å¼€å§‹ï¼Œé¿å…é‡å¤ä½¿ç”¨å½“å‰å…ƒç´ 
        backtrack(nums, i + 1, current, result);
        // æ’¤é”€é€‰æ‹©
        current.remove(current.size() - 1);
    }
}
```

---

## å¤æ‚åº¦åˆ†æ

- **æ—¶é—´å¤æ‚åº¦**ï¼šO(n Ã— 2â¿)
  - å¯¹äºé•¿åº¦ä¸º n çš„æ•°ç»„ï¼Œå…±æœ‰ 2â¿ ä¸ªå­é›†
  - ç”Ÿæˆæ¯ä¸ªå­é›†æ—¶éœ€è¦ O(n) çš„æ—¶é—´å¤åˆ¶å½“å‰å­é›†
  - å› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º O(n Ã— 2â¿)

- **ç©ºé—´å¤æ‚åº¦**ï¼šO(n)
  - é€’å½’è°ƒç”¨æ ˆçš„æ·±åº¦æœ€å¤§ä¸º n
  - ä¸´æ—¶å­˜å‚¨å½“å‰å­é›†éœ€è¦ O(n) çš„ç©ºé—´
  - ä¸è€ƒè™‘å­˜å‚¨ç»“æœæ‰€éœ€çš„ç©ºé—´

---

## LeetCode é¢˜è§£

æœ¬é¢˜è§£æ˜¯ LeetCode ç³»åˆ—é¢˜è§£çš„ä¸€éƒ¨åˆ†ã€‚è¯¥ç³»åˆ—é¢˜è§£è‡´åŠ›äºå¸®åŠ©ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ç®—æ³•æ€ç»´ï¼Œå†…å®¹åŒ…å«è¯¦ç»†çš„è§£é¢˜æ€è·¯åˆ†æã€å›¾æ–‡å¹¶èŒ‚çš„ç¤ºä¾‹è®²è§£å’Œå®Œæ•´çš„ä»£ç å®ç°ã€‚

<img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub" width="20" style="vertical-align: middle; margin-right: 5px"> [LeetCode æœ€å…¨é¢˜è§£](https://github.com/LjyYano/LeetCode)ï¼šæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿ Star â­ï¸ å…³æ³¨ï¼Œä¸€èµ·æ¢è®¨ç®—æ³•ä¹‹ç¾ã€‚ 